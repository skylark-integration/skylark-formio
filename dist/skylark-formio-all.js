/**
 * skylark-formio - A version of formio.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-formio/
 * @license MIT
 */
!function(e,t){var n=t.define,require=t.require,r="function"==typeof n&&n.amd,s=!r&&"undefined"!=typeof exports;if(!r&&!n){var o={};n=t.define=function(e,t,n){"function"==typeof n?(o[e]={factory:n,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var n=t.split("/"),i=e.split("/");n.pop();for(var r=0;r<i.length;r++)"."!=i[r]&&(".."==i[r]?n.pop():n.push(i[r]));return n.join("/")}(t,e)}),resolved:!1,exports:null},require(e)):o[e]={factory:null,resolved:!0,exports:n}},require=t.require=function(e){if(!o.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=o[e];if(!module.resolved){var n=[];module.deps.forEach(function(e){n.push(require(e))}),module.exports=module.factory.apply(t,n)||null,module.resolved=!0}return module.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-langx-ns/_attach",[],function(){return function(e,t,n){"string"==typeof t&&(t=t.split("."));for(var i=t.length,r=e,s=0,o=t[s++];s<i;)r=r[o]=r[o]||{},o=t[s++];if(r[o]){if(n)throw new Error("This namespace already exists:"+t)}else r[o]=n||{};return r[o]}}),e("skylark-langx-ns/ns",["./_attach"],function(e){var t={attach:function(n,i){return e(t,n,i)}};return t}),e("skylark-langx-ns/main",["./ns"],function(e){return e}),e("skylark-langx-ns",["skylark-langx-ns/main"],function(e){return e}),e("skylark-langx/skylark",["skylark-langx-ns"],function(e){return e}),e("skylark-langx-arrays/arrays",["skylark-langx-ns"],function(e){return e.attach("langx.arrays")}),e("skylark-langx-arrays/base-find-index",["./arrays"],function(e){return e.baseFindIndex=function(e,t,n,i){var r=e.length,s=n+(i?1:-1);for(;i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}}),e("skylark-langx-arrays/base-indexof",["./arrays","./base-find-index"],function(e,t){function n(e){return e!=e}return e.baseIndexOf=function(e,i,r){if(i!=i)return t(e,n,r);var s=r-1,o=e.length;for(;++s<o;)if(e[s]===i)return s;return-1}}),e("skylark-langx-arrays/filter",["./arrays"],function(e){var t=Array.prototype.filter;return e.filter=function(e,n){return t.call(e,n)}}),e("skylark-langx-arrays/compact",["./arrays","./filter"],function(e,t){return e.compact=function(e){return t.call(e,function(e){return null!=e})}}),e("skylark-langx-arrays/in-array",["./arrays"],function(e){return e.inArray=function(e,t){if(!t)return-1;var n;if(t.indexOf)return t.indexOf(e);n=t.length;for(;n--;)if(t[n]===e)return n;return-1}}),e("skylark-langx-arrays/contains",["./arrays","./in-array"],function(e,t){return e.contains=function(e,n){return t(n,e)}}),e("skylark-langx-funcs/funcs",["skylark-langx-ns"],function(e,t,n){return e.attach("langx.funcs",{noop:function(){},returnTrue:function(){return!0},returnFalse:function(){return!1}})}),e("skylark-langx-funcs/rest-arguments",["./funcs"],function(e){return e.restArguments=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var s=Array(t+1);for(r=0;r<t;r++)s[r]=arguments[r];return s[t]=i,e.apply(this,s)}}}),e("skylark-langx-funcs/bind-all",["./funcs","./rest-arguments"],function(e,t){return e.bindAll=t(function(e,t){var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=e[i].bind(e)}})}),e("skylark-langx-types/types",["skylark-langx-ns"],function(e){var t,n=Array.isArray,i={}.toString,r=(t={},"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(e){t["[object "+e+"]"]=e.toLowerCase()}),function(e){return null==e?String(e):t[i.call(e)]||"object"}),s=n||function(e){return object&&object.constructor===Array};function o(e){var t;for(t in e)if(null!==e[t])return!1;return!0}function a(e){return"function"==r(e)}function l(e){return e&&e.nodeType}function u(e){return"number"==typeof e}function c(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function h(e){return"string"==typeof e}function d(e){return e&&e==e.window}function p(e){return"symbol"==typeof e}var f=1/0,m=1.7976931348623157e308,g=NaN,y=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,k=/^0o[0-7]+$/i,w=parseInt;function x(e){if(!e)return 0===e?e:0;if((e=_(e))===f||e===-f){var t=e<0?-1:1;return t*m}return e==e?e:0}function _(e){if("number"==typeof e)return e;if(p(e))return g;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(y,"");var n=b.test(e);return n||k.test(e)?w(e.slice(2),n?2:8):v.test(e)?g:+e}return e.attach("langx.types",{isArray:s,isArrayLike:function(e){return!h(e)&&!l(e)&&"number"==typeof e.length&&!a(e)},isBoolean:function(e){return!0===e||!1===e||"[object Boolean]"===i.call(e)},isDefined:function(e){return void 0!==e},isDocument:function(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE},isElement:function(e){return!(!e||1!==e.nodeType)},isEmpty:o,isEmptyObject:o,isFunction:a,isHtmlNode:l,isNaN:function(e){return isNaN(e)},isNull:function(e){return null===e},isNumber:u,isNumeric:u,isObject:c,isPlainObject:function(e){return c(e)&&!d(e)&&Object.getPrototypeOf(e)==Object.prototype},isString:h,isSameOrigin:function(e){if(e){var t=location.protocol+"//"+location.hostname;return location.port&&(t+=":"+location.port),e.startsWith(t)}},isSymbol:p,isUndefined:function(e){return void 0===e},isWindow:d,type:r,toFinite:x,toNumber:_,toInteger:function(e){var t=x(e),n=t%1;return t==t?n?t-n:t:0}})}),e("skylark-langx-types/main",["./types"],function(e){return e}),e("skylark-langx-types",["skylark-langx-types/main"],function(e){return e}),e("skylark-langx-funcs/defer",["skylark-langx-types","./funcs"],function(e,t){return t.defer=function(t,n,i,r){var s={cancel:null},o=t;e.isNumber(n)||e.isFunction(n)||(r=i,i=n,n=0);i&&(o=function(){t.apply(r,i)});if(e.isFunction(n)){var a=!1;n(function(){a||o()}),s.cancel=function(){a=!0}}else{var l;0==n&&requestAnimationFrame?(l=requestAnimationFrame(o),s.cancel=function(){return cancelAnimationFrame(l)}):(l=setTimeout(o,n),s.cancel=function(){return clearTimeout(l)})}return s}}),e("skylark-langx-funcs/debounce",["./funcs","./defer"],function(e,t){return e.debounce=function(e,n,i){var r,s,o=function(){var o=this,l=arguments;return a(),r=setTimeout(function(){r=null,i?s=t(e,l,o):e.apply(o,l)},n),{cancel:a}},a=o.cancel=function(){r&&clearTimeout(r),s&&s.cancel(),r=void 0,s=void 0};return o}}),e("skylark-langx-objects/objects",["skylark-langx-ns","skylark-langx-types"],function(e,t){return e.attach("langx.objects",{attach:e.attach})}),e("skylark-langx-objects/all-keys",["skylark-langx-types","./objects"],function(e,t){return t.allKeys=function(t){if(!e.isObject(t))return[];var n=[];for(var i in t)n.push(i);return n}}),e("skylark-langx-objects/assign",["skylark-langx-types","./objects"],function(e,t){return t.assign=Object.assign}),e("skylark-langx-objects/to-key",["skylark-langx-types","./objects"],function(e,t){const n=e.isSymbol,i=e.isString,r=1/0;return t.toKey=function(e){if(i(e)||n(e))return e;const t=`${e}`;return"0"==t&&1/e==-r?"-0":t}}),e("skylark-langx-objects/is-key",["skylark-langx-types","./objects"],function(e,t){const n=e.isSymbol,i=e.isArray,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;return t.isKey=function(e,t){if(i(e))return!1;const o=typeof e;if("number"===o||"boolean"===o||null==e||n(e))return!0;return s.test(e)||!r.test(e)||null!=t&&e in Object(t)}}),e("skylark-langx-objects/_cast_path",["skylark-langx-types","./objects","./is-key"],function(e,t,n){const i=".".charCodeAt(0),r=/\\(\\)?/g,s=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),o=e=>{const t=[];return e.charCodeAt(0)===i&&t.push(""),e.replace(s,(e,n,i,s)=>{let o=e;i?o=s.replace(r,"$1"):n&&(o=n.trim()),t.push(o)}),t};return function(t,i){if(e.isArray(t))return t;return n(t,i)?[t]:o(t)}}),e("skylark-langx-objects/get",["skylark-langx-types","./objects","./to-key","./_cast_path"],function(e,t,n,i){return t.get=function(e,t,r){const s=null==e?void 0:function(e,t){let r=0;const s=(t=i(t,e)).length;for(;null!=e&&r<s;)e=e[n(t[r++])];return r&&r==s?e:void 0}(e,t);return void 0===s?r:s}}),e("skylark-langx-objects/base-at",["./objects","./get"],function(e,t){return e.baseAt=function(e,n){let i=-1;const r=n.length,s=new Array(r),o=null==e;for(;++i<r;)s[i]=o?void 0:t(e,n[i]);return s}}),e("skylark-langx-objects/clone",["skylark-langx-types","./objects"],function(e,t){var n=e.isPlainObject,i=e.isArray;return t.clone=function e(t,r){var s;if(void 0===t||null===t)s=t;else if(r&&t.clone)s=t.clone();else if(i(t)){s=[];for(var o=0;o<t.length;o++)s.push(e(t[o]))}else if(n(t))for(var a in s={},t)s[a]=e(t[a]);else s=t;return s}}),e("skylark-langx-objects/defaults",["./objects","./all-keys"],function(e,t){return e.defaults=(n=t,i=!0,function(e){var t=arguments.length;if(i&&(e=Object(e)),t<2||null==e)return e;for(var r=1;r<t;r++)for(var s=arguments[r],o=n(s),a=o.length,l=0;l<a;l++){var u=o[l];i&&void 0!==e[u]||(e[u]=s[u])}return e});var n,i}),e("skylark-langx-objects/each",["./objects"],function(e){return e.each=function(e,t,n){var i,r,s,o;if(e)if(void 0===(i=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],!1===(n?t.call(o,o,r):t.call(o,r,o))))break}else for(s=0;s<i&&(o=e[s],!1!==(n?t.call(o,o,s):t.call(o,s,o)));s++);return this}}),e("skylark-langx-objects/_mixin",["skylark-langx-types","./objects"],function(e,t){var n=e.isPlainObject;return function e(t,i,r,s){for(var o in i)s&&void 0!==t[o]||(r&&n(i[o])?(n(t[o])||(t[o]={}),e(t[o],i[o],r,s)):void 0!==i[o]&&(t[o]=i[o]));return t}}),e("skylark-langx-objects/_parse_mixin_args",["skylark-langx-types","./objects"],function(e,t){var n=Array.prototype.slice,i=e.isBoolean;return function(e){var t=n.call(arguments,0),r=t.shift(),s=!1;i(t[t.length-1])&&(s=t.pop());return{target:r,sources:t,deep:s}}}),e("skylark-langx-objects/mixin",["skylark-langx-types","./objects","./_mixin","./_parse_mixin_args"],function(e,t,n,i){return t.mixin=function(){var e=i.apply(this,arguments);return e.sources.forEach(function(t){n(e.target,t,e.deep,!1)}),e.target}}),e("skylark-langx-objects/extend",["./objects","./mixin"],function(e,t){var n=Array.prototype.slice;return e.extend=function(e){var i,r=n.call(arguments,1);"boolean"==typeof e&&(i=e,e=r.shift());0==r.length&&(r=[e],e=this);return r.forEach(function(n){t(e,n,i)}),e}}),e("skylark-langx-objects/for-each",["./objects","./each"],function(e,t){return e.forEach=function(e,n){if(!e)return;e.forEach?e.forEach(n):t(e,n,!0)}}),e("skylark-langx-objects/has",["skylark-langx-types","./objects"],function(e,t){var n=Object.prototype.hasOwnProperty;return t.has=function(t,i){if(!e.isArray(i))return null!=t&&n.call(t,i);for(var r=i.length,s=0;s<r;s++){var o=i[s];if(null==t||!n.call(t,o))return!1;t=t[o]}return!!r}}),e("skylark-langx-objects/includes",["./objects"],function(e){return e.includes=function(e,t,n,i){e=isArrayLike(e)?e:values(e),n=n&&!i?toInteger(n):0;var r=e.length;n<0&&(n=nativeMax(r+n,0));return isString(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&baseIndexOf(e,t,n)>-1}}),e("skylark-langx-objects/is-equal",["skylark-langx-types","./objects"],function(e,t){var n,i,r=e.isFunction,s="undefined"!=typeof Symbol?Symbol.prototype:null;return n=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var s=typeof e;return("function"===s||"object"===s||"object"==typeof t)&&i(e,t,n,r)},i=function(e,t,i,o){var a=toString.call(e);if(a!==toString.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return s.valueOf.call(e)===s.valueOf.call(t)}var l="[object Array]"===a;if(!l){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!(r(u)&&u instanceof u&&r(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],o=o||[];for(var h=i.length;h--;)if(i[h]===e)return o[h]===t;if(i.push(e),o.push(t),l){if((h=e.length)!==t.length)return!1;for(;h--;)if(!n(e[h],t[h],i,o))return!1}else{var d,p=Object.keys(e);if(h=p.length,Object.keys(t).length!==h)return!1;for(;h--;)if(d=p[h],void 0===t[d]||!n(e[d],t[d],i,o))return!1}return i.pop(),o.pop(),!0},t.isEqual=function(e,t){return n(e,t)}}),e("skylark-langx-objects/keys",["skylark-langx-types","./objects","./has"],function(e,t,n){return t.keys=function(t){if(!e.isObject(t))return[];var i=[];for(var r in t)n(t,r)&&i.push(r);return i}}),e("skylark-langx-objects/is-match",["skylark-langx-types","./objects","./keys"],function(e,t,n){return t.isMatch=function(e,t){var n=n(t),i=n.length;if(null==e)return!i;for(var r=Object(e),s=0;s<i;s++){var o=n[s];if(t[o]!==r[o]||!(o in r))return!1}return!0}}),e("skylark-langx-objects/omit",["./objects","./mixin"],function(e,t){return e.omit=function(e,n,i){if(!e)return null;for(var r=t({},e),s=1;s<arguments.length;s++){var o=arguments[s];o in e&&delete r[o]}return r}}),e("skylark-langx-objects/pick",["./objects"],function(e){return e.pick=function(e,t,n){if(!e)return null;for(var i={},r=1;r<arguments.length;r++){var s=arguments[r];s in e&&(i[s]=e[s])}return i}}),e("skylark-langx-objects/remove-items",["skylark-langx-types","./objects"],function(e,t){return t.removeItem=function(t,n){if(e.isArray(t)){var i=t.indexOf(n);-1!=i&&t.splice(i,1)}else if(e.isPlainObject(t))for(var r in t)if(t[r]==n){delete t[r];break}return this}}),e("skylark-langx-objects/result",["skylark-langx-types","./objects","./to-key","./_cast_path"],function(e,t,n,i){e.isArray;var r=e.isFunction;return t.result=function(e,t,s){let o=-1,a=(t=i(t,e)).length;a||(a=1,e=void 0);for(;++o<a;){let i=null==e?void 0:e[n(t[o])];void 0===i&&(o=a,i=s),e=r(i)?i.call(e):i}return e}}),e("skylark-langx-objects/safe-mixin",["./objects","./_mixin","./_parse_mixin_args"],function(e,t,n){return e.safeMixin=function(){var e=n.apply(this,arguments);return e.sources.forEach(function(n){t(e.target,n,e.deep,!0)}),e.target}}),e("skylark-langx-objects/scall",["./objects"],function(e){const t=Array.prototype.slice;return e.scall=function(e,n,i,r){if(e&&e[n]){var s=t.call(arguments,2);return e[n].apply(e,s)}}}),e("skylark-langx-objects/is-index",["skylark-langx-types","./objects"],function(e,t){const n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;return t.isIndex=function(e,t){const r=typeof e;return!!(t=null==t?n:t)&&("number"===r||"symbol"!==r&&i.test(e))&&e>-1&&e%1==0&&e<t}}),e("skylark-langx-objects/set",["skylark-langx-types","./objects","./_cast_path","./is-index","./to-key"],function(e,t,n,i,r){return t.set=function(t,s,o){return null==t?t:function(t,s,o,a){if(!e.isObject(t))return t;const l=(s=n(s,t)).length,u=l-1;let c=-1,h=t;for(;null!=h&&++c<l;){const t=r(s[c]);let n=o;if(c!=u){const r=h[t];void 0===(n=a?a(r,t,h):void 0)&&(n=e.isObject(r)?r:i(s[c+1])?[]:{})}h[t]=n,h=h[t]}return t}(t,s,o)}}),e("skylark-langx-objects/shadow",["./objects"],function(e){return e.shadow=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}}),e("skylark-langx-objects/unset",["skylark-langx-types","./objects","./set"],function(e,t,n){return t.unset=function(e,t){return null==e||n(e,t,void 0)}}),e("skylark-langx-objects/values",["skylark-langx-types","./objects","./all-keys"],function(e,t,n){return t.values=function(e){for(var t=n(e),i=t.length,r=Array(i),s=0;s<i;s++)r[s]=e[t[s]];return r}}),e("skylark-langx-objects/main",["./objects","./all-keys","./assign","./base-at","./clone","./defaults","./each","./extend","./for-each","./get","./has","./includes","./is-equal","./is-key","./is-match","./keys","./mixin","./omit","./pick","./remove-items","./result","./safe-mixin","./scall","./set","./shadow","./to-key","./unset","./values"],function(e){return e}),e("skylark-langx-objects",["skylark-langx-objects/main"],function(e){return e}),e("skylark-langx-funcs/delegate",["skylark-langx-objects","./funcs"],function(e,t){var n=e.mixin,i=function(){function e(){}return function(t,i){e.prototype=t;var r=new e;return e.prototype=null,i&&n(r,i),r}}();return t.delegate=i}),e("skylark-langx-funcs/loop",["./funcs"],function(e){function t(e){this.callback=e,this.running=!1,this.id=-1}return t.prototype.start=function(){if(!this.running){this.running=!0;var e=this;!function t(){e.callback();e.running&&(e.id=requestAnimationFrame(t))}()}},t.prototype.stop=function(){this.running=!1,cancelAnimationFrame(this.id)},e.loop=function(e){return new t(e)}}),e("skylark-langx-funcs/negate",["./funcs"],function(e){return e.negate=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(...t){return!e.apply(this,t)}}}),e("skylark-langx-funcs/proxy",["skylark-langx-types","./funcs"],function(e,t){var n=Array.prototype.slice,i=e.isFunction,r=e.isString;return t.bind=t.proxy=function e(t,s){var o=2 in arguments&&n.call(arguments,2);if(i(t)){return function(){return t.apply(s,o?o.concat(n.call(arguments)):arguments)}}if(r(s))return o?(o.unshift(t[s],t),e.apply(null,o)):e(t[s],t);throw new TypeError("expected function")}}),e("skylark-langx-funcs/template",["skylark-langx-objects","./funcs","./proxy"],function(e,t,n){Array.prototype.slice;var i={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},r=/(.)^/,s={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},o=/\\|'|\r|\n|\t|\u2028|\u2029/g;function a(t,a,l){var u;l=e.defaults({},l,i);var c=RegExp([(l.escape||r).source,(l.interpolate||r).source,(l.evaluate||r).source].join("|")+"|$","g"),h=0,d="__p+='";t.replace(c,function(e,n,i,r,a){return d+=t.slice(h,a).replace(o,function(e){return"\\"+s[e]}),n&&(d+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(d+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(d+="';\n"+r+"\n__p+='"),h=a+e.length,e}),d+="';\n",l.variable||(d="with(obj||{}){\n"+d+"}\n"),d="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+d+"return __p;\n";try{u=new Function(l.variable||"obj","_",d)}catch(e){throw e.source=d,e}if(a)return u(a,this);var p=n(function(e){return u.call(this,e,this)},this),f=l.variable||"obj";return p.source="function("+f+"){\n"+d+"}",p}return a.templateSettings=t.templateSettings=i,t.template=a}),e("skylark-langx-funcs/throttle",["./funcs"],function(e){return e.throttle=function(e,t){let n=window.performance.now();return function(...i){const r=window.performance.now();r-n>=t&&(e(...i),n=r)}}}),e("skylark-langx-funcs/main",["./funcs","./bind-all","./debounce","./defer","./delegate","./loop","./negate","./proxy","./rest-arguments","./template","./throttle"],function(e){return e}),e("skylark-langx-funcs",["skylark-langx-funcs/main"],function(e){return e}),e("skylark-langx-arrays/flatten",["skylark-langx-types","./arrays"],function(e,t){return t.flatten=function(t){if(e.isArrayLike(t)){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(e.isArrayLike(r))for(var s=0;s<r.length;s++)n.push(r[s]);else n.push(r)}return n}return t}}),e("skylark-langx-arrays/difference",["skylark-langx-funcs","./arrays","./flatten","./filter","./contains"],function(e,t,n,i,r){var s=e.restArguments(function(e,t){return t=n(t,!0,!0),i(e,function(e){return!r(t,e)})});return t.difference=s}),e("skylark-langx-arrays/find",["./arrays"],function(e){var t=Array.prototype.find;return e.find=function(e,n){return t.call(e,n)}}),e("skylark-langx-arrays/first",["./arrays"],function(e){return e.first=function(e,t){return t?e.slice(0,t):e[0]}}),e("skylark-langx-arrays/grep",["skylark-langx-objects","./arrays"],function(e,t){return t.grep=function(t,n){var i=[];return e.each(t,function(e,t){n(t,e)&&i.push(t)}),i}}),e("skylark-langx-arrays/indexof",["./arrays"],function(e){return e.indexOf=function(e,t){return e.indexOf(t)}}),e("skylark-langx-arrays/last",["./arrays"],function(e){return e.last=function(e){return e[e.length-1]}}),e("skylark-langx-arrays/make-array",["skylark-langx-types","./arrays"],function(e,t){return t.makeArray=function(t,n,i){if(e.isArrayLike(t))return(i||[]).concat(Array.prototype.slice.call(t,n||0));return[t]}}),e("skylark-langx-arrays/map",["skylark-langx-types","./arrays","./flatten"],function(e,t,n){return t.map=function(t,i){var r,s,o,a=[];if(e.isArrayLike(t))for(s=0;s<t.length;s++)null!=(r=i.call(t[s],t[s],s))&&a.push(r);else for(o in t)null!=(r=i.call(t[o],t[o],o))&&a.push(r);return n(a)}}),e("skylark-langx-arrays/merge",["./arrays"],function(e){return e.merge=function(e,t){var n=t.length,i=e.length,r=0;if("number"==typeof n)for(;r<n;r++)e[i++]=t[r];else for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e}}),e("skylark-langx-arrays/pull-at",["skylark-langx-types","skylark-langx-objects","./arrays"],function(e,t,n){return n.pullAt=function(e,...n){null==e||e.length;const i=t.baseAt(e,n);n.sort(function(e,t){return e-t});for(let t=n.length-1;t>=0;t--)e.slice(n[t],1);return i}}),e("skylark-langx-arrays/reduce",["./arrays"],function(e){return e.reduce=function(e,t,n){return Array.prototype.reduce.call(e,t,n)}}),e("skylark-langx-arrays/uniq",["./arrays","./filter"],function(e,t){return e.uniq=function(e){return t.call(e,function(t,n){return e.indexOf(t)==n})}}),e("skylark-langx-arrays/without",["skylark-langx-funcs","./arrays","./difference"],function(e,t,n){var i=e.restArguments(function(e,t){return n(e,t)});return t.without=i}),e("skylark-langx-arrays/main",["./arrays","./base-find-index","./base-indexof","./compact","./contains","./difference","./filter","./find","./first","./flatten","./grep","./in-array","./indexof","./last","./make-array","./map","./merge","./pull-at","./reduce","./uniq","./without"],function(e){return e}),e("skylark-langx-arrays",["skylark-langx-arrays/main"],function(e){return e}),e("skylark-langx/arrays",["skylark-langx-arrays"],function(e){return e}),e("skylark-langx-constructs/constructs",["skylark-langx-ns"],function(e){return e.attach("langx.constructs",{})}),e("skylark-langx-constructs/inherit",["./constructs"],function(e){return e.inherit=function(e,t){if("function"!=typeof t&&t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object.setPrototypeOf(e,t)}}),e("skylark-langx-constructs/klass",["skylark-langx-ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","./constructs","./inherit"],function(e,t,n,i,r,s){var o=i.uniq,a=n.has,l=n.mixin,u=t.isArray,c=t.isDefined,h=function(){function e(){return this._construct?this._construct.apply(this,arguments):this.init?this.init.apply(this,arguments):void 0}return function n(i,r,h,d){u(r)&&(d=h,h=r,r=null),r=r||Object,c(h)&&!u(h)&&(d=h,h=!1);var p=r;h&&(h=function(e,t){var n=[];return t.forEach(function(e){if(a(e,"__mixins__"))throw new Error("nested mixins");for(var t=[];e;)t.unshift(e),e=e.superclass;n=n.concat(t)}),(n=(n=o(n)).filter(function(t){for(var n=e;n;){if(t===n)return!1;if(a(n,"__mixins__"))for(var i=n.__mixins__,r=0;r<i.length;r++)if(i[r]===t)return!1;n=n.superclass}return!0})).length>0&&n}(p,h)),h&&(p=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=new Function;s(r,n),r.superclass=null,l(r.prototype,t[i].prototype),r.prototype.__mixin__=t[i],n=r}return n}(p,h));var f=i.klassName||"",m=new Function("return function "+f+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}return ctor._constructor.apply(inst, arguments) || inst;}")();return s(m,p),m.superclass=r,m._constructor||(m._constructor=e),h&&(m.__mixins__=h),m.partial||(m.partial=function(e,n){return function(e,n,i){var r=e.prototype,s=e.superclass.prototype,o=i&&i.noOverrided;i&&i.overrides;for(var a in n)if("constructor"!==a){var l=n[a];"function"==typeof n[a]?r[a]=l._constructor||o||"function"!=typeof s[a]?l:function(e,t,n){return function(){var e=this.overrided;this.overrided=n;var i=t.apply(this,arguments);return this.overrided=e,i}}(0,l,s[a]):t.isPlainObject(l)&&null!==l&&l.get?Object.defineProperty(r,a,l):r[a]=l}return e}(this,e,n)}),m.inherit||(m.inherit=function(e,t,i){return n(e,this,t,i)}),m.partial(i,d),m}}();return r.klass=h}),e("skylark-langx-constructs/main",["./constructs","./inherit","./klass"],function(e){return e}),e("skylark-langx-constructs",["skylark-langx-constructs/main"],function(e){return e}),e("skylark-langx-klass/klass",["skylark-langx-ns","skylark-langx-constructs"],function(e,t){return e.attach("langx.klass",t.klass)}),e("skylark-langx-klass/main",["./klass"],function(e){return e}),e("skylark-langx-klass",["skylark-langx-klass/main"],function(e){return e}),e("skylark-langx/klass",["skylark-langx-klass"],function(e){return e}),e("skylark-langx/array-store",["./klass"],function(e){var t=function(e){if(!e)return e;var n=!!e.then;function i(i){e[i]=function(){var r=arguments,s=Deferred.when(e,function(e){return t(Array.prototype[i].apply(e,r))});if("forEach"!==i||n)return s}}return n&&(e=Object.delegate(e)),i("forEach"),i("filter"),i("map"),null==e.total&&(e.total=Deferred.when(e,function(e){return e.length})),e},n=e({klassName:"ArrayStore",queryEngine:function(e,t){switch(typeof e){default:throw new Error("Can not query with a "+typeof e);case"object":case"undefined":var n=e;e=function(e){for(var t in n){var i=n[t];if(i&&i.test){if(!i.test(e[t],e))return!1}else if(i!=e[t])return!1}return!0};break;case"string":if(!this[e])throw new Error("No filter function "+e+" was found in store");e=this[e];case"function":}function i(n){var i=function(e,t,n){var i,r=0,s=e&&e.length||0,o=[];s&&"string"==typeof e&&(e=e.split(""));"string"==typeof t&&(t=cache[t]||buildFn(t));if(n)for(;r<s;++r)i=e[r],t.call(n,i,r,e)&&o.push(i);else for(;r<s;++r)i=e[r],t(i,r,e)&&o.push(i);return o}(n,e),r=t&&t.sort;if(r&&i.sort("function"==typeof r?r:function(e,t){for(var n,i=0;n=r[i];i++){var s=e[n.attribute],o=t[n.attribute];if(s=null!=s?s.valueOf():s,o=null!=o?o.valueOf():o,s!=o)return!!n.descending==(null==s||s>o)?-1:1}return 0}),t&&(t.start||t.count)){var s=i.length;(i=i.slice(t.start||0,(t.start||0)+(t.count||1/0))).total=s}return i}return i.matches=e,i},idProperty:"id",get:function(e){return this.data[this.index[e]]},getIdentity:function(e){return e[this.idProperty]},put:function(e,t){var n=this.data,i=this.index,r=this.idProperty,s=e[r]=t&&"id"in t?t.id:r in e?e[r]:Math.random();if(s in i){if(t&&!1===t.overwrite)throw new Error("Object already exists");n[i[s]]=e}else i[s]=n.push(e)-1;return s},add:function(e,t){return(t=t||{}).overwrite=!1,this.put(e,t)},remove:function(e){var t=this.index,n=this.data;if(e in t)return n.splice(t[e],1),this.setData(n),!0},query:function(e,n){return t(this.queryEngine(e,n)(this.data))},setData:function(e){e.items?(this.idProperty=e.identifier||this.idProperty,e=this.data=e.items):this.data=e,this.index={};for(var t=0,n=e.length;t<n;t++)this.index[e[t][this.idProperty]]=t},init:function(e){for(var t in e)this[t]=e[t];this.setData(this.data||[])}});return n}),e("skylark-langx-aspect/aspect",["skylark-langx-ns"],function(e){var t,n=0;function i(e){return function(i,r,s,o){var a,l=i[r];l&&l.target==i||(i[r]=a=function(){for(var e=n,i=arguments,r=a.before;r;)i=r.advice.apply(this,i)||i,r=r.next;if(a.around)var s=a.around.advice(this,i);for(var o=a.after;o&&o.id<e;){if(o.receiveArguments){var l=o.advice.apply(this,i);s=l===t?s:l}else s=o.advice.call(this,s,i);o=o.next}return s},l&&(a.around={advice:function(e,t){return l.apply(e,t)}}),a.target=i);var u=function(e,t,i,r){var s,o=e[t],a="around"==t;if(a){var l=i(function(){return o.advice(this,arguments)});s={remove:function(){l&&(l=e=i=null)},advice:function(e,t){return l?l.apply(e,t):o.advice(e,t)}}}else s={remove:function(){if(s.advice){var n=s.previous,r=s.next;r||n?(n?n.next=r:e[t]=r,r&&(r.previous=n)):delete e[t],e=i=s.advice=null}},id:n++,advice:i,receiveArguments:r};if(o&&!a)if("after"==t){for(;o.next&&(o=o.next););o.next=s,s.previous=o}else"before"==t&&(e[t]=s,s.next=o,o.previous=s);else e[t]=s;return s}(a||l,e,s,o);return s=null,u}}return e.attach("langx.aspect",{after:i("after"),around:i("around"),before:i("before")})}),e("skylark-langx-aspect/main",["./aspect"],function(e){return e}),e("skylark-langx-aspect",["skylark-langx-aspect/main"],function(e){return e}),e("skylark-langx/aspect",["skylark-langx-aspect"],function(e){return e}),e("skylark-langx-async/deferred",["skylark-langx-arrays","skylark-langx-funcs","skylark-langx-objects"],function(e,t,n){"use strict";var i=Array.prototype.slice,r=t.proxy,s=e.makeArray,o=n.result,a=n.mixin;a(Promise.prototype,{always:function(e){return this.then(e,e),this},done:function(){for(var e=0;e<arguments.length;e++)this.then(arguments[e]);return this},fail:function(e){return this.catch(e),this}});var l=function(){var e=this;this.promise=u(new Promise(function(t,n){e._resolve=t,e._reject=n}))};function u(e){if(e.isResolved)return e;var t=!0,n=!1,i=!1,r=e.then(function(e){return i=!0,t=!1,e},function(e){throw n=!0,t=!1,e});r.isResolved=function(){return i},r.isPending=function(){return t},r.isRejected=function(){return n},r.state=function(){return i?"resolved":n?"rejected":"pending"};var s=[],o=[];return r.then=function(e,t,n){return n&&this.progress(n),u(Promise.prototype.then.call(this,e&&function(t){return t&&void 0!==t.__ctx__?e.apply(t.__ctx__,t):e(t)},t&&function(e){return e&&void 0!==e.__ctx__?t.apply(e.__ctx__,e):t(e)}))},r.progress=function(e){return s.forEach(function(t){e(t)}),o.push(e),this},r.pipe=r.then,r.notify=function(e){try{return s.push(e),o.forEach(function(t){return t(e)})}catch(e){this.reject(e)}return this},r}return l.prototype.resolve=function(e){var t=i.call(arguments);return this.resolveWith(null,t)},l.prototype.resolveWith=function(e,t){return(t=t?s(t):[]).__ctx__=e,this._resolve(t),this._resolved=!0,this},l.prototype.notify=function(e){var t=o(this,"promise");return t.notify(e),this},l.prototype.reject=function(e){var t=i.call(arguments);return this.rejectWith(null,t)},l.prototype.rejectWith=function(e,t){return(t=t?s(t):[]).__ctx__=e,this._reject(t),this._rejected=!0,this},l.prototype.isResolved=function(){var e=o(this,"promise");return e.isResolved()},l.prototype.isRejected=function(){var e=o(this,"promise");return e.isRejected()},l.prototype.state=function(){var e=o(this,"promise");return e.state()},l.prototype.then=function(e,t,n){var i=o(this,"promise");return i.then(e,t,n)},l.prototype.progress=function(e){var t=o(this,"promise");return t.progress(e)},l.prototype.catch=function(e){var t=o(this,"promise");return t.catch(e)},l.prototype.always=function(){var e=o(this,"promise");return e.always.apply(e,arguments),this},l.prototype.done=function(){var e=o(this,"promise");return e.done.apply(e,arguments),this},l.prototype.fail=function(e){var t=o(this,"promise");return t.fail(e),this},l.all=function(e){var t=new l;return Promise.all(e).then(t.resolve.bind(t),t.reject.bind(t)),o(t,"promise")},l.first=function(e){return u(Promise.race(e))},l.when=function(e,t,n,i){var s=e&&"function"==typeof e.then,o=s&&e instanceof Promise;if(!s)return arguments.length>1?t?t(e):e:(new l).resolve(e);if(!o){var a=new l(e.cancel);e.then(r(a.resolve,a),r(a.reject,a),a.notify),e=a.promise}return t||n||i?e.then(t,n,i):e},l.reject=function(e){var t=new l;return t.reject(e),t.promise},l.immediate=l.resolve=function(e){var t=new l;return t.resolve.apply(t,arguments),t.promise},l.promise=function(e){var t=new l;return e(t.resolve.bind(t),t.reject.bind(t),t.progress.bind(t)),t.promise},l}),e("skylark-langx-async/async",["skylark-langx-ns","skylark-langx-objects","./deferred"],function(e,t,n){var i=t.each,r={Deferred:n,parallel:function(e,t,r){var s=[];return r=r||null,t=t||[],i(e,function(e,n){s.push(n.apply(r,t))}),n.all(s)},series:function(e,t,r){var s=[],o=new n,a=o.promise;return r=r||null,t=t||[],o.resolve(),i(e,function(e,n){a=a.then(function(){return n.apply(r,t)}),s.push(a)}),n.all(s)},waterful:function(e,t,r){var s=new n,o=s.promise;return r=r||null,t=t||[],s.resolveWith(r,t),i(e,function(e,t){o=o.then(t)}),o}};return e.attach("langx.async",r)}),e("skylark-langx-async/main",["./async"],function(e){return e}),e("skylark-langx-async",["skylark-langx-async/main"],function(e){return e}),e("skylark-langx/async",["skylark-langx-async"],function(e){return e}),e("skylark-langx-binary/binary",["skylark-langx-ns"],function(e){"use strict";return e.attach("langx.binary",{fromBase64:function(e){for(var t,n,i,r,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=e.length/4*3,a=new ArrayBuffer(o),l=new Uint8Array(a),u=0,c=0;u<o;u+=3)t=s.indexOf(e.charAt(c++)),n=s.indexOf(e.charAt(c++)),i=s.indexOf(e.charAt(c++)),r=s.indexOf(e.charAt(c++)),l[u]=t<<2|n>>4,64!==i&&(l[u+1]=(15&n)<<4|i>>2),64!==r&&(l[u+2]=(3&i)<<6|r);return a},fromBinaryString:function(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n},fromBuffer:function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i<e.length;i++)n[i]=e[i];return t},readInt8:function(e,t){return e[t]<<24>>24},readUint16:function(e,t){return e[t]<<8|e[t+1]},readUint32:function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}})}),e("skylark-langx-binary/main",["./binary"],function(e){return e}),e("skylark-langx-binary",["skylark-langx-binary/main"],function(e){return e}),e("skylark-langx/binary",["skylark-langx-binary"],function(e){return e}),e("skylark-langx/constructs",["skylark-langx-constructs"],function(e){return e}),e("skylark-langx-datetimes/datetimes",["skylark-langx-ns"],function(e){return e.attach("langx.datetimes",{parseMilliSeconds:function(e){var t=e.split(" "),n=parseInt(t[0]);if(isNaN(n))return 0;switch(t[1].trim().replace(/\./g,"")){case"minutes":case"minute":case"min":case"mm":case"m":return 6e4*n;case"hours":case"hour":case"HH":case"hh":case"h":case"H":return 36e5*n;case"seconds":case"second":case"sec":case"ss":case"s":return 1e3*n;case"days":case"day":case"DD":case"dd":case"d":return 864e5*n;case"months":case"month":case"MM":case"M":return 24192e5*n;case"weeks":case"week":case"W":case"w":return 6048e5*n;case"years":case"year":case"yyyy":case"yy":case"y":return 31536e6*n;default:return 0}}})}),e("skylark-langx-datetimes/to_date",["skylark-langx-types","./datetimes"],function(e,t){let n;return t.toDate=function(t){if(!t||!e.isString(t))return null;n||(n=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=n.exec(t);if(!i)return null;const r=parseInt(i[1],10);let s=parseInt(i[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(i[3],10);o=o>=1&&o<=31?o:1;let a=parseInt(i[4],10);a=a>=0&&a<=23?a:0;let l=parseInt(i[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(i[6],10);u=u>=0&&u<=59?u:0;const c=i[7]||"Z";let h=parseInt(i[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(i[9],10)||0;d=d>=0&&d<=59?d:0,"-"===c?(a+=h,l+=d):"+"===c&&(a-=h,l-=d);return new Date(Date.UTC(r,s,o,a,l,u))}}),e("skylark-langx-datetimes/main",["./datetimes","./to_date"],function(e){return e}),e("skylark-langx-datetimes",["skylark-langx-datetimes/main"],function(e){return e}),e("skylark-langx/datetimes",["skylark-langx-datetimes"],function(e){return e}),e("skylark-langx/deferred",["skylark-langx-async"],function(e){return e.Deferred}),e("skylark-langx-events/events",["skylark-langx-ns"],function(e){return e.attach("langx.events",{})}),e("skylark-langx-hoster/hoster",["skylark-langx-ns"],function(e){var t={isBrowser:!0,isNode:null,global:this,browser:null,node:null};"object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8&&(t.isNode=!0,t.isBrowser=!1),t.global=function(){return"undefined"!=typeof global&&"function"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}();var n=null;if(Object.defineProperty(t,"document",function(){if(!n){var e="undefined"==typeof window?require("html-element"):window;n=e.document}return n}),void 0===t.global.CustomEvent&&(t.global.CustomEvent=function(e,t){this.type=e,this.props=t}),t.isBrowser){var i=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}(navigator.userAgent),r=t.browser={};i.browser&&(r[i.browser]=!0,r.version=i.version),r.chrome?r.webkit=!0:r.webkit&&(r.safari=!0)}return t.detects={},e.attach("langx.hoster",t)}),e("skylark-langx-hoster/detects/mobile",["../hoster"],function(e){var t=/iPhone/i,n=/iPod/i,i=/iPad/i,r=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,o=/Android/i,a=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,l=/Silk/i,u=/Windows Phone/i,c=/\bWindows(?:.+)ARM\b/i,h=/BlackBerry/i,d=/BB10/i,p=/Opera Mini/i,f=/\b(CriOS|Chrome)(?:.+)Mobile/i,m=/Mobile(?:.+)Firefox\b/i,g=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};return e.detects.mobile=function(e){var y={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?y.userAgent=e:e&&e.userAgent&&(y={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):y={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var v=y.userAgent,b=v.split("[FBAN");void 0!==b[1]&&(v=b[0]);void 0!==(b=v.split("Twitter"))[1]&&(v=b[0]);var k=function(e){return function(t){return t.test(e)}}(v),w={apple:{phone:k(t)&&!k(u),ipod:k(n),tablet:!k(t)&&(k(i)||g(y))&&!k(u),universal:k(r),device:(k(t)||k(n)||k(i)||k(r)||g(y))&&!k(u)},amazon:{phone:k(a),tablet:!k(a)&&k(l),device:k(a)||k(l)},android:{phone:!k(u)&&k(a)||!k(u)&&k(s),tablet:!k(u)&&!k(a)&&!k(s)&&(k(l)||k(o)),device:!k(u)&&(k(a)||k(l)||k(s)||k(o))||k(/\bokhttp\b/i)},windows:{phone:k(u),tablet:k(c),device:k(u)||k(c)},other:{blackberry:k(h),blackberry10:k(d),opera:k(p),firefox:k(m),chrome:k(f),device:k(h)||k(d)||k(p)||k(m)||k(f)},any:!1,phone:!1,tablet:!1};return w.any=w.apple.device||w.android.device||w.windows.device||w.other.device,w.phone=w.apple.phone||w.android.phone||w.windows.phone,w.tablet=w.apple.tablet||w.android.tablet||w.windows.tablet,w}}),e("skylark-langx-hoster/is-mobile",["./hoster","./detects/mobile"],function(e,t){return void 0==e.isMobile&&(e.isMobile=t()),e.isMobile}),e("skylark-langx-hoster/main",["./hoster","./is-mobile"],function(e){return e}),e("skylark-langx-hoster",["skylark-langx-hoster/main"],function(e){return e}),e("skylark-langx-events/event",["skylark-langx-objects","skylark-langx-funcs","skylark-langx-klass","skylark-langx-hoster","./events"],function(e,t,n,i){var r={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function s(n,i){return!i&&n.isDefaultPrevented||(i||(i=n),e.each(r,function(e,r){var s=i[e];n[e]=function(){return this[r]=t.returnTrue,s&&s.apply(i,arguments)},n[r]=t.returnFalse})),n}class o extends CustomEvent{constructor(t,n){super(t,n),e.safeMixin(this,n),s(this)}}return o.compatible=s,i.Event=o}),e("skylark-langx-events/listener",["skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx-klass","./events","./event"],function(e,t,n,i,r,s){Array.prototype.slice;var o=n.compact,a=(e.isDefined,e.isUndefined),l=(e.isPlainObject,e.isFunction,e.isBoolean),u=e.isString,c=e.isEmptyObject,h=(t.mixin,t.safeMixin,i({listenTo:function(t,n,i,r,s){if(!t)return this;if(e.isPlainObject(n)){e.isBoolean(i)?(s=i,i=null):e.isBoolean(r)&&(s=r);var o=n;for(var c in o){var h=c.match(/^([\w:-]*)\s*(.*)$/),d=h[1],p=h[2]||i;p?this.listenTo(t,d,p,o[c],s):this.listenTo(t,d,o[c],s)}return this}l(r)?(s=r,r=i,i=null):l(i)?(s=i,r=i=null):a(r)&&(s=!1,r=i,i=null),r||(r="handleEvent"),u(r)&&(r=this[r]),s?i?t.one(n,i,r,this):t.one(n,r,this):i?t.on(n,i,r,this):t.on(n,r,this);for(var f,m=this._listeningTo||(this._listeningTo=[]),g=0;g<m.length;g++)if(m[g].obj==t){f=m[g];break}f||m.push(f={obj:t,events:{}});var y=f.events,v=y[n]=y[n]||[];return-1==v.indexOf(r)&&v.push(r),this},listenToOnce:function(e,t,n,i){return this.listenTo(e,t,n,i,1)},unlistenTo:function(e,t,n){var i=this._listeningTo;if(!i)return this;u(n)&&(n=this[n]);for(var r=0;r<i.length;r++){var s=i[r];if(!e||e==s.obj){var a=s.events;for(var l in a)if(!t||t==l){var h=a[l];if(h){for(var d=0;d<h.length;d++)n&&n!=h[r]||(s.obj.off(l,h[r],this),h[r]=null);h=a[l]=o(h),c(h)&&(a[l]=null)}}c(a)&&(i[r]=null)}}return i=this._listeningTo=o(i),c(i)&&(this._listeningTo=null),this}}));return r.Listener=h}),e("skylark-langx-events/emitter",["skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx-klass","./events","./event","./listener"],function(e,t,n,i,r,s,o){var a=Array.prototype.slice,l=n.compact,u=e.isDefined,c=e.isPlainObject,h=e.isFunction,d=e.isString,p=(e.isEmptyObject,t.mixin);t.safeMixin;function f(e){var t=(""+e).split(".");return{name:t[0],ns:t.slice(1).join(" ")}}var m=new Map,g=o.inherit({_prepareArgs:function(e,t){return t=u(t)?[e].concat(t):[e]},on:function(e,t,n,i,r,s){var o=this,a=this._hub||(this._hub={});if(c(e))return r=i,each(e,function(e,i){o.on(e,t,n,i,r,s)}),this;if(d(t)||h(i)||(r=i,i=n,n=t,t=void 0),h(n)&&(r=i,i=n,n=null),!i)throw new Error("No callback function");if(!h(i))throw new Error("The callback  is not afunction");return d(e)&&(e=e.split(/\s/)),e.forEach(function(e){var o=f(e),l=o.name,u=o.ns;(a[l]||(a[l]=[])).push({fn:i,selector:t,data:n,ctx:r,ns:u,one:s})}),this},one:function(e,t,n,i,r){return this.on(e,t,n,i,r,1)},emit:function(e){if(!this._hub)return this;var t=this;d(e)&&(e=new s(e)),Object.defineProperty(e,"target",{value:this});var n=a.call(arguments,1);return n=this._prepareArgs(e,n),[e.type||e.name,"all"].forEach(function(i){var r=f(i),s=r.name,o=r.ns,a=t._hub[s];if(a){for(var u=a.length,h=!1,d=0;d<u;d++){if(e.isImmediatePropagationStopped&&e.isImmediatePropagationStopped())return this;var m=a[d];(!o||m.ns&&m.ns.startsWith(o))&&(m.data&&(e.data=p({},m.data,e.data)),2==n.length&&c(n[1])&&(e.data=e.data||{},p(e.data,n[1])),m.fn.apply(m.ctx,n),m.one&&(a[d]=null,h=!0))}h&&(t._hub[i]=l(a))}}),this},queueEmit:function(e){const t=e.type||e;let n=m.get(this);n||(n=new Map,m.set(this,n));const i=n.get(t);n.delete(t),window.clearTimeout(i);const r=window.setTimeout(()=>{0===n.size&&(n=null,m.delete(this)),this.trigger(e)},0);n.set(t,r)},listened:function(e){var t=(this._hub||(this._events={}))[e]||[];return t.length>0},off:function(e,t){if(e){var n=this._hub||(this._hub={});return d(e)&&(e=e.split(/\s/)),e.forEach(function(e){var i=f(e),r=i.name,s=i.ns,o=n[r];if(o){var a=[];if(t||s)for(var l=0,u=o.length;l<u;l++)t&&o[l].fn!==t&&o[l].fn._!==t?a.push(o[l]):!s||o[l].ns&&0==o[l].ns.indexOf(s)||a.push(o[l]);a.length?n[r]=a:delete n[r]}}),this}this._hub=null},trigger:function(){return this.emit.apply(this,arguments)},queueTrigger:function(e){return this.queueEmit.apply(this,arguments)}});return r.Emitter=g}),e("skylark-langx-events/create-event",["./events","./event"],function(e,t){return e.createEvent=function(e,n){return new t(e,n)}}),e("skylark-langx-events/main",["./events","./event","./listener","./emitter","./create-event"],function(e){return e}),e("skylark-langx-events",["skylark-langx-events/main"],function(e){return e}),e("skylark-langx/emitter",["skylark-langx-events"],function(e){return e.Emitter}),e("skylark-langx/evented",["./emitter"],function(e){return e}),e("skylark-langx/events",["skylark-langx-events"],function(e){return e}),e("skylark-langx/funcs",["skylark-langx-funcs"],function(e){return e}),e("skylark-langx-globals/globals",["skylark-langx-ns"],function(e){var t=function(){return"undefined"!=typeof global&&"function"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}();return e.attach("langx.globals",t)}),e("skylark-langx-globals/console",["./globals"],function(e){return e.console=console}),e("skylark-langx-globals/document",["./globals"],function(e){var t;"undefined"!=typeof global?global:"undefined"!=typeof window&&window;if("undefined"!=typeof document)t=document;else try{t=require("min-document")}catch(e){console.warn("min-document is not finded!",e)}return e.document=t}),e("skylark-langx-globals/window",["./globals"],function(e){var t="undefined"!=typeof window?window:{};return e.window=t}),e("skylark-langx-globals/main",["./globals","./console","./document","./window"],function(e){return e}),e("skylark-langx-globals",["skylark-langx-globals/main"],function(e){return e}),e("skylark-langx/globals",["skylark-langx-globals"],function(e){return e}),e("skylark-langx/hoster",["skylark-langx-hoster"],function(e){return e}),e("skylark-langx-maths/maths",["skylark-langx-ns","skylark-langx-types"],function(e,t){for(var n=[],i=0;i<256;i++)n[i]=(i<16?"0":"")+i.toString(16);var r={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*r.DEG2RAD},radToDeg:function(e){return e*r.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){var s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((t+i)/2),c=o((t+i)/2),h=s((t-i)/2),d=o((t-i)/2),p=s((i-t)/2),f=o((i-t)/2);"XYX"===r?e.set(a*c,l*h,l*d,a*u):"YZY"===r?e.set(l*d,a*c,l*h,a*u):"ZXZ"===r?e.set(l*h,l*d,a*c,a*u):"XZX"===r?e.set(a*c,l*f,l*p,a*u):"YXY"===r?e.set(l*p,a*c,l*f,a*u):"ZYZ"===r?e.set(l*f,l*p,a*c,a*u):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};return e.attach("langx.maths",r)}),e("skylark-langx-maths/main",["./maths"],function(e){return e}),e("skylark-langx-maths",["skylark-langx-maths/main"],function(e){return e}),e("skylark-langx/maths",["skylark-langx-maths"],function(e){return e}),e("skylark-langx-numerics/numerics",["skylark-langx-ns","skylark-langx-types"],function(e,t){return e.attach("langx.numerics",{toFinite:t.toFinite,toNumber:t.toNumber,toInteger:t.toInteger})}),e("skylark-langx-numerics/maths",["skylark-langx-ns","skylark-langx-types","./numerics"],function(e,t,n){for(var i=[],r=0;r<256;r++)i[r]=(r<16?"0":"")+r.toString(16);var s={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*s.DEG2RAD},radToDeg:function(e){return e*s.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){var s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((t+i)/2),c=o((t+i)/2),h=s((t-i)/2),d=o((t-i)/2),p=s((i-t)/2),f=o((i-t)/2);"XYX"===r?e.set(a*c,l*h,l*d,a*u):"YZY"===r?e.set(l*d,a*c,l*h,a*u):"ZXZ"===r?e.set(l*h,l*d,a*c,a*u):"XZX"===r?e.set(a*c,l*f,l*p,a*u):"YXY"===r?e.set(l*p,a*c,l*f,a*u):"ZYZ"===r?e.set(l*f,l*p,a*c,a*u):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};return n.maths=s}),e("skylark-langx-numerics/quaternion",["skylark-langx-klass","./numerics","./maths"],function(e,t,n){var i=e({klassName:"Quaternion",x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("mathsQuaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,s=e.order,o=Math.cos,a=Math.sin,l=o(n/2),u=o(i/2),c=o(r/2),h=a(n/2),d=a(i/2),p=a(r/2);return"XYZ"===s?(this._x=h*u*c+l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c-h*d*p):"YXZ"===s?(this._x=h*u*c+l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c+h*d*p):"ZXY"===s?(this._x=h*u*c-l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c-h*d*p):"ZYX"===s?(this._x=h*u*c-l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c+h*d*p):"YZX"===s?(this._x=h*u*c+l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c-h*d*p):"XZY"===s&&(this._x=h*u*c-l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c+h*d*p),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],h=n[10],d=i+a+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(c-l)*t,this._y=(s-u)*t,this._z=(o-r)*t):i>a&&i>h?(t=2*Math.sqrt(1+i-a-h),this._w=(c-l)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(s+u)/t):a>h?(t=2*Math.sqrt(1+a-i-h),this._w=(s-u)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(l+c)/t):(t=2*Math.sqrt(1+h-i-a),this._w=(o-r)/t,this._x=(s+u)/t,this._y=(l+c)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(n.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var i=Math.min(1,t/n);return this.slerp(e,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("mathsQuaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,s=e._w,o=t._x,a=t._y,l=t._z,u=t._w;return this._x=n*u+s*o+i*l-r*a,this._y=i*u+s*a+r*o-n*l,this._z=r*u+s*l+n*a-i*o,this._w=s*u-n*o-i*a-r*l,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,s=this._w,o=s*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;var a=1-o*o;if(a<=Number.EPSILON){var l=1-t;return this._w=l*s+t*this._w,this._x=l*n+t*this._x,this._y=l*i+t*this._y,this._z=l*r+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(a),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=s*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){},_construct:function(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}});return Object.assign(i,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,s,o){var a=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],h=r[s+0],d=r[s+1],p=r[s+2],f=r[s+3];if(c!==f||a!==h||l!==d||u!==p){var m=1-o,g=a*h+l*d+u*p+c*f,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){var b=Math.sqrt(v),k=Math.atan2(b,g*y);m=Math.sin(m*k)/b,o=Math.sin(o*k)/b}var w=o*y;if(a=a*m+h*w,l=l*m+d*w,u=u*m+p*w,c=c*m+f*w,m===1-o){var x=1/Math.sqrt(a*a+l*l+u*u+c*c);a*=x,l*=x,u*=x,c*=x}}e[t]=a,e[t+1]=l,e[t+2]=u,e[t+3]=c}}),Object.assign(i.prototype,{}),t.Quaternion=i}),e("skylark-langx-numerics/vector3",["skylark-langx-klass","./numerics","./maths","./quaternion"],function(e,t,n,i){var r=new i,s=e({klassName:"Vector3",set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("mathsVector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("mathsVector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("mathsVector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("mathsVector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(r.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(r.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,s=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*s,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,s=e.y,o=e.z,a=e.w,l=a*t+s*i-o*n,u=a*n+o*t-r*i,c=a*i+r*n-s*t,h=-r*t-s*n-o*i;return this.x=l*a+h*-r+u*-o-c*-s,this.y=u*a+h*-s+c*-r-l*-o,this.z=c*a+h*-o+l*-s-u*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("mathsVector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,s=t.x,o=t.y,a=t.z;return this.x=i*a-r*o,this.y=r*s-n*a,this.z=n*o-i*s,this},projectOnVector:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return o.copy(this).projectOnVector(e),this.sub(o)},reflect:function(e){return this.sub(o.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(MathUtils.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("mathsVector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},_construct:function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}}),o=new s;return t.Vector3=s}),e("skylark-langx-numerics/matrix4",["skylark-langx-klass","./numerics","./vector3"],function(e,t,n){var i=new n,r=new n(0,0,0),s=new n(1,1,1),o=new n,a=new n,l=new n,u=e({set:function(e,t,n,i,r,s,o,a,l,u,c,h,d,p,f,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=s,g[9]=o,g[13]=a,g[2]=l,g[6]=u,g[10]=c,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new u).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/i.setFromMatrixColumn(e,0).length(),s=1/i.setFromMatrixColumn(e,1).length(),o=1/i.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("mathsMatrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,s=Math.cos(n),o=Math.sin(n),a=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===e.order){var h=s*u,d=s*c,p=o*u,f=o*c;t[0]=a*u,t[4]=-a*c,t[8]=l,t[1]=d+p*l,t[5]=h-f*l,t[9]=-o*a,t[2]=f-h*l,t[6]=p+d*l,t[10]=s*a}else if("YXZ"===e.order){var m=a*u,g=a*c,y=l*u,v=l*c;t[0]=m+v*o,t[4]=y*o-g,t[8]=s*l,t[1]=s*c,t[5]=s*u,t[9]=-o,t[2]=g*o-y,t[6]=v+m*o,t[10]=s*a}else if("ZXY"===e.order){var m=a*u,g=a*c,y=l*u,v=l*c;t[0]=m-v*o,t[4]=-s*c,t[8]=y+g*o,t[1]=g+y*o,t[5]=s*u,t[9]=v-m*o,t[2]=-s*l,t[6]=o,t[10]=s*a}else if("ZYX"===e.order){var h=s*u,d=s*c,p=o*u,f=o*c;t[0]=a*u,t[4]=p*l-d,t[8]=h*l+f,t[1]=a*c,t[5]=f*l+h,t[9]=d*l-p,t[2]=-l,t[6]=o*a,t[10]=s*a}else if("YZX"===e.order){var b=s*a,k=s*l,w=o*a,x=o*l;t[0]=a*u,t[4]=x-b*c,t[8]=w*c+k,t[1]=c,t[5]=s*u,t[9]=-o*u,t[2]=-l*u,t[6]=k*c+w,t[10]=b-x*c}else if("XZY"===e.order){var b=s*a,k=s*l,w=o*a,x=o*l;t[0]=a*u,t[4]=-c,t[8]=l*u,t[1]=b*c+x,t[5]=s*u,t[9]=k*c-w,t[2]=w*c-k,t[6]=o*u,t[10]=x*c+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(r,e,s)},lookAt:function(e,t,n){var i=this.elements;return l.subVectors(e,t),0===l.lengthSq()&&(l.z=1),l.normalize(),o.crossVectors(n,l),0===o.lengthSq()&&(1===Math.abs(n.z)?l.x+=1e-4:l.z+=1e-4,l.normalize(),o.crossVectors(n,l)),o.normalize(),a.crossVectors(l,o),i[0]=o.x,i[4]=a.x,i[8]=l.x,i[1]=o.y,i[5]=a.y,i[9]=l.y,i[2]=o.z,i[6]=a.z,i[10]=l.z,this},multiply:function(e,t){return void 0!==t?(console.warn("mathsMatrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[4],a=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],g=n[14],y=n[3],v=n[7],b=n[11],k=n[15],w=i[0],x=i[4],_=i[8],C=i[12],E=i[1],S=i[5],A=i[9],M=i[13],T=i[2],D=i[6],O=i[10],P=i[14],L=i[3],I=i[7],R=i[11],F=i[15];return r[0]=s*w+o*E+a*T+l*L,r[4]=s*x+o*S+a*D+l*I,r[8]=s*_+o*A+a*O+l*R,r[12]=s*C+o*M+a*P+l*F,r[1]=u*w+c*E+h*T+d*L,r[5]=u*x+c*S+h*D+d*I,r[9]=u*_+c*A+h*O+d*R,r[13]=u*C+c*M+h*P+d*F,r[2]=p*w+f*E+m*T+g*L,r[6]=p*x+f*S+m*D+g*I,r[10]=p*_+f*A+m*O+g*R,r[14]=p*C+f*M+m*P+g*F,r[3]=y*w+v*E+b*T+k*L,r[7]=y*x+v*S+b*D+k*I,r[11]=y*_+v*A+b*O+k*R,r[15]=y*C+v*M+b*P+k*F,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],s=e[1],o=e[5],a=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14],p=e[3],f=e[7],m=e[11],g=e[15];return p*(+r*a*c-i*l*c-r*o*h+n*l*h+i*o*d-n*a*d)+f*(+t*a*d-t*l*h+r*s*h-i*s*d+i*l*u-r*a*u)+m*(+t*l*c-t*o*d-r*s*c+n*s*d+r*o*u-n*l*u)+g*(-i*o*u-t*a*c+t*o*h+i*s*c-n*s*h+n*a*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this},getInverse:function(e,t){void 0!==t&&console.warn("mathsMatrix4: .getInverse() can no longer be configured to throw on degenerate.");var n=this.elements,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],c=i[6],h=i[7],d=i[8],p=i[9],f=i[10],m=i[11],g=i[12],y=i[13],v=i[14],b=i[15],k=p*v*h-y*f*h+y*c*m-u*v*m-p*c*b+u*f*b,w=g*f*h-d*v*h-g*c*m+l*v*m+d*c*b-l*f*b,x=d*y*h-g*p*h+g*u*m-l*y*m-d*u*b+l*p*b,_=g*p*c-d*y*c-g*u*f+l*y*f+d*u*v-l*p*v,C=r*k+s*w+o*x+a*_;if(0===C)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var E=1/C;return n[0]=k*E,n[1]=(y*f*a-p*v*a-y*o*m+s*v*m+p*o*b-s*f*b)*E,n[2]=(u*v*a-y*c*a+y*o*h-s*v*h-u*o*b+s*c*b)*E,n[3]=(p*c*a-u*f*a-p*o*h+s*f*h+u*o*m-s*c*m)*E,n[4]=w*E,n[5]=(d*v*a-g*f*a+g*o*m-r*v*m-d*o*b+r*f*b)*E,n[6]=(g*c*a-l*v*a-g*o*h+r*v*h+l*o*b-r*c*b)*E,n[7]=(l*f*a-d*c*a+d*o*h-r*f*h-l*o*m+r*c*m)*E,n[8]=x*E,n[9]=(g*p*a-d*y*a-g*s*m+r*y*m+d*s*b-r*p*b)*E,n[10]=(l*y*a-g*u*a+g*s*h-r*y*h-l*s*b+r*u*b)*E,n[11]=(d*u*a-l*p*a-d*s*h+r*p*h+l*s*m-r*u*m)*E,n[12]=_*E,n[13]=(d*y*o-g*p*o+g*s*f-r*y*f-d*s*v+r*p*v)*E,n[14]=(g*u*o-l*y*o-g*s*c+r*y*c+l*s*v-r*u*v)*E,n[15]=(l*p*o-d*u*o+d*s*c-r*p*c-l*s*f+r*u*f)*E,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,s=e.x,o=e.y,a=e.z,l=r*s,u=r*o;return this.set(l*s+n,l*o-i*a,l*a+i*o,0,l*o+i*a,u*o+n,u*a-i*s,0,l*a-i*o,u*a+i*s,r*a*a+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var i=this.elements,r=t._x,s=t._y,o=t._z,a=t._w,l=r+r,u=s+s,c=o+o,h=r*l,d=r*u,p=r*c,f=s*u,m=s*c,g=o*c,y=a*l,v=a*u,b=a*c,k=n.x,w=n.y,x=n.z;return i[0]=(1-(f+g))*k,i[1]=(d+b)*k,i[2]=(p-v)*k,i[3]=0,i[4]=(d-b)*w,i[5]=(1-(h+g))*w,i[6]=(m+y)*w,i[7]=0,i[8]=(p+v)*x,i[9]=(m-y)*x,i[10]=(1-(h+f))*x,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},decompose:function(e,t,n){var r=this.elements,s=i.set(r[0],r[1],r[2]).length(),o=i.set(r[4],r[5],r[6]).length(),a=i.set(r[8],r[9],r[10]).length(),l=this.determinant();l<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],c.copy(this);var u=1/s,h=1/o,d=1/a;return c.elements[0]*=u,c.elements[1]*=u,c.elements[2]*=u,c.elements[4]*=h,c.elements[5]*=h,c.elements[6]*=h,c.elements[8]*=d,c.elements[9]*=d,c.elements[10]*=d,t.setFromRotationMatrix(c),n.x=s,n.y=o,n.z=a,this},makePerspective:function(e,t,n,i,r,s){void 0===s&&console.warn("mathsMatrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,a=2*r/(t-e),l=2*r/(n-i),u=(t+e)/(t-e),c=(n+i)/(n-i),h=-(s+r)/(s-r),d=-2*s*r/(s-r);return o[0]=a,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,i,r,s){var o=this.elements,a=1/(t-e),l=1/(n-i),u=1/(s-r),c=(t+e)*a,h=(n+i)*l,d=(s+r)*u;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e},_construct:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("mathsMatrix4: the constructor no longer reads arguments. use .set() instead.")}}),c=new u;return t.Matrix4=u}),e("skylark-langx-numerics/euler",["skylark-langx-klass","./numerics","./maths","./quaternion","./vector3","./matrix4"],function(e,t,n,i,r,s){var o=new s,a=new i,l=e({x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,i){var r=n.clamp,s=e.elements,o=s[0],a=s[4],l=s[8],u=s[1],c=s[5],h=s[9],d=s[2],p=s[6],f=s[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,f),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,f),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-d,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===t?(this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,f),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===t?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(l,f))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-h,f),this._y=0)):console.warn("skylark-nunustudio/editor/gui/element/RendererCanvasEuler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==i&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return o.makeRotationFromQuaternion(e),this.setFromRotationMatrix(o,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return a.setFromEuler(this),this.setFromQuaternion(a,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new r(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){},_construct:function(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||l.DefaultOrder}});return l.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],l.DefaultOrder="XYZ",t.Euler=l}),e("skylark-langx-numerics/matrix3",["skylark-langx-klass","./numerics"],function(e,t){var n=e({klassName:"Matrix3",isMatrix3:!0,set:function(e,t,n,i,r,s,o,a,l){var u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=r,u[5]=a,u[6]=n,u[7]=s,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[3],a=n[6],l=n[1],u=n[4],c=n[7],h=n[2],d=n[5],p=n[8],f=i[0],m=i[3],g=i[6],y=i[1],v=i[4],b=i[7],k=i[2],w=i[5],x=i[8];return r[0]=s*f+o*y+a*k,r[3]=s*m+o*v+a*w,r[6]=s*g+o*b+a*x,r[1]=l*f+u*y+c*k,r[4]=l*m+u*v+c*w,r[7]=l*g+u*b+c*x,r[2]=h*f+d*y+p*k,r[5]=h*m+d*v+p*w,r[8]=h*g+d*b+p*x,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=e[6],l=e[7],u=e[8];return t*s*u-t*o*l-n*r*u+n*o*a+i*r*l-i*s*a},getInverse:function(e,t){void 0!==t&&console.warn("mathsMatrix3: .getInverse() can no longer be configured to throw on degenerate.");var n=e.elements,i=this.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],u=n[5],c=n[6],h=n[7],d=n[8],p=d*l-u*h,f=u*c-d*a,m=h*a-l*c,g=r*p+s*f+o*m;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);var y=1/g;return i[0]=p*y,i[1]=(o*h-d*s)*y,i[2]=(u*s-o*l)*y,i[3]=f*y,i[4]=(d*r-o*c)*y,i[5]=(o*a-u*r)*y,i[6]=m*y,i[7]=(s*c-h*r)*y,i[8]=(l*r-s*a)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,s,o){var a=Math.cos(r),l=Math.sin(r);this.set(n*a,n*l,-n*(a*s+l*o)+s+e,-i*l,i*a,-i*(-l*s+a*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],s=i[3],o=i[6],a=i[1],l=i[4],u=i[7];return i[0]=t*r+n*a,i[3]=t*s+n*l,i[6]=t*o+n*u,i[1]=-n*r+t*a,i[4]=-n*s+t*l,i[7]=-n*o+t*u,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e},_construct:function(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("Matrix3: the constructor no longer reads arguments. use .set() instead.")}});return t.Matrix3=n}),e("skylark-langx-numerics/transform",["skylark-langx-klass","./numerics"],function(e,t){var n=e({klassName:"Transform",value:{get:function(){return this._.value}}});return t.Transform=n}),e("skylark-langx-numerics/matrix-transform",["./numerics","./transform"],function(e,t){var n=t.inherit({klassName:"MatrixTransform",value:{get:function(){return this.matrix.clone()}},matrix:{get:function(){return this._.matrix}},clone:function(){},transform:function(e){},transformBounds:function(e){},_construct:function(e){var t=this._={};t.matrix=e}});return e.MatrixTransform=n}),e("skylark-langx-numerics/plane",["skylark-langx-klass","./numerics","./matrix3","./vector3"],function(e,t,n,i){var r=new i,s=new i,o=new n,a=e({klassName:"Plane",set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var i=r.subVectors(n,t).cross(s.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("mathsPlane: .projectPoint() target is now required"),t=new i),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("mathsPlane: .intersectLine() target is now required"),t=new i);var n=e.delta(r),s=this.normal.dot(n);if(0===s)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var o=-(e.start.dot(this.normal)+this.constant)/s;return o<0||o>1?void 0:t.copy(n).multiplyScalar(o).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("mathsPlane: .coplanarPoint() target is now required"),e=new i),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||o.getNormalMatrix(e),i=this.coplanarPoint(r).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(s),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant},_construct:function(e,t){this.normal=void 0!==e?e:new i(1,0,0),this.constant=void 0!==t?t:0}});return t.Plane=a}),e("skylark-langx-numerics/rotate-transform",["./numerics","./transform","./matrix-transform"],function(e,t,n){var i=e.RotateTransform=t.inherit({klassName:"RotateTransform",value:{get:function(){return n.rotateAt(this.angle,this.centerX,this.centerY)}},angle:{get:function(){return this._.angle}},centerX:{get:function(){return this._.centerX}},centerY:{get:function(){return this._.centerY}},clone:function(){},transform:function(e){},transformBounds:function(e){},init:function(e,t,n){var i=this._={};i.angle=e||0,i.centerX=t||0,i.centerY=n||0}});return i}),e("skylark-langx-numerics/scale-transform",["./numerics","./transform","./matrix-transform"],function(e,t,n){var i=t.inherit({klassName:"ScaleTransform",value:{get:function(){return n.scaleAt(this.scaleX,this.scaleY,this.centerX,this.centerY)}},scaleX:{get:function(){return this._.scaleX}},scaleY:{get:function(){return this._.scaleY}},centerX:{get:function(){return this._.centerX}},centerY:{get:function(){return this._.centerY}},clone:function(){},transform:function(e){},transformBounds:function(e){},_construct:function(e,t,n,i){var r=this._={};r.scaleX=e||1,r.scaleY=t||1,r.centerX=n||0,r.centerY=i||0}});return e.ScaleTransform=i}),e("skylark-langx-numerics/skew-transform",["./numerics","./transform","./matrix-transform"],function(e,t,n){var i=t.inherit({klassName:"SkewTransform",value:{get:function(){return n.scaleAt(this.skewX,this.skewY)}},skewX:{get:function(){return this._.skewX}},skewY:{get:function(){return this._.skewY}},clone:function(){},transform:function(e){},transformBounds:function(e){},_construct:function(e,t){var n=this._={};n.skewX=e||0,n.skewY=t||0}});return e.SkewTransform=i}),e("skylark-langx-numerics/vector2",["skylark-langx-klass","./numerics"],function(e,t){var n=e({klassName:"Vector2",set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*n-s*i+e.x,this.y=r*i+s*n+e.y,this},_construct:function(e,t){this.x=e||0,this.y=t||0}});return t.Vector2=n}),e("skylark-langx-numerics/transform-matrix",["skylark-langx-klass","./numerics","./vector2"],function(e,t,n){var i=Math.PI/180,r={},s=function(e){return r[e]||(r[e]=Math.PI*e/180)},o=e({klassName:"TransformMatrix",_multiplyPoint:function(e){var t=this._,i=e.x*t.m11+e.y*t.m21+t.dx,r=e.x*t.m12+e.y*t.m22+t.dy;return new n(i,r)},m11:{get:function(){return this._.m11}},m12:{get:function(){return this._.m12}},m21:{get:function(){return this._.m21}},m22:{get:function(){return this._.m22}},dx:{get:function(){return this._.dx}},dy:{get:function(){return this._.dy}},alpha:{get:function(){return this._.alpha}},shadow:{get:function(){return this._.shadow}},compositeOperation:{get:function(){return this._.compositeOperation}},multiplyPoint:function(e){return this._multiplyPoint(e)},multiplyRectangle:function(e){if(this.isIdentity())return e.clone();var t=this.multiplyPoint(e.leftTop),n=this.multiplyPoint(e.leftBottom),i=this.multiplyPoint(e.right),r=this.multiplyPoint(e.rightBottom),s=Math.min(t.x,n.x,i.x,r.x),o=Math.min(t.y,n.y,i.y,r.y),a=Math.max(t.x,n.x,i.x,r.x),l=Math.max(t.y,n.y,i.y,r.y);return new Rect(s,o,a-s,l-o)},prepend:function(e,t,n,i,r,s){var o=this.dx;if(1!=e||0!=t||0!=n||1!=i){var a=this.m11,l=this.m21;this.m11=a*e+this.m12*n,this.m12=a*t+this.m12*i,this.m21=l*e+this.m22*n,this.m22=l*t+this.m22*i}return this.dx=o*e+this.dy*n+r,this.dy=o*t+this.dy*i+s,this},append:function(e,t,n,i,r,s){var o=this.m11,a=this.m12,l=this.m21,u=this.m22;return this.m11=e*o+t*l,this.m12=e*a+t*u,this.m21=n*o+i*l,this.m22=n*a+i*u,this.dx=r*o+s*l+this.dx,this.dy=r*a+s*u+this.dy,this},prependMatrix:function(e){return this.prepend(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),this.prependProperties(e.alpha,e.shadow,e.compositeOperation),this},appendMatrix:function(e){return this.append(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),this.appendProperties(e.alpha,e.shadow,e.compositeOperation),this},prependTransform:function(e,t,n,r,s,o,a,l,u){if(s%360)var c=s*i,h=Math.cos(c),d=Math.sin(c);else h=1,d=0;return(l||u)&&(this.dx-=l,this.dy-=u),o||a?(o*=i,a*=i,this.prepend(h*n,d*n,-d*r,h*r,0,0),this.prepend(Math.cos(a),Math.sin(a),-Math.sin(o),Math.cos(o),e,t)):this.prepend(h*n,d*n,-d*r,h*r,e,t),this},appendTransform:function(e,t,n,r,s,o,a,l,u){if(s%360)var c=s*i,h=Math.cos(c),d=Math.sin(c);else h=1,d=0;return o||a?(o*=i,a*=i,this.append(Math.cos(a),Math.sin(a),-Math.sin(o),Math.cos(o),e,t),this.append(h*n,d*n,-d*r,h*r,0,0)):this.append(h*n,d*n,-d*r,h*r,e,t),(l||u)&&(this.dx-=l*this.m11+u*this.m21,this.dy-=l*this.m12+u*this.m22),this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.m11,r=this.m21,s=this.dx;return this.m11=i*t-this.m12*n,this.m12=i*n+this.m12*t,this.m21=r*t-this.m22*n,this.m22=r*n+this.m22*t,this.dx=s*t-this.dy*n,this.dy=s*n+this.dy*t,this},skew:function(e,t){return e*=i,t*=i,this.append(Math.cos(t),Math.sin(t),-Math.sin(e),Math.cos(e),0,0),this},scale:function(e,t){return this.m11*=e,this.m22*=t,this.dx*=e,this.dy*=t,this},translate:function(e,t){return this.dx+=e,this.dy+=t,this},identity:function(){return this.alpha=this.m11=this.m22=1,this.m12=this.m21=this.dx=this.dy=0,this.shadow=this.compositeOperation=null,this},invert:function(){var e=this.m11,t=this.m12,n=this.m21,i=this.m22,r=this.dx,s=e*i-t*n;return this.m11=i/s,this.m12=-t/s,this.m21=-n/s,this.m22=e/s,this.dx=(n*this.dy-i*r)/s,this.dy=-(e*this.dy-t*r)/s,this},isIdentity:function(){return 0==this.dx&&0==this.dy&&1==this.m11&&0==this.m12&&0==this.m21&&1==this.m22},decompose:function(e){null==e&&(e={}),e.x=this.dx,e.y=this.dy,e.scaleX=Math.sqrt(this.m11*this.m11+this.m12*this.m12),e.scaleY=Math.sqrt(this.m21*this.m21+this.m22*this.m22);var t=Math.atan2(-this.m21,this.m22),n=Math.atan2(this.m12,this.m11);return t==n?(e.rotation=n/i,this.m11<0&&this.m22>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=t/i,e.skewY=n/i),e},reinitialize:function(e,t,n,i,r,s,o,a,l){return this._initialize(e,t,n,i,r,s),this.alpha=o||1,this.shadow=a,this.compositeOperation=l,this},appendProperties:function(e,t,n){return this.alpha*=e,this.shadow=t||this.shadow,this.compositeOperation=n||this.compositeOperation,this},prependProperties:function(e,t,n){return this.alpha*=e,this.shadow=this.shadow||t,this.compositeOperation=this.compositeOperation||n,this},multiply:function(e){var t=this.m11,n=this.m12,i=this.m21,r=this.m22,s=this.dx,o=this.dy,a=e;return this.m11=t*a.m11+i*a.m12,this.m12=n*a.m11+r*a.m12,this.m21=t*a.m21+i*a.m22,this.m22=n*a.m21+r*a.m22,this.dx=t*a.dx+i*a.dy+s,this.dy=n*a.dx+r*a.dy+o,this},clone:function(){var e=this._,t=new o(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy);return t.shadow=this.shadow,t.alpha=this.alpha,t.compositeOperation=this.compositeOperation,t},toString:function(){var e=this._;return"[TransformMatrix (m11="+e.m11+" m12="+e.m12+" m21="+e.m21+" m22="+e.m22+" dx="+e.dx+" dy="+e.dy+")]"},_construct:function(e,t,n,i,r,s){var o=this._={};o.m11=e||1,o.m12=t||0,o.m21=n||0,o.m22=i||1,o.dx=r||0,o.dy=s||0}});return Object.assign(o,{translate:function(e,t){return new o(1,0,0,1,e,t)},scale:function(e,t){return new o(e,0,0,t||e,0,0)},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);return new o(t,n,-n,t,0,0)},rotateg:function(e){return this.rotate(s(e))},skewX:function(e){var t=Math.tan(e);return new o(1,0,t,1)},skewXg:function(e){return this.skewX(s(e))},skewY:function(e){var t=Math.tan(e);return new o(1,t,0,1)},skewYg:function(e){return this.skewY(s(e))},reflect:function(e,t){1==arguments.length&&(t=e.y,e=e.x);var n=e*e,i=t*t,r=n+i,s=2*n/r-1,a=2*e*t/r,l=a,u=2*i/r-1;return new o(s,l,a,u)},project:function(e,t){var n=e*e,i=t*t,r=n+i,s=n/r,a=e*t/r;return yx=a,yy=i/r,new o(s,yx,a,yy)},_sandwich:function(e,t,n){return this.translate(t,n).multiply(e).multiply(this.translate(-t,-n))},scaleAt:function(e,t,n,i){switch(arguments.length){case 4:return this._sandwich(this.scale(e,t),n,i);case 3:return"number"==typeof n?this._sandwich(this.scale(e),t,n):this._sandwich(this.scale(e,t),n.x,n.y)}return this._sandwich(this.scale(e),t.x,t.y)},rotateAt:function(e,t,n){return arguments.length>2?this._sandwich(this.rotate(e),t,n):this._sandwich(this.rotate(e),t.x,t.y)},rotategAt:function(e,t,n){return arguments.length>2?this._sandwich(this.rotateg(e),t,n):this._sandwich(this.rotateg(e),t.x,t.y)},skewXAt:function(e,t,n){return arguments.length>2?this._sandwich(this.skewX(e),t,n):this._sandwich(this.skewX(e),t.x,t.y)},skewXgAt:function(e,t,n){return arguments.length>2?this._sandwich(this.skewXg(e),t,n):this._sandwich(this.skewXg(e),t.x,t.y)},skewYAt:function(e,t,n){return arguments.length>2?this._sandwich(this.skewY(e),t,n):this._sandwich(this.skewY(e),t.x,t.y)},skewYgAt:function(e,t,n){return arguments.length>2?this._sandwich(this.skewYg(e),t,n):this._sandwich(this.skewYg(e),t.x,t.y)}}),t.TransformMatrix=o}),e("skylark-langx-numerics/translate-transform",["./numerics","./transform","./matrix-transform"],function(e,t,n,i,r){var s=t.inherit({klassName:"TranslateTransform",value:{get:function(){return n.scaleAt(this.x,this.y)}},x:{get:function(){return this._.x}},y:{get:function(){return this._.y}},clone:function(){},transform:function(e){},transformBounds:function(e){},init:function(e,t){var n=this._;n.x=e||0,n.y=t||0}});return e.TranslateTransform=s}),e("skylark-langx-numerics/vector4",["skylark-langx-klass","./numerics"],function(e,t){var n=e({klassName:"Vector4",set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,s=e.elements,o=s[0],a=s[4],l=s[8],u=s[1],c=s[5],h=s[9],d=s[2],p=s[6],f=s[10];if(Math.abs(a-u)<.01&&Math.abs(l-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(a+u)<.1&&Math.abs(l+d)<.1&&Math.abs(h+p)<.1&&Math.abs(o+c+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(o+1)/2,g=(c+1)/2,y=(f+1)/2,v=(a+u)/4,b=(l+d)/4,k=(h+p)/4;return m>g&&m>y?m<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(m),i=v/n,r=b/n):g>y?g<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(g),n=v/i,r=k/i):y<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(y),n=b/r,i=k/r),this.set(n,i,r,t),this}var w=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(u-a)*(u-a));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(l-d)/w,this.z=(u-a)/w,this.w=Math.acos((o+c+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},_construct:function(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}});return t.Vector4=n}),e("skylark-langx-numerics/main",["./numerics","./euler","./maths","./matrix3","./matrix4","./matrix-transform","./plane","./quaternion","./rotate-transform","./scale-transform","./skew-transform","./transform","./transform-matrix","./translate-transform","./vector2","./vector3","./vector4"],function(e){return e}),e("skylark-langx-numerics",["skylark-langx-numerics/main"],function(e){return e}),e("skylark-langx/numerics",["skylark-langx-numerics"],function(e){return e}),e("skylark-langx/objects",["skylark-langx-objects"],function(e){return e}),e("skylark-langx/Evented",["./emitter"],function(e){return e}),e("skylark-langx-strings/strings",["skylark-langx-ns"],function(e){return e.attach("langx.strings")}),e("skylark-langx-strings/base64",["./strings"],function(e){return e.base64={decode:function(e,t){t=null!=t&&t;var n,i,r,s,o,a,l,u="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(;c<e.length;)s=this._keyStr.indexOf(e.charAt(c++)),o=this._keyStr.indexOf(e.charAt(c++)),a=this._keyStr.indexOf(e.charAt(c++)),l=this._keyStr.indexOf(e.charAt(c++)),n=s<<2|o>>4,i=(15&o)<<4|a>>2,r=(3&a)<<6|l,u+=String.fromCharCode(n),64!=a&&(u+=String.fromCharCode(i)),64!=l&&(u+=String.fromCharCode(r));t||(u=function(e){var t="",n=0,i=c1=c2=0;for(;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}(u));return u},encode:function(e,t){var n,i,r,s,o,a,l,u="",c=0;(t=null!=t&&t)||(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e));for(;c<e.length;)n=e.charCodeAt(c++),i=e.charCodeAt(c++),r=e.charCodeAt(c++),s=n>>2,o=(3&n)<<4|i>>4,a=(15&i)<<2|r>>6,l=63&r,isNaN(i)?a=l=64:isNaN(r)&&(l=64),u=u+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(l);return u}}}),e("skylark-langx-strings/camel-case",["./strings"],function(e){return e.camelCase=function(e){return e.replace(/-([\da-z])/g,function(e){return e.toUpperCase().replace("-","")})}}),e("skylark-langx-strings/dasherize",["./strings"],function(e){return e.dasherize=function(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}}),e("skylark-langx-strings/escape-html",["./strings"],function(e){var t=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"});function n(e){return t[e]}var i=/[&<>"'`=]/g;return e.escapeHTML=function(e){if(null==e)return"";if(!e)return String(e);return e.toString().replace(i,n)}}),e("skylark-langx-strings/generate-uuid",["./strings"],function(e){return e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}}),e("skylark-langx-strings/lower-first",["./strings"],function(e){return e.lowerFirst=function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}),e("skylark-langx-strings/ltrim",["./strings"],function(e){return e.ltrim=function(e){return e.replace(/^\s+/,"")}}),e("skylark-langx-strings/rtrim",["./strings"],function(e){return e.rtrim=function(e){return e.replace(/\s+$/,"")}}),e("skylark-langx-strings/serialize-value",["./strings"],function(e){return e.serializeValue=function(e){return JSON.stringify(e)}}),e("skylark-langx-strings/slugify",["./strings"],function(e){return e.slugify=function(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="a/_,:;",n=0,i=t.length;n<i;n++)e=e.replace(new RegExp(t.charAt(n),"g"),"AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------".charAt(n));return e=e.replace(/\s+/g,"-").replace(/-+/g,"-")}}),e("skylark-langx-strings/substitute",["./strings"],function(e){return e.substitute=function(e,t,n,i){function r(e,t){if(e.match(/\./)){var n,i=function(e,t){var r=e.pop();return r?t[r]?i(e,n=t[r]):null:n};return i(e.split(".").reverse(),t)}return t[e]}return i=i||window,n=n?proxy(i,n):function(e){return e},e.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(e,s,o){var a=r(s,t);return o&&(a=r(o,i).call(i,a,s)),n(a,s).toString()})}}),e("skylark-langx-strings/trim-null",["./strings"],function(e){const t=/\x00/g;return e.trimNull=function(e){if("string"!=typeof e)return warn("The argument for removeNullCharacters must be a string."),e;return e.replace(t,"")}}),e("skylark-langx-strings/unique-id",["./strings"],function(e){var t=0;return e.uniqueId=function(e){var n=++t+"";return e?e+n:n}}),e("skylark-langx-strings/upper-first",["./strings"],function(e){return e.upperFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}),e("skylark-langx-strings/words",["./strings"],function(e){const t="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n=`[${t}]`,i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",r="[\\u2700-\\u27bf]",s="[a-z\\xdf-\\xf6\\xf8-\\xff]",o=`[^\\ud800-\\udfff${t+"\\d\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde"}]`,a=`(?:${i}|\\ud83c[\\udffb-\\udfff])`,l="[^\\ud800-\\udfff]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",h="[A-Z\\xc0-\\xd6\\xd8-\\xde]",d=`(?:${s}|${o})`,p=`(?:${h}|${o})`,f="(?:['](?:d|ll|m|re|s|t|ve))?",m="(?:['](?:D|LL|M|RE|S|T|VE))?",g=`${a}?`,y="[\\ufe0e\\ufe0f]?",v=`(?:\\u200d(?:${[l,u,c].join("|")})${y+g})*`,b=y+g+v,k=`(?:${[r,u,c].join("|")})${b}`,w=RegExp([`${h}?${s}+${f}(?=${[n,h,"$"].join("|")})`,`${p}+${m}(?=${[n,h+d,"$"].join("|")})`,`${h}?${d}+${f}`,`${h}+${m}`,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",k].join("|"),"g");const x=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;return e.words=function(e,t){if(void 0===t){const t=x(e)?function(e){return e.match(w)}(e):function(e){return e.match(_)}(e);return t||[]}return e.match(t)||[]}}),e("skylark-langx-strings/main",["./strings","./base64","./camel-case","./dasherize","./escape-html","./generate-uuid","./lower-first","./ltrim","./rtrim","./serialize-value","./slugify","./substitute","./trim-null","./unique-id","./upper-first","./words"],function(e){return e}),e("skylark-langx-strings",["skylark-langx-strings/main"],function(e){return e}),e("skylark-langx/strings",["skylark-langx-strings"],function(e){return e}),e("skylark-langx/stateful",["./Evented","./strings","./objects"],function(e,t,n){var i=n.isEqual,r=n.mixin,s=n.result,o=n.isEmptyObject,a=n.clone,l=t.uniqueId,u=e.inherit({_construct:function(e,t){var n=e||{};t||(t={}),this.cid=l(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{});var i=s(this,"defaults");n=r({},i,n),this.set(n,t),this.changed={}},changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",toJSON:function(e){return a(this.attributes)},get:function(e){return this.attributes[e]},has:function(e){return null!=this.get(e)},set:function(e,t,n){if(null==e)return this;var r;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;var s=n.unset,o=n.silent,l=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=a(this.attributes),this.changed={});var c=this.attributes,h=this.changed,d=this._previousAttributes;for(var p in r)t=r[p],i(c[p],t)||l.push(p),i(d[p],t)?delete h[p]:h[p]=t,s?delete c[p]:c[p]=t;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!o){l.length&&(this._pending=n);for(var f=0;f<l.length;f++)this.trigger("change:"+l[f],this,c[l[f]],n)}if(u)return this;if(!o)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,r({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,r({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o(this.changed):void 0!==this.changed[e]},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&a(this.changed);var t=this._changing?this._previousAttributes:this.attributes,n={};for(var r in e){var s=e[r];i(t[r],s)||(n[r]=s)}return!o(n)&&n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},r({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=r({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,r(t,{validationError:n})),!1)}});return u}),e("skylark-langx-topic/topic",["skylark-langx-ns","skylark-langx-events"],function(e,t){var n=new t.Emitter;return e.attach("langx.topic",{publish:function(e,t,i){var r=[].slice.call(arguments,1);return n.trigger({type:e,data:r})},subscribe:function(e,t,i){var r=function(e){t.apply(i,e.data)};return n.on(e,r),{remove:function(){n.off(e,r)}}}})}),e("skylark-langx-topic/main",["./topic"],function(e){return e}),e("skylark-langx-topic",["skylark-langx-topic/main"],function(e){return e}),e("skylark-langx/topic",["skylark-langx-topic"],function(e){return e}),e("skylark-langx/types",["skylark-langx-types"],function(e){return e}),e("skylark-langx-urls/urls",["skylark-langx-ns"],function(e){return e.attach("langx.urls",{})}),e("skylark-langx-urls/create_object_url",["./urls"],function(e){"use strict";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return e.createObjectURL=function(e,n,i=!1){if(!i&&URL.createObjectURL){const t=new Blob([e],{type:n});return URL.createObjectURL(t)}let r=`data:${n};base64,`;for(let n=0,i=e.length;n<i;n+=3){const s=255&e[n],o=255&e[n+1],a=255&e[n+2],l=s>>2,u=(3&s)<<4|o>>4,c=n+1<i?(15&o)<<2|a>>6:64,h=n+2<i?63&a:64;r+=t[l]+t[u]+t[c]+t[h]}return r}}),e("skylark-langx-urls/create_valid_absolute_url",["./urls"],function(e){"use strict";return e.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{const n=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(e){}return null}}),e("skylark-langx-urls/get-absolute-url",["./urls"],function(e){"use strict";return e.getAbsoluteUrl=function(e){if(!e.match(/^https?:\/\//)){const t=document.createElement("div");t.innerHTML=`<a href="${e}">x</a>`,e=t.firstChild.href}return e}}),e("skylark-langx-urls/get-file-extension",["./urls"],function(e){"use strict";return e.getFileExtension=function(e){if("string"==typeof e){const t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""}}),e("skylark-langx-urls/get-file-name",["./urls"],function(e){"use strict";return e.getFileName=function(e){const t=e.indexOf("#"),n=e.indexOf("?"),i=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",i)+1,i)}}),e("skylark-langx-urls/get-query",["./urls"],function(e){"use strict";return e.getQuery=function(e){for(var t={},n=e.split("&"),i=n.length,r=[],s=0;s<i;s++){r=n[s].split("=",2);try{r[0]=decodeURIComponent(r[0]),r[1]=decodeURIComponent(r[1])}catch(e){}void 0===t[r[0]]?t[r[0]]=r[1]:t[r[0]]+=","+r[1]}return t}}),e("skylark-langx-urls/parse-url",["./urls"],function(e){"use strict";return e.parseUrl=function(e){const t=["protocol","hostname","port","pathname","search","hash","host"];let n=document.createElement("a");n.href=e;const i=""===n.host&&"file:"!==n.protocol;let r;i&&((r=document.createElement("div")).innerHTML=`<a href="${e}"></a>`,n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(r));const s={};for(let e=0;e<t.length;e++)s[t[e]]=n[t[e]];"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,""));"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,""));s.protocol||(s.protocol=window.location.protocol);i&&document.body.removeChild(r);return s}}),e("skylark-langx-urls/is-cross-origin",["./urls","./parse-url"],function(e,t){"use strict";return e.isCrossOrigin=function(e,n=window.location){const i=t(e);return(":"===i.protocol?n.protocol:i.protocol)+i.host!==n.protocol+n.host}}),e("skylark-langx-urls/is_same_origin",["./urls"],function(e){"use strict";return e.isSameOrigin=function(e,t){let n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(e){return!1}const i=new URL(t,n);return n.origin===i.origin}}),e("skylark-langx-urls/path",["skylark-langx-types","skylark-langx-constructs","./urls"],function(e,t,n){var i=t.klass({_construct:function(){var t=this._={segments:null,hasLeading:!1,hasTrailing:!1};1==arguments.length&&e.isString(arguments[0])?this._parse(arguments[0]):e.isArray(arguments[0])&&(t.segments=arguments[0],t.hasLeading=arguments[1]||!1,t.hasTrailing=arguments[2]||!1,this._canonicalize())},_canonicalize:function(){for(var e,t=this._.segments,n=0;n<t.length;n++)if("."==t[n]||".."==t[n]){e=!0;break}if(e){for(var i=[],n=0;n<t.length;n++)".."==t[n]?0==i.length?this.hasLeading||i.push(t[n]):".."==i[i.length-1]?i.push(".."):i.pop():"."==t[n]&&1!=t.length||i.push(t[n]);if(i.length==t.length)return;this._.segments=i}},_length:function(e){return this._.segments.length},_parse:function(e){e||(e=".");var t=this._,n=e.split("/");"/"==e.charAt(0)&&(t.hasLeading=!0,n.shift()),"/"==e.charAt(e.length-1)&&(t.hasTrailing=!0,n.pop()),t.segments=n,t.path=e,this._canonicalize()},append:function(t){return e.isString(t)?this.appendPathStr(t):this.appendPath(t)},appendPath:function(e){if(e.isAbsolute())return e;var t=this.segments,n=e.segments,r=t.concat(n),s=new i(r,this.hasLeading,e.hasTrailing);return s},appendPathStr:function(e){return e=new i(e||""),this.appendPath(e)},clone:function(){return new i(this.segments,this.hasLeading,this.hasTrailing)},endsWith:function(e){for(var t=this.segments,n=new i(e).segments;n.length>0&&t.length>0;)if(n.pop()!=t.pop())return!1;return!0},equals:function(e){var t=this._.segments,n=e._.segments;if(t.length!=n.length)return!1;for(var i=0;i<t.length;i++)if(n[i]!=t[i])return!1;return!0},firstSegment:function(e){var t=this._.segments;return t[e||0]},getExtension:function(){var e=this._.extension,t=this._.path;return textension||(e=this._.extension=t.substr(t.lastIndexOf(".")+1)),e},getSegments:function(){return this.segments},getParentPath:function(){var e=this._.parentPath;if(!e){var t=this.segments;t.pop(),e=this._.parentPath=new i(t,this.hasLeading)}return e},getRoot:function(){},isAbsolute:function(){return this.hasLeading},lastSegment:function(){var e=this._.segments;return e[e.length-1]},matchingFirstSegments:function(e){for(var t=this.segments,n=e.segments,i=Math.min(t.length,n.length),r=0,s=0;s<i;s++){if(t[s]!=n[s])return r;r++}return r},normalize:function(){},removeFirstSegments:function(e){var t=this._.segments,n=this._.hasLeading;return hasTrailing=this._.hasTrailing,new i(t.slice(e,t.length),n,hasTrailing)},removeLastSegments:function(e){var t=this._.segments,n=this._.hasLeading;return hasTrailing=this._.hasTrailing,e||(e=1),new i(t.slice(0,t.length-e),n,hasTrailing)},removeMatchingFirstSegments:function(e){var t=this.matchingFirstSegments(e);return this.removeFirstSegments(t)},removeMatchingLastSegments:function(e){var t=this.matchingFirstSegments(anotherPath);return this.removeLastSegments(t)},removeRelative:function(){var e=this.segments;return e.length>0&&"."==e[1]?this.removeFirstSegments(1):this},relativeTo:function(e,t){"string"==typeof e&&(e=new i(e));var n=this.segments;if(this.isAbsolute())return this;var r=e.segments,s=this.matchingFirstSegments(e),o=r.length;t&&(o-=1);var a=o-s,l=a+n.length-s;if(0==l)return i.EMPTY;for(var u=[],c=0;c<a;c++)u.push("..");for(var c=s;c<n.length;c++)u.push(n[c]);return new i(u,!1,this.hasTrailing)},segment:function(e){var t=this._.segments;return t.length<e?null:t[e]},startsWith:function(e){var t=this.matchingFirstSegments(e);return e._length()==t},toString:function(){var e=[],t=this._.segments;this.hasLeading&&e.push("/");for(var n=0;n<t.length;n++)n>0&&e.push("/"),e.push(t[n]);return this.hasTrailing&&e.push("/"),e.join("")},hasLeading:{get:function(){return this._.hasLeading}},hasTrailing:{get:function(){return this._.hasTrailing}}});return i.EMPTY=new i(""),n.Path=i}),e("skylark-langx-urls/main",["./urls","./create_object_url","./create_valid_absolute_url","./get-absolute-url","./get-file-extension","./get-file-name","./get-query","./is-cross-origin","./is_same_origin","./parse-url","./path"],function(e){return e}),e("skylark-langx-urls",["skylark-langx-urls/main"],function(e){return e}),e("skylark-langx/urls",["skylark-langx-urls"],function(e){return e}),e("skylark-langx/langx",["./skylark","./arrays","./array-store","./aspect","./async","./binary","./constructs","./datetimes","./deferred","./emitter","./evented","./events","./funcs","./globals","./hoster","./klass","./maths","./numerics","./objects","./stateful","./strings","./topic","./types","./urls"],function(e,t,n,i,r,s,o,a,l,u,c,h,d,p,f,m,g,y,v,b,k,w,x,_){"use strict";Array.prototype.concat,Array.prototype.indexOf,Array.prototype.slice,Array.prototype.filter;var C=v.mixin,E=(v.safeMixin,x.isFunction);var S=1;function A(){return A}return C(A,{createEvent:u.createEvent,funcArg:function(e,t,n,i){return E(t)?t.call(e,n,i):t},getQueryParams:function(e){var t=(e=e||window.location.href).split("?"),n={};t.length>1&&t[1].split("&").forEach(function(e){var t=e.split("=");n[t[0]]=t[1]});return n},toPixel:function(e){return parseFloat(e)||0},uid:function(e){return e._uid||(e._uid=S++)},URL:"undefined"!=typeof window?window.URL||window.webkitURL:null}),C(A,t,i,a,d,y,v,k,x,{ArrayStore:n,async:r,Deferred:l,Emitter:u,Evented:c,hoster:f,klass:m,Stateful:b,topic:w}),e.langx=A}),e("skylark-langx/main",["./langx"],function(e){return e}),e("skylark-langx",["skylark-langx/main"],function(e){return e}),e("skylark-formio/vendors/kraaden/autocomplete",[],function(){return function(e){var t,n,i=document,r=i.createElement("div"),s=r.style,o=navigator.userAgent,a=-1!==o.indexOf("Firefox")&&-1!==o.indexOf("Mobile"),l=e.debounceWaitMs||0,u=e.preventSubmit||!1,c=a?"input":"keyup",h=[],d="",p=2,f=e.showOnFocus,m=0;void 0!==e.minLength&&(p=e.minLength);if(!e.input)throw new Error("input undefined");var g=e.input;function y(){n&&window.clearTimeout(n)}function v(){return!!r.parentNode}function b(){var e;m++,h=[],d="",t=void 0,(e=r.parentNode)&&e.removeChild(r)}function k(){for(;r.firstChild;)r.removeChild(r.firstChild);var n=function(e,t){var n=i.createElement("div");return n.textContent=e.label||"",n};e.render&&(n=e.render);var o=function(e,t){var n=i.createElement("div");return n.textContent=e,n};e.renderGroup&&(o=e.renderGroup);var a=i.createDocumentFragment(),l="#9?$";if(h.forEach(function(i){if(i.group&&i.group!==l){l=i.group;var r=o(i.group,d);r&&(r.className+=" group",a.appendChild(r))}var s=n(i,d);s&&(s.addEventListener("click",function(t){e.onSelect(i,g),b(),t.preventDefault(),t.stopPropagation()}),i===t&&(s.className+=" selected"),a.appendChild(s))}),r.appendChild(a),h.length<1){if(!e.emptyMsg)return void b();var u=i.createElement("div");u.className="empty",u.textContent=e.emptyMsg,r.appendChild(u)}r.parentNode||i.body.appendChild(r),function(){if(!v())return;s.height="auto",s.width=g.offsetWidth+"px";var t,n=0;function o(){var e=i.documentElement,r=e.clientTop||i.body.clientTop||0,o=e.clientLeft||i.body.clientLeft||0,a=window.pageYOffset||e.scrollTop,l=window.pageXOffset||e.scrollLeft,u=(t=g.getBoundingClientRect()).top+g.offsetHeight+a-r,c=t.left+l-o;s.top=u+"px",s.left=c+"px",(n=window.innerHeight-(t.top+g.offsetHeight))<0&&(n=0),s.top=u+"px",s.bottom="",s.left=c+"px",s.maxHeight=n+"px"}o(),o(),e.customize&&t&&e.customize(g,t,r,n)}(),function(){var e=r.getElementsByClassName("selected");if(e.length>0){var t=e[0],n=t.previousElementSibling;if(n&&-1!==n.className.indexOf("group")&&!n.previousElementSibling&&(t=n),t.offsetTop<r.scrollTop)r.scrollTop=t.offsetTop;else{var i=t.offsetTop+t.offsetHeight,s=r.scrollTop+r.offsetHeight;i>s&&(r.scrollTop+=i-s)}}}()}function w(){v()&&k()}function x(){w()}function _(e){e.target!==r?w():e.preventDefault()}function C(e){for(var t=e.which||e.keyCode||0,n=0,i=[38,13,27,39,37,16,17,18,20,91,9];n<i.length;n++){var r=i[n];if(t===r)return}t>=112&&t<=123||40===t&&v()||A(0)}function E(n){var i=n.which||n.keyCode||0;if(38===i||40===i||27===i){var r=v();if(27===i)b();else{if(!v||h.length<1)return;38===i?function(){if(h.length<1)t=void 0;else if(t===h[0])t=h[h.length-1];else for(var e=h.length-1;e>0;e--)if(t===h[e]||1===e){t=h[e-1];break}}():function(){h.length<1&&(t=void 0);if(!t||t===h[h.length-1])return void(t=h[0]);for(var e=0;e<h.length-1;e++)if(t===h[e]){t=h[e+1];break}}(),k()}return n.preventDefault(),void(r&&n.stopPropagation())}13===i&&(t&&(e.onSelect(t,g),b()),u&&n.preventDefault())}function S(){f&&A(1)}function A(i){var r=++m,s=g.value;s.length>=p||1===i?(y(),n=window.setTimeout(function(){e.fetch(s,function(e){m===r&&e&&(d=s,t=(h=e).length>0?h[0]:void 0,k())},0)},0===i?l:0)):b()}function M(){setTimeout(function(){i.activeElement!==g&&b()},200)}return r.className="autocomplete "+(e.className||""),s.position="absolute",r.addEventListener("mousedown",function(e){e.stopPropagation(),e.preventDefault()}),r.addEventListener("focus",function(){return g.focus()}),g.addEventListener("keydown",E),g.addEventListener(c,C),g.addEventListener("blur",M),g.addEventListener("focus",S),window.addEventListener("resize",x),i.addEventListener("scroll",_,!0),{destroy:function(){g.removeEventListener("focus",S),g.removeEventListener("keydown",E),g.removeEventListener(c,C),g.removeEventListener("blur",M),window.removeEventListener("resize",x),i.removeEventListener("scroll",_,!0),y(),b()}}}}),e("skylark-lodash/lodash",["skylark-langx/skylark"],function(e){var t,n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",s="__lodash_hash_undefined__",o=500,a="__lodash_placeholder__",l=1,u=2,c=4,h=1,d=2,p=1,f=2,m=4,g=8,y=16,v=32,b=64,k=128,w=256,x=512,_=30,C="...",E=800,S=16,A=1,M=2,T=1/0,D=9007199254740991,O=1.7976931348623157e308,P=NaN,L=4294967295,I=L-1,R=L>>>1,F=[["ary",k],["bind",p],["bindKey",f],["curry",g],["curryRight",y],["flip",x],["partial",v],["partialRight",b],["rearg",w]],V="[object Arguments]",N="[object Array]",j="[object AsyncFunction]",z="[object Boolean]",U="[object Date]",$="[object DOMException]",H="[object Error]",B="[object Function]",q="[object GeneratorFunction]",Y="[object Map]",W="[object Number]",K="[object Null]",G="[object Object]",J="[object Proxy]",Z="[object RegExp]",X="[object Set]",Q="[object String]",ee="[object Symbol]",te="[object Undefined]",ne="[object WeakMap]",ie="[object WeakSet]",re="[object ArrayBuffer]",se="[object DataView]",oe="[object Float32Array]",ae="[object Float64Array]",le="[object Int8Array]",ue="[object Int16Array]",ce="[object Int32Array]",he="[object Uint8Array]",de="[object Uint8ClampedArray]",pe="[object Uint16Array]",fe="[object Uint32Array]",me=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39);/g,be=/[&<>"']/g,ke=RegExp(ve.source),we=RegExp(be.source),xe=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Se=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/[\\^$.*+?()[\]{}|]/g,Te=RegExp(Me.source),De=/^\s+|\s+$/g,Oe=/^\s+/,Pe=/\s+$/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ie=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /,Fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/\\(\\)?/g,Ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,je=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,$e=/^\[object .+?Constructor\]$/,He=/^0o[0-7]+$/i,Be=/^(?:0|[1-9]\d*)$/,qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,We=/['\n\r\u2028\u2029\\]/g,Ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ge="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="[\\ud800-\\udfff]",Ze="["+Ge+"]",Xe="["+Ke+"]",Qe="\\d+",et="[\\u2700-\\u27bf]",tt="[a-z\\xdf-\\xf6\\xf8-\\xff]",nt="[^\\ud800-\\udfff"+Ge+Qe+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",it="\\ud83c[\\udffb-\\udfff]",rt="(?:"+Xe+"|"+it+")",st="[^\\ud800-\\udfff]",ot="(?:\\ud83c[\\udde6-\\uddff]){2}",at="[\\ud800-\\udbff][\\udc00-\\udfff]",lt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ut="(?:"+tt+"|"+nt+")",ct="(?:"+lt+"|"+nt+")",ht=rt+"?",dt="(?:\\u200d(?:"+[st,ot,at].join("|")+")[\\ufe0e\\ufe0f]?"+ht+")*",pt="[\\ufe0e\\ufe0f]?"+ht+dt,ft="(?:"+[et,ot,at].join("|")+")"+pt,mt="(?:"+[st+Xe+"?",Xe,ot,at,Je].join("|")+")",gt=RegExp("[']","g"),yt=RegExp(Xe,"g"),vt=RegExp(it+"(?="+it+")|"+mt+pt,"g"),bt=RegExp([lt+"?"+tt+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Ze,lt,"$"].join("|")+")",ct+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Ze,lt+ut,"$"].join("|")+")",lt+"?"+ut+"+(?:['](?:d|ll|m|re|s|t|ve))?",lt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qe,ft].join("|"),"g"),kt=RegExp("[\\u200d\\ud800-\\udfff"+Ke+"\\ufe0e\\ufe0f]"),wt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_t=-1,Ct={};Ct[oe]=Ct[ae]=Ct[le]=Ct[ue]=Ct[ce]=Ct[he]=Ct[de]=Ct[pe]=Ct[fe]=!0,Ct[V]=Ct[N]=Ct[re]=Ct[z]=Ct[se]=Ct[U]=Ct[H]=Ct[B]=Ct[Y]=Ct[W]=Ct[G]=Ct[Z]=Ct[X]=Ct[Q]=Ct[ne]=!1;var Et={};Et[V]=Et[N]=Et[re]=Et[se]=Et[z]=Et[U]=Et[oe]=Et[ae]=Et[le]=Et[ue]=Et[ce]=Et[Y]=Et[W]=Et[G]=Et[Z]=Et[X]=Et[Q]=Et[ee]=Et[he]=Et[de]=Et[pe]=Et[fe]=!0,Et[H]=Et[B]=Et[ne]=!1;var St={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},At=parseFloat,Mt=parseInt,Tt="object"==typeof global&&global&&global.Object===Object&&global,Dt="object"==typeof self&&self&&self.Object===Object&&self,Ot=Tt||Dt||Function("return this")(),Pt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Lt=Pt&&"object"==typeof module&&module&&!module.nodeType&&module,It=Lt&&Lt.exports===Pt,Rt=It&&Tt.process,Ft=function(){try{var e=Lt&&Lt.require&&Lt.require("util").types;return e||Rt&&Rt.binding&&Rt.binding("util")}catch(e){}}(),Vt=Ft&&Ft.isArrayBuffer,Nt=Ft&&Ft.isDate,jt=Ft&&Ft.isMap,zt=Ft&&Ft.isRegExp,Ut=Ft&&Ft.isSet,$t=Ft&&Ft.isTypedArray;function Ht(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Bt(e,t,n,i){for(var r=-1,s=null==e?0:e.length;++r<s;){var o=e[r];t(i,o,n(o),e)}return i}function qt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Yt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Wt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Kt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}function Gt(e,t){var n=null==e?0:e.length;return!!n&&on(e,t,0)>-1}function Jt(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Zt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function Xt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Qt(e,t,n,i){var r=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function en(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function tn(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var nn=cn("length");function rn(e,t,n){var i;return n(e,function(e,n,r){if(t(e,n,r))return i=n,!1}),i}function sn(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}function on(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):sn(e,ln,n)}function an(e,t,n,i){for(var r=n-1,s=e.length;++r<s;)if(i(e[r],t))return r;return-1}function ln(e){return e!=e}function un(e,t){var n=null==e?0:e.length;return n?pn(e,t)/n:P}function cn(e){return function(n){return null==n?t:n[e]}}function hn(e){return function(n){return null==e?t:e[n]}}function dn(e,t,n,i,r){return r(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}function pn(e,n){for(var i,r=-1,s=e.length;++r<s;){var o=n(e[r]);o!==t&&(i=i===t?o:i+o)}return i}function fn(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function mn(e){return function(t){return e(t)}}function gn(e,t){return Zt(t,function(t){return e[t]})}function yn(e,t){return e.has(t)}function vn(e,t){for(var n=-1,i=e.length;++n<i&&on(t,e[n],0)>-1;);return n}function bn(e,t){for(var n=e.length;n--&&on(t,e[n],0)>-1;);return n}var kn=hn({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),wn=hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xn(e){return"\\"+St[e]}function _n(e){return kt.test(e)}function Cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function En(e,t){return function(n){return e(t(n))}}function Sn(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n];o!==t&&o!==a||(e[n]=a,s[r++]=n)}return s}function An(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Mn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Tn(e){return _n(e)?function(e){var t=vt.lastIndex=0;for(;vt.test(e);)++t;return t}(e):nn(e)}function Dn(e){return _n(e)?function(e){return e.match(vt)||[]}(e):function(e){return e.split("")}(e)}var On=hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pn=function e(Ke){var Ge=(Ke=null==Ke?Ot:Pn.defaults(Ot.Object(),Ke,Pn.pick(Ot,xt))).Array,Je=Ke.Date,Ze=Ke.Error,Xe=Ke.Function,Qe=Ke.Math,et=Ke.Object,tt=Ke.RegExp,nt=Ke.String,it=Ke.TypeError,rt=Ge.prototype,st=Xe.prototype,ot=et.prototype,at=Ke["__core-js_shared__"],lt=st.toString,ut=ot.hasOwnProperty,ct=0,ht=(di=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||""),di?"Symbol(src)_1."+di:""),dt=ot.toString,pt=lt.call(et),ft=Ot._,mt=tt("^"+lt.call(ut).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=It?Ke.Buffer:t,kt=Ke.Symbol,St=Ke.Uint8Array,Tt=vt?vt.allocUnsafe:t,Dt=En(et.getPrototypeOf,et),Pt=et.create,Lt=ot.propertyIsEnumerable,Rt=rt.splice,Ft=kt?kt.isConcatSpreadable:t,nn=kt?kt.iterator:t,hn=kt?kt.toStringTag:t,Ln=function(){try{var e=js(et,"defineProperty");return e({},"",{}),e}catch(e){}}(),In=Ke.clearTimeout!==Ot.clearTimeout&&Ke.clearTimeout,Rn=Je&&Je.now!==Ot.Date.now&&Je.now,Fn=Ke.setTimeout!==Ot.setTimeout&&Ke.setTimeout,Vn=Qe.ceil,Nn=Qe.floor,jn=et.getOwnPropertySymbols,zn=vt?vt.isBuffer:t,Un=Ke.isFinite,$n=rt.join,Hn=En(et.keys,et),Bn=Qe.max,qn=Qe.min,Yn=Je.now,Wn=Ke.parseInt,Kn=Qe.random,Gn=rt.reverse,Jn=js(Ke,"DataView"),Zn=js(Ke,"Map"),Xn=js(Ke,"Promise"),Qn=js(Ke,"Set"),ei=js(Ke,"WeakMap"),ti=js(et,"create"),ni=ei&&new ei,ii={},ri=po(Jn),si=po(Zn),oi=po(Xn),ai=po(Qn),li=po(ei),ui=kt?kt.prototype:t,ci=ui?ui.valueOf:t,hi=ui?ui.toString:t;var di;function pi(e){if(Da(e)&&!ba(e)&&!(e instanceof yi)){if(e instanceof gi)return e;if(ut.call(e,"__wrapped__"))return fo(e)}return new gi(e)}var fi=function(){function e(){}return function(n){if(!Ta(n))return{};if(Pt)return Pt(n);e.prototype=n;var i=new e;return e.prototype=t,i}}();function mi(){}function gi(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}function yi(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function vi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function bi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ki(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function wi(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ki;++t<n;)this.add(e[t])}function xi(e){var t=this.__data__=new bi(e);this.size=t.size}function _i(e,t){var n=ba(e),i=!n&&va(e),r=!n&&!i&&_a(e),s=!n&&!i&&!r&&Na(e),o=n||i||r||s,a=o?fn(e.length,nt):[],l=a.length;for(var u in e)!t&&!ut.call(e,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ws(u,l))||a.push(u);return a}function Ci(e){var n=e.length;return n?e[xr(0,n-1)]:t}function Ei(e,t){return uo(is(e),Ii(t,0,e.length))}function Si(e){return uo(is(e))}function Ai(e,n,i){(i===t||ma(e[n],i))&&(i!==t||n in e)||Pi(e,n,i)}function Mi(e,n,i){var r=e[n];ut.call(e,n)&&ma(r,i)&&(i!==t||n in e)||Pi(e,n,i)}function Ti(e,t){for(var n=e.length;n--;)if(ma(e[n][0],t))return n;return-1}function Di(e,t,n,i){return ji(e,function(e,r,s){t(i,e,n(e),s)}),i}function Oi(e,t){return e&&rs(t,ol(t),e)}function Pi(e,t,n){"__proto__"==t&&Ln?Ln(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Li(e,n){for(var i=-1,r=n.length,s=Ge(r),o=null==e;++i<r;)s[i]=o?t:tl(e,n[i]);return s}function Ii(e,n,i){return e==e&&(i!==t&&(e=e<=i?e:i),n!==t&&(e=e>=n?e:n)),e}function Ri(e,n,i,r,s,o){var a,h=n&l,d=n&u,p=n&c;if(i&&(a=s?i(e,r,s,o):i(e)),a!==t)return a;if(!Ta(e))return e;var f=ba(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&ut.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!h)return is(e,a)}else{var m=$s(e),g=m==B||m==q;if(_a(e))return Zr(e,h);if(m==G||m==V||g&&!s){if(a=d||g?{}:Bs(e),!h)return d?function(e,t){return rs(e,Us(e),t)}(e,function(e,t){return e&&rs(t,al(t),e)}(a,e)):function(e,t){return rs(e,zs(e),t)}(e,Oi(a,e))}else{if(!Et[m])return s?e:{};a=qs(e,m,h)}}o||(o=new xi);var y=o.get(e);if(y)return y;if(o.set(e,a),Ra(e))return e.forEach(function(t){a.add(Ri(t,n,i,t,e,o))}),a;if(Oa(e))return e.forEach(function(t,r){a.set(r,Ri(t,n,i,r,e,o))}),a;var v=p?d?Ps:Os:d?al:ol,b=f?t:v(e);return qt(b||e,function(t,r){b&&(t=e[r=t]),Mi(a,r,Ri(t,n,i,r,e,o))}),a}function Fi(e,n,i){var r=i.length;if(null==e)return!r;for(e=et(e);r--;){var s=i[r],o=n[s],a=e[s];if(a===t&&!(s in e)||!o(a))return!1}return!0}function Vi(e,n,i){if("function"!=typeof e)throw new it(r);return so(function(){e.apply(t,i)},n)}function Ni(e,t,i,r){var s=-1,o=Gt,a=!0,l=e.length,u=[],c=t.length;if(!l)return u;i&&(t=Zt(t,mn(i))),r?(o=Jt,a=!1):t.length>=n&&(o=yn,a=!1,t=new wi(t));e:for(;++s<l;){var h=e[s],d=null==i?h:i(h);if(h=r||0!==h?h:0,a&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;u.push(h)}else o(t,d,r)||u.push(h)}return u}pi.templateSettings={escape:xe,evaluate:_e,interpolate:Ce,variable:"",imports:{_:pi}},pi.prototype=mi.prototype,pi.prototype.constructor=pi,gi.prototype=fi(mi.prototype),gi.prototype.constructor=gi,yi.prototype=fi(mi.prototype),yi.prototype.constructor=yi,vi.prototype.clear=function(){this.__data__=ti?ti(null):{},this.size=0},vi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vi.prototype.get=function(e){var n=this.__data__;if(ti){var i=n[e];return i===s?t:i}return ut.call(n,e)?n[e]:t},vi.prototype.has=function(e){var n=this.__data__;return ti?n[e]!==t:ut.call(n,e)},vi.prototype.set=function(e,n){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ti&&n===t?s:n,this},bi.prototype.clear=function(){this.__data__=[],this.size=0},bi.prototype.delete=function(e){var t=this.__data__,n=Ti(t,e);if(n<0)return!1;var i=t.length-1;n==i?t.pop():Rt.call(t,n,1);return--this.size,!0},bi.prototype.get=function(e){var n=this.__data__,i=Ti(n,e);return i<0?t:n[i][1]},bi.prototype.has=function(e){return Ti(this.__data__,e)>-1},bi.prototype.set=function(e,t){var n=this.__data__,i=Ti(n,e);i<0?(++this.size,n.push([e,t])):n[i][1]=t;return this},ki.prototype.clear=function(){this.size=0,this.__data__={hash:new vi,map:new(Zn||bi),string:new vi}},ki.prototype.delete=function(e){var t=Vs(this,e).delete(e);return this.size-=t?1:0,t},ki.prototype.get=function(e){return Vs(this,e).get(e)},ki.prototype.has=function(e){return Vs(this,e).has(e)},ki.prototype.set=function(e,t){var n=Vs(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},wi.prototype.add=wi.prototype.push=function(e){return this.__data__.set(e,s),this},wi.prototype.has=function(e){return this.__data__.has(e)},xi.prototype.clear=function(){this.__data__=new bi,this.size=0},xi.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},xi.prototype.get=function(e){return this.__data__.get(e)},xi.prototype.has=function(e){return this.__data__.has(e)},xi.prototype.set=function(e,t){var i=this.__data__;if(i instanceof bi){var r=i.__data__;if(!Zn||r.length<n-1)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new ki(r)}return i.set(e,t),this.size=i.size,this};var ji=as(Wi),zi=as(Ki,!0);function Ui(e,t){var n=!0;return ji(e,function(e,i,r){return n=!!t(e,i,r)}),n}function $i(e,n,i){for(var r=-1,s=e.length;++r<s;){var o=e[r],a=n(o);if(null!=a&&(l===t?a==a&&!Va(a):i(a,l)))var l=a,u=o}return u}function Hi(e,t){var n=[];return ji(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function Bi(e,t,n,i,r){var s=-1,o=e.length;for(n||(n=Ys),r||(r=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?Bi(a,t-1,n,i,r):Xt(r,a):i||(r[r.length]=a)}return r}var qi=ls(),Yi=ls(!0);function Wi(e,t){return e&&qi(e,t,ol)}function Ki(e,t){return e&&Yi(e,t,ol)}function Gi(e,t){return Kt(t,function(t){return Sa(e[t])})}function Ji(e,n){for(var i=0,r=(n=Wr(n,e)).length;null!=e&&i<r;)e=e[ho(n[i++])];return i&&i==r?e:t}function Zi(e,t,n){var i=t(e);return ba(e)?i:Xt(i,n(e))}function Xi(e){return null==e?e===t?te:K:hn&&hn in et(e)?function(e){var n=ut.call(e,hn),i=e[hn];try{e[hn]=t;var r=!0}catch(e){}var s=dt.call(e);r&&(n?e[hn]=i:delete e[hn]);return s}(e):function(e){return dt.call(e)}(e)}function Qi(e,t){return e>t}function er(e,t){return null!=e&&ut.call(e,t)}function tr(e,t){return null!=e&&t in et(e)}function nr(e,n,i){for(var r=i?Jt:Gt,s=e[0].length,o=e.length,a=o,l=Ge(o),u=1/0,c=[];a--;){var h=e[a];a&&n&&(h=Zt(h,mn(n))),u=qn(h.length,u),l[a]=!i&&(n||s>=120&&h.length>=120)?new wi(a&&h):t}h=e[0];var d=-1,p=l[0];e:for(;++d<s&&c.length<u;){var f=h[d],m=n?n(f):f;if(f=i||0!==f?f:0,!(p?yn(p,m):r(c,m,i))){for(a=o;--a;){var g=l[a];if(!(g?yn(g,m):r(e[a],m,i)))continue e}p&&p.push(m),c.push(f)}}return c}function ir(e,n,i){n=Wr(n,e);var r=null==(e=no(e,n))?e:e[ho(Eo(n))];return null==r?t:Ht(r,e,i)}function rr(e){return Da(e)&&Xi(e)==V}function sr(e,t,n,i,r){return e===t||(null==e||null==t||!Da(e)&&!Da(t)?e!=e&&t!=t:or(e,t,n,i,sr,r))}function or(e,n,i,r,s,o){var a=ba(e),l=ba(n),u=a?N:$s(e),c=l?N:$s(n),p=(u=u==V?G:u)==G,f=(c=c==V?G:c)==G,m=u==c;if(m&&_a(e)){if(!_a(n))return!1;a=!0,p=!1}if(m&&!p)return o||(o=new xi),a||Na(e)?Ts(e,n,i,r,s,o):function(e,t,n,i,r,s,o){switch(n){case se:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case re:return!(e.byteLength!=t.byteLength||!s(new St(e),new St(t)));case z:case U:case W:return ma(+e,+t);case H:return e.name==t.name&&e.message==t.message;case Z:case Q:return e==t+"";case Y:var a=Cn;case X:var l=i&h;if(a||(a=An),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;i|=d,o.set(e,t);var c=Ts(a(e),a(t),i,r,s,o);return o.delete(e),c;case ee:if(ci)return ci.call(e)==ci.call(t)}return!1}(e,n,u,i,r,s,o);if(!(i&h)){var g=p&&ut.call(e,"__wrapped__"),y=f&&ut.call(n,"__wrapped__");if(g||y){var v=g?e.value():e,b=y?n.value():n;return o||(o=new xi),s(v,b,i,r,o)}}return!!m&&(o||(o=new xi),function(e,n,i,r,s,o){var a=i&h,l=Os(e),u=l.length,c=Os(n).length;if(u!=c&&!a)return!1;for(var d=u;d--;){var p=l[d];if(!(a?p in n:ut.call(n,p)))return!1}var f=o.get(e);if(f&&o.get(n))return f==n;var m=!0;o.set(e,n),o.set(n,e);for(var g=a;++d<u;){p=l[d];var y=e[p],v=n[p];if(r)var b=a?r(v,y,p,n,e,o):r(y,v,p,e,n,o);if(!(b===t?y===v||s(y,v,i,r,o):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var k=e.constructor,w=n.constructor;k!=w&&"constructor"in e&&"constructor"in n&&!("function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w)&&(m=!1)}return o.delete(e),o.delete(n),m}(e,n,i,r,s,o))}function ar(e,n,i,r){var s=i.length,o=s,a=!r;if(null==e)return!o;for(e=et(e);s--;){var l=i[s];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<o;){var u=(l=i[s])[0],c=e[u],p=l[1];if(a&&l[2]){if(c===t&&!(u in e))return!1}else{var f=new xi;if(r)var m=r(c,p,u,e,n,f);if(!(m===t?sr(p,c,h|d,r,f):m))return!1}}return!0}function lr(e){if(!Ta(e)||(t=e,ht&&ht in t))return!1;var t,n=Sa(e)?mt:$e;return n.test(po(e))}function ur(e){return"function"==typeof e?e:null==e?Pl:"object"==typeof e?ba(e)?mr(e[0],e[1]):fr(e):Ul(e)}function cr(e){if(!Xs(e))return Hn(e);var t=[];for(var n in et(e))ut.call(e,n)&&"constructor"!=n&&t.push(n);return t}function hr(e){if(!Ta(e))return function(e){var t=[];if(null!=e)for(var n in et(e))t.push(n);return t}(e);var t=Xs(e),n=[];for(var i in e)("constructor"!=i||!t&&ut.call(e,i))&&n.push(i);return n}function dr(e,t){return e<t}function pr(e,t){var n=-1,i=wa(e)?Ge(e.length):[];return ji(e,function(e,r,s){i[++n]=t(e,r,s)}),i}function fr(e){var t=Ns(e);return 1==t.length&&t[0][2]?eo(t[0][0],t[0][1]):function(n){return n===e||ar(n,e,t)}}function mr(e,n){return Gs(e)&&Qs(n)?eo(ho(e),n):function(i){var r=tl(i,e);return r===t&&r===n?nl(i,e):sr(n,r,h|d)}}function gr(e,n,i,r,s){e!==n&&qi(n,function(o,a){if(Ta(o))s||(s=new xi),function(e,n,i,r,s,o,a){var l=io(e,i),u=io(n,i),c=a.get(u);if(c)return void Ai(e,i,c);var h=o?o(l,u,i+"",e,n,a):t,d=h===t;if(d){var p=ba(u),f=!p&&_a(u),m=!p&&!f&&Na(u);h=u,p||f||m?ba(l)?h=l:xa(l)?h=is(l):f?(d=!1,h=Zr(u,!0)):m?(d=!1,h=Qr(u,!0)):h=[]:La(u)||va(u)?(h=l,va(l)?h=Ya(l):Ta(l)&&!Sa(l)||(h=Bs(u))):d=!1}d&&(a.set(u,h),s(h,u,r,o,a),a.delete(u));Ai(e,i,h)}(e,n,a,i,gr,r,s);else{var l=r?r(io(e,a),o,a+"",e,n,s):t;l===t&&(l=o),Ai(e,a,l)}},al)}function yr(e,n){var i=e.length;if(i)return Ws(n+=n<0?i:0,i)?e[n]:t}function vr(e,t,n){var i=-1;t=Zt(t.length?t:[Pl],mn(Fs()));var r=pr(e,function(e,n,r){var s=Zt(t,function(t){return t(e)});return{criteria:s,index:++i,value:e}});return function(e,t){var n=e.length;e.sort(t);for(;n--;)e[n]=e[n].value;return e}(r,function(e,t){return function(e,t,n){var i=-1,r=e.criteria,s=t.criteria,o=r.length,a=n.length;for(;++i<o;){var l=es(r[i],s[i]);if(l){if(i>=a)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)})}function br(e,t,n){for(var i=-1,r=t.length,s={};++i<r;){var o=t[i],a=Ji(e,o);n(a,o)&&Ar(s,Wr(o,e),a)}return s}function kr(e,t,n,i){var r=i?an:on,s=-1,o=t.length,a=e;for(e===t&&(t=is(t)),n&&(a=Zt(e,mn(n)));++s<o;)for(var l=0,u=t[s],c=n?n(u):u;(l=r(a,c,l,i))>-1;)a!==e&&Rt.call(a,l,1),Rt.call(e,l,1);return e}function wr(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==s){var s=r;Ws(r)?Rt.call(e,r,1):jr(e,r)}}return e}function xr(e,t){return e+Nn(Kn()*(t-e+1))}function _r(e,t){var n="";if(!e||t<1||t>D)return n;do{t%2&&(n+=e),(t=Nn(t/2))&&(e+=e)}while(t);return n}function Cr(e,t){return oo(to(e,t,Pl),e+"")}function Er(e){return Ci(ml(e))}function Sr(e,t){var n=ml(e);return uo(n,Ii(t,0,n.length))}function Ar(e,n,i,r){if(!Ta(e))return e;for(var s=-1,o=(n=Wr(n,e)).length,a=o-1,l=e;null!=l&&++s<o;){var u=ho(n[s]),c=i;if(s!=a){var h=l[u];(c=r?r(h,u,l):t)===t&&(c=Ta(h)?h:Ws(n[s+1])?[]:{})}Mi(l,u,c),l=l[u]}return e}var Mr=ni?function(e,t){return ni.set(e,t),e}:Pl,Tr=Ln?function(e,t){return Ln(e,"toString",{configurable:!0,enumerable:!1,value:Tl(t),writable:!0})}:Pl;function Dr(e){return uo(ml(e))}function Or(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Ge(r);++i<r;)s[i]=e[i+t];return s}function Pr(e,t){var n;return ji(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}function Lr(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=R){for(;i<r;){var s=i+r>>>1,o=e[s];null!==o&&!Va(o)&&(n?o<=t:o<t)?i=s+1:r=s}return r}return Ir(e,t,Pl,n)}function Ir(e,n,i,r){n=i(n);for(var s=0,o=null==e?0:e.length,a=n!=n,l=null===n,u=Va(n),c=n===t;s<o;){var h=Nn((s+o)/2),d=i(e[h]),p=d!==t,f=null===d,m=d==d,g=Va(d);if(a)var y=r||m;else y=c?m&&(r||p):l?m&&p&&(r||!f):u?m&&p&&!f&&(r||!g):!f&&!g&&(r?d<=n:d<n);y?s=h+1:o=h}return qn(o,I)}function Rr(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n],a=t?t(o):o;if(!n||!ma(a,l)){var l=a;s[r++]=0===o?0:o}}return s}function Fr(e){return"number"==typeof e?e:Va(e)?P:+e}function Vr(e){if("string"==typeof e)return e;if(ba(e))return Zt(e,Vr)+"";if(Va(e))return hi?hi.call(e):"";var t=e+"";return"0"==t&&1/e==-T?"-0":t}function Nr(e,t,i){var r=-1,s=Gt,o=e.length,a=!0,l=[],u=l;if(i)a=!1,s=Jt;else if(o>=n){var c=t?null:_s(e);if(c)return An(c);a=!1,s=yn,u=new wi}else u=t?[]:l;e:for(;++r<o;){var h=e[r],d=t?t(h):h;if(h=i||0!==h?h:0,a&&d==d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),l.push(h)}else s(u,d,i)||(u!==l&&u.push(d),l.push(h))}return l}function jr(e,t){return t=Wr(t,e),null==(e=no(e,t))||delete e[ho(Eo(t))]}function zr(e,t,n,i){return Ar(e,t,n(Ji(e,t)),i)}function Ur(e,t,n,i){for(var r=e.length,s=i?r:-1;(i?s--:++s<r)&&t(e[s],s,e););return n?Or(e,i?0:s,i?s+1:r):Or(e,i?s+1:0,i?r:s)}function $r(e,t){var n=e;return n instanceof yi&&(n=n.value()),Qt(t,function(e,t){return t.func.apply(t.thisArg,Xt([e],t.args))},n)}function Hr(e,t,n){var i=e.length;if(i<2)return i?Nr(e[0]):[];for(var r=-1,s=Ge(i);++r<i;)for(var o=e[r],a=-1;++a<i;)a!=r&&(s[r]=Ni(s[r]||o,e[a],t,n));return Nr(Bi(s,1),t,n)}function Br(e,n,i){for(var r=-1,s=e.length,o=n.length,a={};++r<s;){var l=r<o?n[r]:t;i(a,e[r],l)}return a}function qr(e){return xa(e)?e:[]}function Yr(e){return"function"==typeof e?e:Pl}function Wr(e,t){return ba(e)?e:Gs(e,t)?[e]:co(Wa(e))}var Kr=Cr;function Gr(e,n,i){var r=e.length;return i=i===t?r:i,!n&&i>=r?e:Or(e,n,i)}var Jr=In||function(e){return Ot.clearTimeout(e)};function Zr(e,t){if(t)return e.slice();var n=e.length,i=Tt?Tt(n):new e.constructor(n);return e.copy(i),i}function Xr(e){var t=new e.constructor(e.byteLength);return new St(t).set(new St(e)),t}function Qr(e,t){var n=t?Xr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function es(e,n){if(e!==n){var i=e!==t,r=null===e,s=e==e,o=Va(e),a=n!==t,l=null===n,u=n==n,c=Va(n);if(!l&&!c&&!o&&e>n||o&&a&&u&&!l&&!c||r&&a&&u||!i&&u||!s)return 1;if(!r&&!o&&!c&&e<n||c&&i&&s&&!r&&!o||l&&i&&s||!a&&s||!u)return-1}return 0}function ts(e,t,n,i){for(var r=-1,s=e.length,o=n.length,a=-1,l=t.length,u=Bn(s-o,0),c=Ge(l+u),h=!i;++a<l;)c[a]=t[a];for(;++r<o;)(h||r<s)&&(c[n[r]]=e[r]);for(;u--;)c[a++]=e[r++];return c}function ns(e,t,n,i){for(var r=-1,s=e.length,o=-1,a=n.length,l=-1,u=t.length,c=Bn(s-a,0),h=Ge(c+u),d=!i;++r<c;)h[r]=e[r];for(var p=r;++l<u;)h[p+l]=t[l];for(;++o<a;)(d||r<s)&&(h[p+n[o]]=e[r++]);return h}function is(e,t){var n=-1,i=e.length;for(t||(t=Ge(i));++n<i;)t[n]=e[n];return t}function rs(e,n,i,r){var s=!i;i||(i={});for(var o=-1,a=n.length;++o<a;){var l=n[o],u=r?r(i[l],e[l],l,i,e):t;u===t&&(u=e[l]),s?Pi(i,l,u):Mi(i,l,u)}return i}function ss(e,t){return function(n,i){var r=ba(n)?Bt:Di,s=t?t():{};return r(n,e,Fs(i,2),s)}}function os(e){return Cr(function(n,i){var r=-1,s=i.length,o=s>1?i[s-1]:t,a=s>2?i[2]:t;for(o=e.length>3&&"function"==typeof o?(s--,o):t,a&&Ks(i[0],i[1],a)&&(o=s<3?t:o,s=1),n=et(n);++r<s;){var l=i[r];l&&e(n,l,r,o)}return n})}function as(e,t){return function(n,i){if(null==n)return n;if(!wa(n))return e(n,i);for(var r=n.length,s=t?r:-1,o=et(n);(t?s--:++s<r)&&!1!==i(o[s],s,o););return n}}function ls(e){return function(t,n,i){for(var r=-1,s=et(t),o=i(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===n(s[l],l,s))break}return t}}function us(e){return function(n){var i=_n(n=Wa(n))?Dn(n):t,r=i?i[0]:n.charAt(0),s=i?Gr(i,1).join(""):n.slice(1);return r[e]()+s}}function cs(e){return function(t){return Qt(Sl(vl(t).replace(gt,"")),e,"")}}function hs(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=fi(e.prototype),i=e.apply(n,t);return Ta(i)?i:n}}function ds(e){return function(n,i,r){var s=et(n);if(!wa(n)){var o=Fs(i,3);n=ol(n),i=function(e){return o(s[e],e,s)}}var a=e(n,i,r);return a>-1?s[o?n[a]:a]:t}}function ps(e){return Ds(function(n){var i=n.length,s=i,o=gi.prototype.thru;for(e&&n.reverse();s--;){var a=n[s];if("function"!=typeof a)throw new it(r);if(o&&!l&&"wrapper"==Is(a))var l=new gi([],!0)}for(s=l?s:i;++s<i;){var u=Is(a=n[s]),c="wrapper"==u?Ls(a):t;l=c&&Js(c[0])&&c[1]==(k|g|v|w)&&!c[4].length&&1==c[9]?l[Is(c[0])].apply(l,c[3]):1==a.length&&Js(a)?l[u]():l.thru(a)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&ba(t))return l.plant(t).value();for(var r=0,s=i?n[r].apply(this,e):t;++r<i;)s=n[r].call(this,s);return s}})}function fs(e,n,i,r,s,o,a,l,u,c){var h=n&k,d=n&p,m=n&f,v=n&(g|y),b=n&x,w=m?t:hs(e);return function p(){var f=arguments.length,g=Ge(f),y=f;for(;y--;)g[y]=arguments[y];if(v)var k=Rs(p),x=function(e,t){var n=e.length,i=0;for(;n--;)e[n]===t&&++i;return i}(g,k);r&&(g=ts(g,r,s,v));o&&(g=ns(g,o,a,v));f-=x;if(v&&f<c){var _=Sn(g,k);return ws(e,n,fs,p.placeholder,i,g,_,l,u,c-f)}var C=d?i:this,E=m?C[e]:e;f=g.length;l?g=function(e,n){var i=e.length,r=qn(n.length,i),s=is(e);for(;r--;){var o=n[r];e[r]=Ws(o,i)?s[o]:t}return e}(g,l):b&&f>1&&g.reverse();h&&u<f&&(g.length=u);this&&this!==Ot&&this instanceof p&&(E=w||hs(E));return E.apply(C,g)}}function ms(e,t){return function(n,i){return function(e,t,n,i){return Wi(e,function(e,r,s){t(i,n(e),r,s)}),i}(n,e,t(i),{})}}function gs(e,n){return function(i,r){var s;if(i===t&&r===t)return n;if(i!==t&&(s=i),r!==t){if(s===t)return r;"string"==typeof i||"string"==typeof r?(i=Vr(i),r=Vr(r)):(i=Fr(i),r=Fr(r)),s=e(i,r)}return s}}function ys(e){return Ds(function(t){return t=Zt(t,mn(Fs())),Cr(function(n){var i=this;return e(t,function(e){return Ht(e,i,n)})})})}function vs(e,n){var i=(n=n===t?" ":Vr(n)).length;if(i<2)return i?_r(n,e):n;var r=_r(n,Vn(e/Tn(n)));return _n(n)?Gr(Dn(r),0,e).join(""):r.slice(0,e)}function bs(e){return function(n,i,r){return r&&"number"!=typeof r&&Ks(n,i,r)&&(i=r=t),n=$a(n),i===t?(i=n,n=0):i=$a(i),r=r===t?n<i?1:-1:$a(r),function(e,t,n,i){var r=-1,s=Bn(Vn((t-e)/(n||1)),0),o=Ge(s);for(;s--;)o[i?s:++r]=e,e+=n;return o}(n,i,r,e)}}function ks(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=qa(t),n=qa(n)),e(t,n)}}function ws(e,n,i,r,s,o,a,l,u,c){var h=n&g,d=h?a:t,y=h?t:a,k=h?o:t,w=h?t:o;n|=h?v:b,(n&=~(h?b:v))&m||(n&=~(p|f));var x=[e,n,s,k,d,w,y,l,u,c],_=i.apply(t,x);return Js(e)&&ro(_,x),_.placeholder=r,ao(_,e,n)}function xs(e){var t=Qe[e];return function(e,n){if(e=qa(e),n=null==n?0:qn(Ha(n),292)){var i=(Wa(e)+"e").split("e"),r=t(i[0]+"e"+(+i[1]+n));return+((i=(Wa(r)+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var _s=Qn&&1/An(new Qn([,-0]))[1]==T?function(e){return new Qn(e)}:Vl;function Cs(e){return function(t){var n=$s(t);return n==Y?Cn(t):n==X?Mn(t):function(e,t){return Zt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Es(e,n,i,s,o,l,u,c){var h=n&f;if(!h&&"function"!=typeof e)throw new it(r);var d=s?s.length:0;if(d||(n&=~(v|b),s=o=t),u=u===t?u:Bn(Ha(u),0),c=c===t?c:Ha(c),d-=o?o.length:0,n&b){var x=s,_=o;s=o=t}var C=h?t:Ls(e),E=[e,n,i,s,o,x,_,l,u,c];if(C&&function(e,t){var n=e[1],i=t[1],r=n|i,s=r<(p|f|k),o=i==k&&n==g||i==k&&n==w&&e[7].length<=t[8]||i==(k|w)&&t[7].length<=t[8]&&n==g;if(!s&&!o)return e;i&p&&(e[2]=t[2],r|=n&p?0:m);var l=t[3];if(l){var u=e[3];e[3]=u?ts(u,l,t[4]):l,e[4]=u?Sn(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?ns(u,l,t[6]):l,e[6]=u?Sn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);i&k&&(e[8]=null==e[8]?t[8]:qn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(E,C),e=E[0],n=E[1],i=E[2],s=E[3],o=E[4],!(c=E[9]=E[9]===t?h?0:e.length:Bn(E[9]-d,0))&&n&(g|y)&&(n&=~(g|y)),n&&n!=p)S=n==g||n==y?function(e,n,i){var r=hs(e);return function s(){var o=arguments.length,a=Ge(o),l=o,u=Rs(s);for(;l--;)a[l]=arguments[l];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:Sn(a,u);o-=c.length;if(o<i)return ws(e,n,fs,s.placeholder,t,a,c,t,t,i-o);var h=this&&this!==Ot&&this instanceof s?r:e;return Ht(h,this,a)}}(e,n,c):n!=v&&n!=(p|v)||o.length?fs.apply(t,E):function(e,t,n,i){var r=t&p,s=hs(e);return function t(){var o=-1,a=arguments.length,l=-1,u=i.length,c=Ge(u+a),h=this&&this!==Ot&&this instanceof t?s:e;for(;++l<u;)c[l]=i[l];for(;a--;)c[l++]=arguments[++o];return Ht(h,r?n:this,c)}}(e,n,i,s);else var S=function(e,t,n){var i=t&p,r=hs(e);return function t(){var s=this&&this!==Ot&&this instanceof t?r:e;return s.apply(i?n:this,arguments)}}(e,n,i);var A=C?Mr:ro;return ao(A(S,E),e,n)}function Ss(e,n,i,r){return e===t||ma(e,ot[i])&&!ut.call(r,i)?n:e}function As(e,n,i,r,s,o){return Ta(e)&&Ta(n)&&(o.set(n,e),gr(e,n,t,As,o),o.delete(n)),e}function Ms(e){return La(e)?t:e}function Ts(e,n,i,r,s,o){var a=i&h,l=e.length,u=n.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(e);if(c&&o.get(n))return c==n;var p=-1,f=!0,m=i&d?new wi:t;for(o.set(e,n),o.set(n,e);++p<l;){var g=e[p],y=n[p];if(r)var v=a?r(y,g,p,n,e,o):r(g,y,p,e,n,o);if(v!==t){if(v)continue;f=!1;break}if(m){if(!tn(n,function(e,t){if(!yn(m,t)&&(g===e||s(g,e,i,r,o)))return m.push(t)})){f=!1;break}}else if(g!==y&&!s(g,y,i,r,o)){f=!1;break}}return o.delete(e),o.delete(n),f}function Ds(e){return oo(to(e,t,ko),e+"")}function Os(e){return Zi(e,ol,zs)}function Ps(e){return Zi(e,al,Us)}var Ls=ni?function(e){return ni.get(e)}:Vl;function Is(e){for(var t=e.name+"",n=ii[t],i=ut.call(ii,t)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==e)return r.name}return t}function Rs(e){var t=ut.call(pi,"placeholder")?pi:e;return t.placeholder}function Fs(){var e=pi.iteratee||Ll;return e=e===Ll?ur:e,arguments.length?e(arguments[0],arguments[1]):e}function Vs(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Ns(e){for(var t=ol(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Qs(r)]}return t}function js(e,n){var i=function(e,n){return null==e?t:e[n]}(e,n);return lr(i)?i:t}var zs=jn?function(e){return null==e?[]:(e=et(e),Kt(jn(e),function(t){return Lt.call(e,t)}))}:Bl,Us=jn?function(e){for(var t=[];e;)Xt(t,zs(e)),e=Dt(e);return t}:Bl,$s=Xi;(Jn&&$s(new Jn(new ArrayBuffer(1)))!=se||Zn&&$s(new Zn)!=Y||Xn&&"[object Promise]"!=$s(Xn.resolve())||Qn&&$s(new Qn)!=X||ei&&$s(new ei)!=ne)&&($s=function(e){var n=Xi(e),i=n==G?e.constructor:t,r=i?po(i):"";if(r)switch(r){case ri:return se;case si:return Y;case oi:return"[object Promise]";case ai:return X;case li:return ne}return n});function Hs(e,t,n){for(var i=-1,r=(t=Wr(t,e)).length,s=!1;++i<r;){var o=ho(t[i]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++i!=r?s:!!(r=null==e?0:e.length)&&Ma(r)&&Ws(o,r)&&(ba(e)||va(e))}function Bs(e){return"function"!=typeof e.constructor||Xs(e)?{}:fi(Dt(e))}function qs(e,t,n){var i,r,s,o=e.constructor;switch(t){case re:return Xr(e);case z:case U:return new o(+e);case se:return function(e,t){var n=t?Xr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case oe:case ae:case le:case ue:case ce:case he:case de:case pe:case fe:return Qr(e,n);case Y:return new o;case W:case Q:return new o(e);case Z:return(s=new(r=e).constructor(r.source,je.exec(r))).lastIndex=r.lastIndex,s;case X:return new o;case ee:return i=e,ci?et(ci.call(i)):{}}}function Ys(e){return ba(e)||va(e)||!!(Ft&&e&&e[Ft])}function Ws(e,t){var n=typeof e;return!!(t=null==t?D:t)&&("number"==n||"symbol"!=n&&Be.test(e))&&e>-1&&e%1==0&&e<t}function Ks(e,t,n){if(!Ta(n))return!1;var i=typeof t;return!!("number"==i?wa(n)&&Ws(t,n.length):"string"==i&&t in n)&&ma(n[t],e)}function Gs(e,t){if(ba(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Va(e))||(Se.test(e)||!Ee.test(e)||null!=t&&e in et(t))}function Js(e){var t=Is(e),n=pi[t];if("function"!=typeof n||!(t in yi.prototype))return!1;if(e===n)return!0;var i=Ls(n);return!!i&&e===i[0]}var Zs=at?Sa:ql;function Xs(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ot;return e===n}function Qs(e){return e==e&&!Ta(e)}function eo(e,n){return function(i){return null!=i&&(i[e]===n&&(n!==t||e in et(i)))}}function to(e,n,i){return n=Bn(n===t?e.length-1:n,0),function(){for(var t=arguments,r=-1,s=Bn(t.length-n,0),o=Ge(s);++r<s;)o[r]=t[n+r];r=-1;for(var a=Ge(n+1);++r<n;)a[r]=t[r];return a[n]=i(o),Ht(e,this,a)}}function no(e,t){return t.length<2?e:Ji(e,Or(t,0,-1))}function io(e,t){if("__proto__"!=t)return e[t]}var ro=lo(Mr),so=Fn||function(e,t){return Ot.setTimeout(e,t)},oo=lo(Tr);function ao(e,t,n){var i=t+"";return oo(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Le,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return qt(F,function(n){var i="_."+n[0];t&n[1]&&!Gt(e,i)&&e.push(i)}),e.sort()}(function(e){var t=e.match(Ie);return t?t[1].split(Re):[]}(i),n)))}function lo(e){var n=0,i=0;return function(){var r=Yn(),s=S-(r-i);if(i=r,s>0){if(++n>=E)return arguments[0]}else n=0;return e.apply(t,arguments)}}function uo(e,n){var i=-1,r=e.length,s=r-1;for(n=n===t?r:n;++i<n;){var o=xr(i,s),a=e[o];e[o]=e[i],e[i]=a}return e.length=n,e}var co=function(e){var t=ua(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ae,function(e,n,i,r){t.push(i?r.replace(Ve,"$1"):n||e)}),t});function ho(e){if("string"==typeof e||Va(e))return e;var t=e+"";return"0"==t&&1/e==-T?"-0":t}function po(e){if(null!=e){try{return lt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function fo(e){if(e instanceof yi)return e.clone();var t=new gi(e.__wrapped__,e.__chain__);return t.__actions__=is(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var mo=Cr(function(e,t){return xa(e)?Ni(e,Bi(t,1,xa,!0)):[]}),go=Cr(function(e,n){var i=Eo(n);return xa(i)&&(i=t),xa(e)?Ni(e,Bi(n,1,xa,!0),Fs(i,2)):[]}),yo=Cr(function(e,n){var i=Eo(n);return xa(i)&&(i=t),xa(e)?Ni(e,Bi(n,1,xa,!0),t,i):[]});function vo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Ha(n);return r<0&&(r=Bn(i+r,0)),sn(e,Fs(t,3),r)}function bo(e,n,i){var r=null==e?0:e.length;if(!r)return-1;var s=r-1;return i!==t&&(s=Ha(i),s=i<0?Bn(r+s,0):qn(s,r-1)),sn(e,Fs(n,3),s,!0)}function ko(e){var t=null==e?0:e.length;return t?Bi(e,1):[]}function wo(e){return e&&e.length?e[0]:t}var xo=Cr(function(e){var t=Zt(e,qr);return t.length&&t[0]===e[0]?nr(t):[]}),_o=Cr(function(e){var n=Eo(e),i=Zt(e,qr);return n===Eo(i)?n=t:i.pop(),i.length&&i[0]===e[0]?nr(i,Fs(n,2)):[]}),Co=Cr(function(e){var n=Eo(e),i=Zt(e,qr);return(n="function"==typeof n?n:t)&&i.pop(),i.length&&i[0]===e[0]?nr(i,t,n):[]});function Eo(e){var n=null==e?0:e.length;return n?e[n-1]:t}var So=Cr(Ao);function Ao(e,t){return e&&e.length&&t&&t.length?kr(e,t):e}var Mo=Ds(function(e,t){var n=null==e?0:e.length,i=Li(e,t);return wr(e,Zt(t,function(e){return Ws(e,n)?+e:e}).sort(es)),i});function To(e){return null==e?e:Gn.call(e)}var Do=Cr(function(e){return Nr(Bi(e,1,xa,!0))}),Oo=Cr(function(e){var n=Eo(e);return xa(n)&&(n=t),Nr(Bi(e,1,xa,!0),Fs(n,2))}),Po=Cr(function(e){var n=Eo(e);return n="function"==typeof n?n:t,Nr(Bi(e,1,xa,!0),t,n)});function Lo(e){if(!e||!e.length)return[];var t=0;return e=Kt(e,function(e){if(xa(e))return t=Bn(e.length,t),!0}),fn(t,function(t){return Zt(e,cn(t))})}function Io(e,n){if(!e||!e.length)return[];var i=Lo(e);return null==n?i:Zt(i,function(e){return Ht(n,t,e)})}var Ro=Cr(function(e,t){return xa(e)?Ni(e,t):[]}),Fo=Cr(function(e){return Hr(Kt(e,xa))}),Vo=Cr(function(e){var n=Eo(e);return xa(n)&&(n=t),Hr(Kt(e,xa),Fs(n,2))}),No=Cr(function(e){var n=Eo(e);return n="function"==typeof n?n:t,Hr(Kt(e,xa),t,n)}),jo=Cr(Lo);var zo=Cr(function(e){var n=e.length,i=n>1?e[n-1]:t;return i="function"==typeof i?(e.pop(),i):t,Io(e,i)});function Uo(e){var t=pi(e);return t.__chain__=!0,t}function $o(e,t){return t(e)}var Ho=Ds(function(e){var n=e.length,i=n?e[0]:0,r=this.__wrapped__,s=function(t){return Li(t,e)};return!(n>1||this.__actions__.length)&&r instanceof yi&&Ws(i)?((r=r.slice(i,+i+(n?1:0))).__actions__.push({func:$o,args:[s],thisArg:t}),new gi(r,this.__chain__).thru(function(e){return n&&!e.length&&e.push(t),e})):this.thru(s)});var Bo=ss(function(e,t,n){ut.call(e,n)?++e[n]:Pi(e,n,1)});var qo=ds(vo),Yo=ds(bo);function Wo(e,t){var n=ba(e)?qt:ji;return n(e,Fs(t,3))}function Ko(e,t){var n=ba(e)?Yt:zi;return n(e,Fs(t,3))}var Go=ss(function(e,t,n){ut.call(e,n)?e[n].push(t):Pi(e,n,[t])});var Jo=Cr(function(e,t,n){var i=-1,r="function"==typeof t,s=wa(e)?Ge(e.length):[];return ji(e,function(e){s[++i]=r?Ht(t,e,n):ir(e,t,n)}),s}),Zo=ss(function(e,t,n){Pi(e,n,t)});function Xo(e,t){var n=ba(e)?Zt:pr;return n(e,Fs(t,3))}var Qo=ss(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var ea=Cr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ks(e,t[0],t[1])?t=[]:n>2&&Ks(t[0],t[1],t[2])&&(t=[t[0]]),vr(e,Bi(t,1),[])}),ta=Rn||function(){return Ot.Date.now()};function na(e,n,i){return n=i?t:n,n=e&&null==n?e.length:n,Es(e,k,t,t,t,t,n)}function ia(e,n){var i;if("function"!=typeof n)throw new it(r);return e=Ha(e),function(){return--e>0&&(i=n.apply(this,arguments)),e<=1&&(n=t),i}}var ra=Cr(function(e,t,n){var i=p;if(n.length){var r=Sn(n,Rs(ra));i|=v}return Es(e,i,t,n,r)}),sa=Cr(function(e,t,n){var i=p|f;if(n.length){var r=Sn(n,Rs(sa));i|=v}return Es(t,i,e,n,r)});function oa(e,n,i){var s,o,a,l,u,c,h=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new it(r);function m(n){var i=s,r=o;return s=o=t,h=n,l=e.apply(r,i)}function g(e){var i=e-c,r=e-h;return c===t||i>=n||i<0||p&&r>=a}function y(){var e=ta();if(g(e))return v(e);u=so(y,function(e){var t=n-(e-c);return p?qn(t,a-(e-h)):t}(e))}function v(e){return u=t,f&&s?m(e):(s=o=t,l)}function b(){var e=ta(),i=g(e);if(s=arguments,o=this,c=e,i){if(u===t)return function(e){return h=e,u=so(y,n),d?m(e):l}(c);if(p)return u=so(y,n),m(c)}return u===t&&(u=so(y,n)),l}return n=qa(n)||0,Ta(i)&&(d=!!i.leading,a=(p="maxWait"in i)?Bn(qa(i.maxWait)||0,n):a,f="trailing"in i?!!i.trailing:f),b.cancel=function(){u!==t&&Jr(u);h=0,s=c=o=u=t},b.flush=function(){return u===t?l:v(ta())},b}var aa=Cr(function(e,t){return Vi(e,1,t)}),la=Cr(function(e,t,n){return Vi(e,qa(t)||0,n)});function ua(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(r);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(ua.Cache||ki),n}function ca(e){if("function"!=typeof e)throw new it(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ua.Cache=ki;var ha=Kr(function(e,t){var n=(t=1==t.length&&ba(t[0])?Zt(t[0],mn(Fs())):Zt(Bi(t,1),mn(Fs()))).length;return Cr(function(i){for(var r=-1,s=qn(i.length,n);++r<s;)i[r]=t[r].call(this,i[r]);return Ht(e,this,i)})}),da=Cr(function(e,n){var i=Sn(n,Rs(da));return Es(e,v,t,n,i)}),pa=Cr(function(e,n){var i=Sn(n,Rs(pa));return Es(e,b,t,n,i)}),fa=Ds(function(e,n){return Es(e,w,t,t,t,n)});function ma(e,t){return e===t||e!=e&&t!=t}var ga=ks(Qi),ya=ks(function(e,t){return e>=t}),va=rr(function(){return arguments}())?rr:function(e){return Da(e)&&ut.call(e,"callee")&&!Lt.call(e,"callee")},ba=Ge.isArray,ka=Vt?mn(Vt):function(e){return Da(e)&&Xi(e)==re};function wa(e){return null!=e&&Ma(e.length)&&!Sa(e)}function xa(e){return Da(e)&&wa(e)}var _a=zn||ql,Ca=Nt?mn(Nt):function(e){return Da(e)&&Xi(e)==U};function Ea(e){if(!Da(e))return!1;var t=Xi(e);return t==H||t==$||"string"==typeof e.message&&"string"==typeof e.name&&!La(e)}function Sa(e){if(!Ta(e))return!1;var t=Xi(e);return t==B||t==q||t==j||t==J}function Aa(e){return"number"==typeof e&&e==Ha(e)}function Ma(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=D}function Ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Da(e){return null!=e&&"object"==typeof e}var Oa=jt?mn(jt):function(e){return Da(e)&&$s(e)==Y};function Pa(e){return"number"==typeof e||Da(e)&&Xi(e)==W}function La(e){if(!Da(e)||Xi(e)!=G)return!1;var t=Dt(e);if(null===t)return!0;var n=ut.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lt.call(n)==pt}var Ia=zt?mn(zt):function(e){return Da(e)&&Xi(e)==Z};var Ra=Ut?mn(Ut):function(e){return Da(e)&&$s(e)==X};function Fa(e){return"string"==typeof e||!ba(e)&&Da(e)&&Xi(e)==Q}function Va(e){return"symbol"==typeof e||Da(e)&&Xi(e)==ee}var Na=$t?mn($t):function(e){return Da(e)&&Ma(e.length)&&!!Ct[Xi(e)]};var ja=ks(dr),za=ks(function(e,t){return e<=t});function Ua(e){if(!e)return[];if(wa(e))return Fa(e)?Dn(e):is(e);if(nn&&e[nn])return function(e){var t,n=[];for(;!(t=e.next()).done;)n.push(t.value);return n}(e[nn]());var t=$s(e),n=t==Y?Cn:t==X?An:ml;return n(e)}function $a(e){if(!e)return 0===e?e:0;if((e=qa(e))===T||e===-T){var t=e<0?-1:1;return t*O}return e==e?e:0}function Ha(e){var t=$a(e),n=t%1;return t==t?n?t-n:t:0}function Ba(e){return e?Ii(Ha(e),0,L):0}function qa(e){if("number"==typeof e)return e;if(Va(e))return P;if(Ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(De,"");var n=Ue.test(e);return n||He.test(e)?Mt(e.slice(2),n?2:8):ze.test(e)?P:+e}function Ya(e){return rs(e,al(e))}function Wa(e){return null==e?"":Vr(e)}var Ka=os(function(e,t){if(Xs(t)||wa(t))rs(t,ol(t),e);else for(var n in t)ut.call(t,n)&&Mi(e,n,t[n])}),Ga=os(function(e,t){rs(t,al(t),e)}),Ja=os(function(e,t,n,i){rs(t,al(t),e,i)}),Za=os(function(e,t,n,i){rs(t,ol(t),e,i)}),Xa=Ds(Li);var Qa=Cr(function(e,n){e=et(e);var i=-1,r=n.length,s=r>2?n[2]:t;for(s&&Ks(n[0],n[1],s)&&(r=1);++i<r;)for(var o=n[i],a=al(o),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===t||ma(h,ot[c])&&!ut.call(e,c))&&(e[c]=o[c])}return e}),el=Cr(function(e){return e.push(t,As),Ht(ul,t,e)});function tl(e,n,i){var r=null==e?t:Ji(e,n);return r===t?i:r}function nl(e,t){return null!=e&&Hs(e,t,tr)}var il=ms(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),e[t]=n},Tl(Pl)),rl=ms(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),ut.call(e,t)?e[t].push(n):e[t]=[n]},Fs),sl=Cr(ir);function ol(e){return wa(e)?_i(e):cr(e)}function al(e){return wa(e)?_i(e,!0):hr(e)}var ll=os(function(e,t,n){gr(e,t,n)}),ul=os(function(e,t,n,i){gr(e,t,n,i)}),cl=Ds(function(e,t){var n={};if(null==e)return n;var i=!1;t=Zt(t,function(t){return t=Wr(t,e),i||(i=t.length>1),t}),rs(e,Ps(e),n),i&&(n=Ri(n,l|u|c,Ms));for(var r=t.length;r--;)jr(n,t[r]);return n});var hl=Ds(function(e,t){return null==e?{}:function(e,t){return br(e,t,function(t,n){return nl(e,n)})}(e,t)});function dl(e,t){if(null==e)return{};var n=Zt(Ps(e),function(e){return[e]});return t=Fs(t),br(e,n,function(e,n){return t(e,n[0])})}var pl=Cs(ol),fl=Cs(al);function ml(e){return null==e?[]:gn(e,ol(e))}var gl=cs(function(e,t,n){return t=t.toLowerCase(),e+(n?yl(t):t)});function yl(e){return El(Wa(e).toLowerCase())}function vl(e){return(e=Wa(e))&&e.replace(qe,kn).replace(yt,"")}var bl=cs(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),kl=cs(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),wl=us("toLowerCase");var xl=cs(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var _l=cs(function(e,t,n){return e+(n?" ":"")+El(t)});var Cl=cs(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),El=us("toUpperCase");function Sl(e,n,i){return e=Wa(e),(n=i?t:n)===t?function(e){return wt.test(e)}(e)?function(e){return e.match(bt)||[]}(e):function(e){return e.match(Fe)||[]}(e):e.match(n)||[]}var Al=Cr(function(e,n){try{return Ht(e,t,n)}catch(e){return Ea(e)?e:new Ze(e)}}),Ml=Ds(function(e,t){return qt(t,function(t){t=ho(t),Pi(e,t,ra(e[t],e))}),e});function Tl(e){return function(){return e}}var Dl=ps(),Ol=ps(!0);function Pl(e){return e}function Ll(e){return ur("function"==typeof e?e:Ri(e,l))}var Il=Cr(function(e,t){return function(n){return ir(n,e,t)}}),Rl=Cr(function(e,t){return function(n){return ir(e,n,t)}});function Fl(e,t,n){var i=ol(t),r=Gi(t,i);null!=n||Ta(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Gi(t,ol(t)));var s=!(Ta(n)&&"chain"in n&&!n.chain),o=Sa(e);return qt(r,function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),r=n.__actions__=is(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,Xt([this.value()],arguments))})}),e}function Vl(){}var Nl=ys(Zt),jl=ys(Wt),zl=ys(tn);function Ul(e){return Gs(e)?cn(ho(e)):function(e){return function(t){return Ji(t,e)}}(e)}var $l=bs(),Hl=bs(!0);function Bl(){return[]}function ql(){return!1}var Yl=gs(function(e,t){return e+t},0),Wl=xs("ceil"),Kl=gs(function(e,t){return e/t},1),Gl=xs("floor");var Jl=gs(function(e,t){return e*t},1),Zl=xs("round"),Xl=gs(function(e,t){return e-t},0);pi.after=function(e,t){if("function"!=typeof t)throw new it(r);return e=Ha(e),function(){if(--e<1)return t.apply(this,arguments)}},pi.ary=na,pi.assign=Ka,pi.assignIn=Ga,pi.assignInWith=Ja,pi.assignWith=Za,pi.at=Xa,pi.before=ia,pi.bind=ra,pi.bindAll=Ml,pi.bindKey=sa,pi.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ba(e)?e:[e]},pi.chain=Uo,pi.chunk=function(e,n,i){n=(i?Ks(e,n,i):n===t)?1:Bn(Ha(n),0);var r=null==e?0:e.length;if(!r||n<1)return[];for(var s=0,o=0,a=Ge(Vn(r/n));s<r;)a[o++]=Or(e,s,s+=n);return a},pi.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var s=e[t];s&&(r[i++]=s)}return r},pi.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Ge(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Xt(ba(n)?is(n):[n],Bi(t,1))},pi.cond=function(e){var t=null==e?0:e.length,n=Fs();return e=t?Zt(e,function(e){if("function"!=typeof e[1])throw new it(r);return[n(e[0]),e[1]]}):[],Cr(function(n){for(var i=-1;++i<t;){var r=e[i];if(Ht(r[0],this,n))return Ht(r[1],this,n)}})},pi.conforms=function(e){return function(e){var t=ol(e);return function(n){return Fi(n,e,t)}}(Ri(e,l))},pi.constant=Tl,pi.countBy=Bo,pi.create=function(e,t){var n=fi(e);return null==t?n:Oi(n,t)},pi.curry=function e(n,i,r){var s=Es(n,g,t,t,t,t,t,i=r?t:i);return s.placeholder=e.placeholder,s},pi.curryRight=function e(n,i,r){var s=Es(n,y,t,t,t,t,t,i=r?t:i);return s.placeholder=e.placeholder,s},pi.debounce=oa,pi.defaults=Qa,pi.defaultsDeep=el,pi.defer=aa,pi.delay=la,pi.difference=mo,pi.differenceBy=go,pi.differenceWith=yo,pi.drop=function(e,n,i){var r=null==e?0:e.length;return r?(n=i||n===t?1:Ha(n),Or(e,n<0?0:n,r)):[]},pi.dropRight=function(e,n,i){var r=null==e?0:e.length;return r?(n=i||n===t?1:Ha(n),Or(e,0,(n=r-n)<0?0:n)):[]},pi.dropRightWhile=function(e,t){return e&&e.length?Ur(e,Fs(t,3),!0,!0):[]},pi.dropWhile=function(e,t){return e&&e.length?Ur(e,Fs(t,3),!0):[]},pi.fill=function(e,n,i,r){var s=null==e?0:e.length;return s?(i&&"number"!=typeof i&&Ks(e,n,i)&&(i=0,r=s),function(e,n,i,r){var s=e.length;for((i=Ha(i))<0&&(i=-i>s?0:s+i),(r=r===t||r>s?s:Ha(r))<0&&(r+=s),r=i>r?0:Ba(r);i<r;)e[i++]=n;return e}(e,n,i,r)):[]},pi.filter=function(e,t){return(ba(e)?Kt:Hi)(e,Fs(t,3))},pi.flatMap=function(e,t){return Bi(Xo(e,t),1)},pi.flatMapDeep=function(e,t){return Bi(Xo(e,t),T)},pi.flatMapDepth=function(e,n,i){return i=i===t?1:Ha(i),Bi(Xo(e,n),i)},pi.flatten=ko,pi.flattenDeep=function(e){return null!=e&&e.length?Bi(e,T):[]},pi.flattenDepth=function(e,n){return null!=e&&e.length?(n=n===t?1:Ha(n),Bi(e,n)):[]},pi.flip=function(e){return Es(e,x)},pi.flow=Dl,pi.flowRight=Ol,pi.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},pi.functions=function(e){return null==e?[]:Gi(e,ol(e))},pi.functionsIn=function(e){return null==e?[]:Gi(e,al(e))},pi.groupBy=Go,pi.initial=function(e){return null!=e&&e.length?Or(e,0,-1):[]},pi.intersection=xo,pi.intersectionBy=_o,pi.intersectionWith=Co,pi.invert=il,pi.invertBy=rl,pi.invokeMap=Jo,pi.iteratee=Ll,pi.keyBy=Zo,pi.keys=ol,pi.keysIn=al,pi.map=Xo,pi.mapKeys=function(e,t){var n={};return t=Fs(t,3),Wi(e,function(e,i,r){Pi(n,t(e,i,r),e)}),n},pi.mapValues=function(e,t){var n={};return t=Fs(t,3),Wi(e,function(e,i,r){Pi(n,i,t(e,i,r))}),n},pi.matches=function(e){return fr(Ri(e,l))},pi.matchesProperty=function(e,t){return mr(e,Ri(t,l))},pi.memoize=ua,pi.merge=ll,pi.mergeWith=ul,pi.method=Il,pi.methodOf=Rl,pi.mixin=Fl,pi.negate=ca,pi.nthArg=function(e){return e=Ha(e),Cr(function(t){return yr(t,e)})},pi.omit=cl,pi.omitBy=function(e,t){return dl(e,ca(Fs(t)))},pi.once=function(e){return ia(2,e)},pi.orderBy=function(e,n,i,r){return null==e?[]:(ba(n)||(n=null==n?[]:[n]),ba(i=r?t:i)||(i=null==i?[]:[i]),vr(e,n,i))},pi.over=Nl,pi.overArgs=ha,pi.overEvery=jl,pi.overSome=zl,pi.partial=da,pi.partialRight=pa,pi.partition=Qo,pi.pick=hl,pi.pickBy=dl,pi.property=Ul,pi.propertyOf=function(e){return function(n){return null==e?t:Ji(e,n)}},pi.pull=So,pi.pullAll=Ao,pi.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?kr(e,t,Fs(n,2)):e},pi.pullAllWith=function(e,n,i){return e&&e.length&&n&&n.length?kr(e,n,t,i):e},pi.pullAt=Mo,pi.range=$l,pi.rangeRight=Hl,pi.rearg=fa,pi.reject=function(e,t){return(ba(e)?Kt:Hi)(e,ca(Fs(t,3)))},pi.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],s=e.length;for(t=Fs(t,3);++i<s;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return wr(e,r),n},pi.rest=function(e,n){if("function"!=typeof e)throw new it(r);return n=n===t?n:Ha(n),Cr(e,n)},pi.reverse=To,pi.sampleSize=function(e,n,i){return n=(i?Ks(e,n,i):n===t)?1:Ha(n),(ba(e)?Ei:Sr)(e,n)},pi.set=function(e,t,n){return null==e?e:Ar(e,t,n)},pi.setWith=function(e,n,i,r){return r="function"==typeof r?r:t,null==e?e:Ar(e,n,i,r)},pi.shuffle=function(e){return(ba(e)?Si:Dr)(e)},pi.slice=function(e,n,i){var r=null==e?0:e.length;return r?(i&&"number"!=typeof i&&Ks(e,n,i)?(n=0,i=r):(n=null==n?0:Ha(n),i=i===t?r:Ha(i)),Or(e,n,i)):[]},pi.sortBy=ea,pi.sortedUniq=function(e){return e&&e.length?Rr(e):[]},pi.sortedUniqBy=function(e,t){return e&&e.length?Rr(e,Fs(t,2)):[]},pi.split=function(e,n,i){return i&&"number"!=typeof i&&Ks(e,n,i)&&(n=i=t),(i=i===t?L:i>>>0)?(e=Wa(e))&&("string"==typeof n||null!=n&&!Ia(n))&&!(n=Vr(n))&&_n(e)?Gr(Dn(e),0,i):e.split(n,i):[]},pi.spread=function(e,t){if("function"!=typeof e)throw new it(r);return t=null==t?0:Bn(Ha(t),0),Cr(function(n){var i=n[t],r=Gr(n,0,t);return i&&Xt(r,i),Ht(e,this,r)})},pi.tail=function(e){var t=null==e?0:e.length;return t?Or(e,1,t):[]},pi.take=function(e,n,i){return e&&e.length?(n=i||n===t?1:Ha(n),Or(e,0,n<0?0:n)):[]},pi.takeRight=function(e,n,i){var r=null==e?0:e.length;return r?(n=i||n===t?1:Ha(n),Or(e,(n=r-n)<0?0:n,r)):[]},pi.takeRightWhile=function(e,t){return e&&e.length?Ur(e,Fs(t,3),!1,!0):[]},pi.takeWhile=function(e,t){return e&&e.length?Ur(e,Fs(t,3)):[]},pi.tap=function(e,t){return t(e),e},pi.throttle=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new it(r);return Ta(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),oa(e,t,{leading:i,maxWait:t,trailing:s})},pi.thru=$o,pi.toArray=Ua,pi.toPairs=pl,pi.toPairsIn=fl,pi.toPath=function(e){return ba(e)?Zt(e,ho):Va(e)?[e]:is(co(Wa(e)))},pi.toPlainObject=Ya,pi.transform=function(e,t,n){var i=ba(e),r=i||_a(e)||Na(e);if(t=Fs(t,4),null==n){var s=e&&e.constructor;n=r?i?new s:[]:Ta(e)&&Sa(s)?fi(Dt(e)):{}}return(r?qt:Wi)(e,function(e,i,r){return t(n,e,i,r)}),n},pi.unary=function(e){return na(e,1)},pi.union=Do,pi.unionBy=Oo,pi.unionWith=Po,pi.uniq=function(e){return e&&e.length?Nr(e):[]},pi.uniqBy=function(e,t){return e&&e.length?Nr(e,Fs(t,2)):[]},pi.uniqWith=function(e,n){return n="function"==typeof n?n:t,e&&e.length?Nr(e,t,n):[]},pi.unset=function(e,t){return null==e||jr(e,t)},pi.unzip=Lo,pi.unzipWith=Io,pi.update=function(e,t,n){return null==e?e:zr(e,t,Yr(n))},pi.updateWith=function(e,n,i,r){return r="function"==typeof r?r:t,null==e?e:zr(e,n,Yr(i),r)},pi.values=ml,pi.valuesIn=function(e){return null==e?[]:gn(e,al(e))},pi.without=Ro,pi.words=Sl,pi.wrap=function(e,t){return da(Yr(t),e)},pi.xor=Fo,pi.xorBy=Vo,pi.xorWith=No,pi.zip=jo,pi.zipObject=function(e,t){return Br(e||[],t||[],Mi)},pi.zipObjectDeep=function(e,t){return Br(e||[],t||[],Ar)},pi.zipWith=zo,pi.entries=pl,pi.entriesIn=fl,pi.extend=Ga,pi.extendWith=Ja,Fl(pi,pi),pi.add=Yl,pi.attempt=Al,pi.camelCase=gl,pi.capitalize=yl,pi.ceil=Wl,pi.clamp=function(e,n,i){return i===t&&(i=n,n=t),i!==t&&(i=(i=qa(i))==i?i:0),n!==t&&(n=(n=qa(n))==n?n:0),Ii(qa(e),n,i)},pi.clone=function(e){return Ri(e,c)},pi.cloneDeep=function(e){return Ri(e,l|c)},pi.cloneDeepWith=function(e,n){return Ri(e,l|c,n="function"==typeof n?n:t)},pi.cloneWith=function(e,n){return Ri(e,c,n="function"==typeof n?n:t)},pi.conformsTo=function(e,t){return null==t||Fi(e,t,ol(t))},pi.deburr=vl,pi.defaultTo=function(e,t){return null==e||e!=e?t:e},pi.divide=Kl,pi.endsWith=function(e,n,i){e=Wa(e),n=Vr(n);var r=e.length,s=i=i===t?r:Ii(Ha(i),0,r);return(i-=n.length)>=0&&e.slice(i,s)==n},pi.eq=ma,pi.escape=function(e){return(e=Wa(e))&&we.test(e)?e.replace(be,wn):e},pi.escapeRegExp=function(e){return(e=Wa(e))&&Te.test(e)?e.replace(Me,"\\$&"):e},pi.every=function(e,n,i){var r=ba(e)?Wt:Ui;return i&&Ks(e,n,i)&&(n=t),r(e,Fs(n,3))},pi.find=qo,pi.findIndex=vo,pi.findKey=function(e,t){return rn(e,Fs(t,3),Wi)},pi.findLast=Yo,pi.findLastIndex=bo,pi.findLastKey=function(e,t){return rn(e,Fs(t,3),Ki)},pi.floor=Gl,pi.forEach=Wo,pi.forEachRight=Ko,pi.forIn=function(e,t){return null==e?e:qi(e,Fs(t,3),al)},pi.forInRight=function(e,t){return null==e?e:Yi(e,Fs(t,3),al)},pi.forOwn=function(e,t){return e&&Wi(e,Fs(t,3))},pi.forOwnRight=function(e,t){return e&&Ki(e,Fs(t,3))},pi.get=tl,pi.gt=ga,pi.gte=ya,pi.has=function(e,t){return null!=e&&Hs(e,t,er)},pi.hasIn=nl,pi.head=wo,pi.identity=Pl,pi.includes=function(e,t,n,i){e=wa(e)?e:ml(e),n=n&&!i?Ha(n):0;var r=e.length;return n<0&&(n=Bn(r+n,0)),Fa(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&on(e,t,n)>-1},pi.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Ha(n);return r<0&&(r=Bn(i+r,0)),on(e,t,r)},pi.inRange=function(e,n,i){return n=$a(n),i===t?(i=n,n=0):i=$a(i),function(e,t,n){return e>=qn(t,n)&&e<Bn(t,n)}(e=qa(e),n,i)},pi.invoke=sl,pi.isArguments=va,pi.isArray=ba,pi.isArrayBuffer=ka,pi.isArrayLike=wa,pi.isArrayLikeObject=xa,pi.isBoolean=function(e){return!0===e||!1===e||Da(e)&&Xi(e)==z},pi.isBuffer=_a,pi.isDate=Ca,pi.isElement=function(e){return Da(e)&&1===e.nodeType&&!La(e)},pi.isEmpty=function(e){if(null==e)return!0;if(wa(e)&&(ba(e)||"string"==typeof e||"function"==typeof e.splice||_a(e)||Na(e)||va(e)))return!e.length;var t=$s(e);if(t==Y||t==X)return!e.size;if(Xs(e))return!cr(e).length;for(var n in e)if(ut.call(e,n))return!1;return!0},pi.isEqual=function(e,t){return sr(e,t)},pi.isEqualWith=function(e,n,i){var r=(i="function"==typeof i?i:t)?i(e,n):t;return r===t?sr(e,n,t,i):!!r},pi.isError=Ea,pi.isFinite=function(e){return"number"==typeof e&&Un(e)},pi.isFunction=Sa,pi.isInteger=Aa,pi.isLength=Ma,pi.isMap=Oa,pi.isMatch=function(e,t){return e===t||ar(e,t,Ns(t))},pi.isMatchWith=function(e,n,i){return i="function"==typeof i?i:t,ar(e,n,Ns(n),i)},pi.isNaN=function(e){return Pa(e)&&e!=+e},pi.isNative=function(e){if(Zs(e))throw new Ze(i);return lr(e)},pi.isNil=function(e){return null==e},pi.isNull=function(e){return null===e},pi.isNumber=Pa,pi.isObject=Ta,pi.isObjectLike=Da,pi.isPlainObject=La,pi.isRegExp=Ia,pi.isSafeInteger=function(e){return Aa(e)&&e>=-D&&e<=D},pi.isSet=Ra,pi.isString=Fa,pi.isSymbol=Va,pi.isTypedArray=Na,pi.isUndefined=function(e){return e===t},pi.isWeakMap=function(e){return Da(e)&&$s(e)==ne},pi.isWeakSet=function(e){return Da(e)&&Xi(e)==ie},pi.join=function(e,t){return null==e?"":$n.call(e,t)},pi.kebabCase=bl,pi.last=Eo,pi.lastIndexOf=function(e,n,i){var r=null==e?0:e.length;if(!r)return-1;var s=r;return i!==t&&(s=(s=Ha(i))<0?Bn(r+s,0):qn(s,r-1)),n==n?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,n,s):sn(e,ln,s,!0)},pi.lowerCase=kl,pi.lowerFirst=wl,pi.lt=ja,pi.lte=za,pi.max=function(e){return e&&e.length?$i(e,Pl,Qi):t},pi.maxBy=function(e,n){return e&&e.length?$i(e,Fs(n,2),Qi):t},pi.mean=function(e){return un(e,Pl)},pi.meanBy=function(e,t){return un(e,Fs(t,2))},pi.min=function(e){return e&&e.length?$i(e,Pl,dr):t},pi.minBy=function(e,n){return e&&e.length?$i(e,Fs(n,2),dr):t},pi.stubArray=Bl,pi.stubFalse=ql,pi.stubObject=function(){return{}},pi.stubString=function(){return""},pi.stubTrue=function(){return!0},pi.multiply=Jl,pi.nth=function(e,n){return e&&e.length?yr(e,Ha(n)):t},pi.noConflict=function(){return Ot._===this&&(Ot._=ft),this},pi.noop=Vl,pi.now=ta,pi.pad=function(e,t,n){e=Wa(e);var i=(t=Ha(t))?Tn(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return vs(Nn(r),n)+e+vs(Vn(r),n)},pi.padEnd=function(e,t,n){e=Wa(e);var i=(t=Ha(t))?Tn(e):0;return t&&i<t?e+vs(t-i,n):e},pi.padStart=function(e,t,n){e=Wa(e);var i=(t=Ha(t))?Tn(e):0;return t&&i<t?vs(t-i,n)+e:e},pi.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Wn(Wa(e).replace(Oe,""),t||0)},pi.random=function(e,n,i){if(i&&"boolean"!=typeof i&&Ks(e,n,i)&&(n=i=t),i===t&&("boolean"==typeof n?(i=n,n=t):"boolean"==typeof e&&(i=e,e=t)),e===t&&n===t?(e=0,n=1):(e=$a(e),n===t?(n=e,e=0):n=$a(n)),e>n){var r=e;e=n,n=r}if(i||e%1||n%1){var s=Kn();return qn(e+s*(n-e+At("1e-"+((s+"").length-1))),n)}return xr(e,n)},pi.reduce=function(e,t,n){var i=ba(e)?Qt:dn,r=arguments.length<3;return i(e,Fs(t,4),n,r,ji)},pi.reduceRight=function(e,t,n){var i=ba(e)?en:dn,r=arguments.length<3;return i(e,Fs(t,4),n,r,zi)},pi.repeat=function(e,n,i){return n=(i?Ks(e,n,i):n===t)?1:Ha(n),_r(Wa(e),n)},pi.replace=function(){var e=arguments,t=Wa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pi.result=function(e,n,i){var r=-1,s=(n=Wr(n,e)).length;for(s||(s=1,e=t);++r<s;){var o=null==e?t:e[ho(n[r])];o===t&&(r=s,o=i),e=Sa(o)?o.call(e):o}return e},pi.round=Zl,pi.runInContext=e,pi.sample=function(e){return(ba(e)?Ci:Er)(e)},pi.size=function(e){if(null==e)return 0;if(wa(e))return Fa(e)?Tn(e):e.length;var t=$s(e);return t==Y||t==X?e.size:cr(e).length},pi.snakeCase=xl,pi.some=function(e,n,i){var r=ba(e)?tn:Pr;return i&&Ks(e,n,i)&&(n=t),r(e,Fs(n,3))},pi.sortedIndex=function(e,t){return Lr(e,t)},pi.sortedIndexBy=function(e,t,n){return Ir(e,t,Fs(n,2))},pi.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Lr(e,t);if(i<n&&ma(e[i],t))return i}return-1},pi.sortedLastIndex=function(e,t){return Lr(e,t,!0)},pi.sortedLastIndexBy=function(e,t,n){return Ir(e,t,Fs(n,2),!0)},pi.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Lr(e,t,!0)-1;if(ma(e[n],t))return n}return-1},pi.startCase=_l,pi.startsWith=function(e,t,n){return e=Wa(e),n=null==n?0:Ii(Ha(n),0,e.length),t=Vr(t),e.slice(n,n+t.length)==t},pi.subtract=Xl,pi.sum=function(e){return e&&e.length?pn(e,Pl):0},pi.sumBy=function(e,t){return e&&e.length?pn(e,Fs(t,2)):0},pi.template=function(e,n,i){var r=pi.templateSettings;i&&Ks(e,n,i)&&(n=t),e=Wa(e),n=Ja({},n,r,Ss);var s,o,a=Ja({},n.imports,r.imports,Ss),l=ol(a),u=gn(a,l),c=0,h=n.interpolate||Ye,d="__p += '",p=tt((n.escape||Ye).source+"|"+h.source+"|"+(h===Ce?Ne:Ye).source+"|"+(n.evaluate||Ye).source+"|$","g"),f="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++_t+"]")+"\n";e.replace(p,function(t,n,i,r,a,l){return i||(i=r),d+=e.slice(c,l).replace(We,xn),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var m=n.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(me,""):d).replace(ge,"$1").replace(ye,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Al(function(){return Xe(l,f+"return "+d).apply(t,u)});if(g.source=d,Ea(g))throw g;return g},pi.times=function(e,t){if((e=Ha(e))<1||e>D)return[];var n=L,i=qn(e,L);t=Fs(t),e-=L;for(var r=fn(i,t);++n<e;)t(n);return r},pi.toFinite=$a,pi.toInteger=Ha,pi.toLength=Ba,pi.toLower=function(e){return Wa(e).toLowerCase()},pi.toNumber=qa,pi.toSafeInteger=function(e){return e?Ii(Ha(e),-D,D):0===e?e:0},pi.toString=Wa,pi.toUpper=function(e){return Wa(e).toUpperCase()},pi.trim=function(e,n,i){if((e=Wa(e))&&(i||n===t))return e.replace(De,"");if(!e||!(n=Vr(n)))return e;var r=Dn(e),s=Dn(n),o=vn(r,s),a=bn(r,s)+1;return Gr(r,o,a).join("")},pi.trimEnd=function(e,n,i){if((e=Wa(e))&&(i||n===t))return e.replace(Pe,"");if(!e||!(n=Vr(n)))return e;var r=Dn(e),s=bn(r,Dn(n))+1;return Gr(r,0,s).join("")},pi.trimStart=function(e,n,i){if((e=Wa(e))&&(i||n===t))return e.replace(Oe,"");if(!e||!(n=Vr(n)))return e;var r=Dn(e),s=vn(r,Dn(n));return Gr(r,s).join("")},pi.truncate=function(e,n){var i=_,r=C;if(Ta(n)){var s="separator"in n?n.separator:s;i="length"in n?Ha(n.length):i,r="omission"in n?Vr(n.omission):r}var o=(e=Wa(e)).length;if(_n(e)){var a=Dn(e);o=a.length}if(i>=o)return e;var l=i-Tn(r);if(l<1)return r;var u=a?Gr(a,0,l).join(""):e.slice(0,l);if(s===t)return u+r;if(a&&(l+=u.length-l),Ia(s)){if(e.slice(l).search(s)){var c,h=u;for(s.global||(s=tt(s.source,Wa(je.exec(s))+"g")),s.lastIndex=0;c=s.exec(h);)var d=c.index;u=u.slice(0,d===t?l:d)}}else if(e.indexOf(Vr(s),l)!=l){var p=u.lastIndexOf(s);p>-1&&(u=u.slice(0,p))}return u+r},pi.unescape=function(e){return(e=Wa(e))&&ke.test(e)?e.replace(ve,On):e},pi.uniqueId=function(e){var t=++ct;return Wa(e)+t},pi.upperCase=Cl,pi.upperFirst=El,pi.each=Wo,pi.eachRight=Ko,pi.first=wo,Fl(pi,(Ql={},Wi(pi,function(e,t){ut.call(pi.prototype,t)||(Ql[t]=e)}),Ql),{chain:!1}),pi.VERSION="4.17.11",qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){pi[e].placeholder=pi}),qt(["drop","take"],function(e,n){yi.prototype[e]=function(i){i=i===t?1:Bn(Ha(i),0);var r=this.__filtered__&&!n?new yi(this):this.clone();return r.__filtered__?r.__takeCount__=qn(i,r.__takeCount__):r.__views__.push({size:qn(i,L),type:e+(r.__dir__<0?"Right":"")}),r},yi.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),qt(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==A||3==n;yi.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Fs(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),qt(["head","last"],function(e,t){var n="take"+(t?"Right":"");yi.prototype[e]=function(){return this[n](1).value()[0]}}),qt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");yi.prototype[e]=function(){return this.__filtered__?new yi(this):this[n](1)}}),yi.prototype.compact=function(){return this.filter(Pl)},yi.prototype.find=function(e){return this.filter(e).head()},yi.prototype.findLast=function(e){return this.reverse().find(e)},yi.prototype.invokeMap=Cr(function(e,t){return"function"==typeof e?new yi(this):this.map(function(n){return ir(n,e,t)})}),yi.prototype.reject=function(e){return this.filter(ca(Fs(e)))},yi.prototype.slice=function(e,n){e=Ha(e);var i=this;return i.__filtered__&&(e>0||n<0)?new yi(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),n!==t&&(i=(n=Ha(n))<0?i.dropRight(-n):i.take(n-e)),i)},yi.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yi.prototype.toArray=function(){return this.take(L)},Wi(yi.prototype,function(e,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),s=pi[r?"take"+("last"==n?"Right":""):n],o=r||/^find/.test(n);s&&(pi.prototype[n]=function(){var n=this.__wrapped__,a=r?[1]:arguments,l=n instanceof yi,u=a[0],c=l||ba(n),h=function(e){var t=s.apply(pi,Xt([e],a));return r&&d?t[0]:t};c&&i&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,p=!!this.__actions__.length,f=o&&!d,m=l&&!p;if(!o&&c){n=m?n:new yi(this);var g=e.apply(n,a);return g.__actions__.push({func:$o,args:[h],thisArg:t}),new gi(g,d)}return f&&m?e.apply(this,a):(g=this.thru(h),f?r?g.value()[0]:g.value():g)})}),qt(["pop","push","shift","sort","splice","unshift"],function(e){var t=rt[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);pi.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(ba(r)?r:[],e)}return this[n](function(n){return t.apply(ba(n)?n:[],e)})}}),Wi(yi.prototype,function(e,t){var n=pi[t];if(n){var i=n.name+"";(ii[i]||(ii[i]=[])).push({name:t,func:n})}}),ii[fs(t,f).name]=[{name:"wrapper",func:t}],yi.prototype.clone=function(){var e=new yi(this.__wrapped__);return e.__actions__=is(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=is(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=is(this.__views__),e},yi.prototype.reverse=function(){if(this.__filtered__){var e=new yi(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yi.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ba(e),i=t<0,r=n?e.length:0,s=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=qn(t,e+o);break;case"takeRight":e=Bn(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=s.start,a=s.end,l=a-o,u=i?a:o-1,c=this.__iteratees__,h=c.length,d=0,p=qn(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return $r(e,this.__actions__);var f=[];e:for(;l--&&d<p;){for(var m=-1,g=e[u+=t];++m<h;){var y=c[m],v=y.iteratee,b=y.type,k=v(g);if(b==M)g=k;else if(!k){if(b==A)continue e;break e}}f[d++]=g}return f},pi.prototype.at=Ho,pi.prototype.chain=function(){return Uo(this)},pi.prototype.commit=function(){return new gi(this.value(),this.__chain__)},pi.prototype.next=function(){this.__values__===t&&(this.__values__=Ua(this.value()));var e=this.__index__>=this.__values__.length,n=e?t:this.__values__[this.__index__++];return{done:e,value:n}},pi.prototype.plant=function(e){for(var n,i=this;i instanceof mi;){var r=fo(i);r.__index__=0,r.__values__=t,n?s.__wrapped__=r:n=r;var s=r;i=i.__wrapped__}return s.__wrapped__=e,n},pi.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yi){var n=e;return this.__actions__.length&&(n=new yi(this)),(n=n.reverse()).__actions__.push({func:$o,args:[To],thisArg:t}),new gi(n,this.__chain__)}return this.thru(To)},pi.prototype.toJSON=pi.prototype.valueOf=pi.prototype.value=function(){return $r(this.__wrapped__,this.__actions__)},pi.prototype.first=pi.prototype.head,nn&&(pi.prototype[nn]=function(){return this});var Ql;return pi}();return e.lodash=Pn}),e("skylark-lodash/main",["./lodash"],function(e){return e}),e("skylark-lodash",["skylark-lodash/main"],function(e){return e}),e("skylark-formio/vendors/getify/npo",[],function(){return Promise}),e("skylark-formio/vendors/fetch-ponyfill/fetch",[],function(){var e=window;return function(t){var n=t&&t.Promise||e.Promise,i=t&&t.XMLHttpRequest||e.XMLHttpRequest,r=e;return function(){var e=Object.create(r,{fetch:{value:void 0,writable:!0}});return function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};d.prototype.append=function(e,t){e=u(e),t=c(t);var n=this.map[e];this.map[e]=n?n+","+t:t},d.prototype.delete=function(e){delete this.map[u(e)]},d.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},d.prototype.set=function(e,t){this.map[u(e)]=c(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),h(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),h(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),h(e)},t.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var l=[301,302,303,307,308];k.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=v,e.Response=k,e.fetch=function(e,r){return new n(function(n,s){var o=new v(e,r),a=new i;a.onload=function(){var e,t,i={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t)};i.url="responseURL"in a?a.responseURL:i.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new k(r,i))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function p(e){if(e.bodyUsed)return n.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new n(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function m(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&s(e))this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=g(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return n.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return n.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||n.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,i,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,i=f(t),t.readAsText(e),i;if(this._bodyArrayBuffer)return n.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return n.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var n,i,r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),a.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function k(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}}(void 0!==e?e:this),{fetch:e.fetch,Headers:e.Headers,Request:e.Request,Response:e.Response}}()}}),e("skylark-formio/vendors/eventemitter2/EventEmitter2",[],function(){var e=Object.hasOwnProperty,t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n="object"==typeof process&&"function"==typeof process.nextTick,i="function"==typeof Symbol,r="object"==typeof Reflect,s="function"==typeof setImmediate,o=s?setImmediate:setTimeout,a=i?r&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function l(){this._events={},this._conf&&u.call(this,this._conf)}function u(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),void 0!==e.maxListeners&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function c(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,process.emitWarning(i)}else console.error(n),console.trace&&console.trace()}var h=function(e,t,n){var i=arguments.length;switch(i){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var r=new Array(i);i--;)r[i]=arguments[i];return r}};function d(e,t){for(var n,i={},r=e.length,s=t?value.length:0,o=0;o<r;o++)n=e[o],i[n]=o<s?t[o]:void 0;return i}function p(e,t,n){var i,r;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(i=n.on,r=n.off),t.addEventListener?(i=t.addEventListener,r=t.removeEventListener):t.addListener?(i=t.addListener,r=t.removeListener):t.on&&(i=t.on,r=t.off),!i&&!r)throw Error("target does not implement any known event API");if("function"!=typeof i)throw TypeError("on method must be a function");if("function"!=typeof r)throw TypeError("off method must be a function");this._on=i,this._off=r;var s=e._observers;s?s.push(this):e._observers=[this]}function f(t,n,i,r){var s=Object.assign({},n);if(!t)return s;if("object"!=typeof t)throw TypeError("options must be an object");var o,a,l,u=Object.keys(t),c=u.length;function h(e){throw Error('Invalid "'+o+'" option value'+(e?". Reason: "+e:""))}for(var d=0;d<c;d++){if(o=u[d],!r&&!e.call(n,o))throw Error('Unknown "'+o+'" option');void 0!==(a=t[o])&&(l=i[o],s[o]=l?l(a,h):a)}return s}function m(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function g(e){var t="value must be type of "+e.join("|"),n=e.length,i=e[0],r=e[1];return 1===n?function(e,n){if(typeof e===i)return e;n(t)}:2===n?function(e,n){var s=typeof e;if(s===i||s===r)return e;n(t)}:function(i,r){for(var s=typeof i,o=n;o-- >0;)if(s===e[o])return i;r(t)}}Object.assign(p.prototype,{subscribe:function(e,t,n){var i=this,r=this._target,s=this._emitter,o=this._listeners,a=function(){var i=h.apply(null,arguments),o={data:i,name:t,original:e};if(n){var a=n.call(r,o);!1!==a&&s.emit.apply(s,[o.name].concat(i))}else s.emit.apply(s,[t].concat(i))};if(o[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,s._newListener&&s._removeListener&&!i._onNewListener?(this._onNewListener=function(n){n===t&&null===o[e]&&(o[e]=a,i._on.call(r,e,a))},s.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!s.hasListeners(n)&&o[e]&&(o[e]=null,i._off.call(r,e,a))},o[e]=null,s.on("removeListener",this._onRemoveListener)):(o[e]=a,i._on.call(r,e,a))},unsubscribe:function(e){var t,n,i,r=this,s=this._listeners,o=this._emitter,l=this._off,u=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function c(){r._onNewListener&&(o.off("newListener",r._onNewListener),o.off("removeListener",r._onRemoveListener),r._onNewListener=null,r._onRemoveListener=null);var e=k.call(o,r);o._observers.splice(e,1)}if(e){if(!(t=s[e]))return;l.call(u,e,t),delete s[e],--this._listenersCount||c()}else{for(n=a(s),i=n.length;i-- >0;)e=n[i],l.call(u,e,s[e]);this._listeners={},this._listenersCount=0,c()}}});var y=g(["function"]),v=g(["object","function"]);function b(e,t,n){var i,r,s,o=0,a=new e(function(l,u,c){function h(){r&&(r=null),o&&(clearTimeout(o),o=0)}n=f(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}});var d=function(e){h(),l(e)},p=function(e){h(),u(e)};(i=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof c)?t(d,p,c):(r=[function(e){p(e||Error("canceled"))}],t(d,p,function(e){if(s)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");r.push(e)}),s=!0),n.timeout>0&&(o=setTimeout(function(){var e=Error("timeout");o=0,a.cancel(e),u(e)},n.timeout))});return i||(a.cancel=function(e){if(r){for(var t=r.length,n=1;n<t;n++)r[n](e);r[0](e),r=null}}),a}function k(e){var t=this._observers;if(!t)return-1;for(var n=t.length,i=0;i<n;i++)if(t[i]._target===e)return i;return-1}function w(e,t,n,i,r){if(!n)return null;if(0===i){var s=typeof t;if("string"===s){var o,l,u=0,c=0,h=this.delimiter,d=h.length;if(-1!==(l=t.indexOf(h))){o=new Array(5);do{o[u++]=t.slice(c,l),c=l+d}while(-1!==(l=t.indexOf(h,c)));o[u++]=t.slice(c),t=o,r=u}else t=[t],r=1}else"object"===s?r=t.length:(t=[t],r=1)}var p,f,m,g,y,v,b,k=null,x=t[i],_=t[i+1];if(i===r&&n._listeners)return"function"==typeof n._listeners?(e&&e.push(n._listeners),[n]):(e&&e.push.apply(e,n._listeners),[n]);if("*"===x){for(v=a(n),l=v.length;l-- >0;)"_listeners"!==(p=v[l])&&(b=w(e,t,n[p],i+1,r))&&(k?k.push.apply(k,b):k=b);return k}if("**"===x){for((y=i+1===r||i+2===r&&"*"===_)&&n._listeners&&(k=w(e,t,n,r,r)),v=a(n),l=v.length;l-- >0;)"_listeners"!==(p=v[l])&&("*"===p||"**"===p?(n[p]._listeners&&!y&&(b=w(e,t,n[p],r,r))&&(k?k.push.apply(k,b):k=b),b=w(e,t,n[p],i,r)):b=w(e,t,n[p],p===_?i+2:i,r),b&&(k?k.push.apply(k,b):k=b));return k}if(n[x]&&(k=w(e,t,n[x],i+1,r)),(f=n["*"])&&w(e,t,f,i+1,r),m=n["**"])if(i<r)for(m._listeners&&w(e,t,m,r,r),v=a(m),l=v.length;l-- >0;)"_listeners"!==(p=v[l])&&(p===_?w(e,t,m[p],i+2,r):p===x?w(e,t,m[p],i+1,r):((g={})[p]=m[p],w(e,t,{"**":g},i+1,r)));else m._listeners?w(e,t,m,r,r):m["*"]&&m["*"]._listeners&&w(e,t,m["*"],r,r);return k}function x(e){for(var t,n,i,r=a(e),s=r.length;s-- >0;)n=r[s],(t=e[n])&&(i=!0,"_listeners"===n||x(t)||delete e[n]);return i}function _(e,t,n){this.emitter=e,this.event=t,this.listener=n}function C(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,u.call(this,e)}_.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},C.EventEmitter2=C,C.prototype.listenTo=function(e,n,i){if("object"!=typeof e)throw TypeError("target musts be an object");var r=this;function s(t){if("object"!=typeof t)throw TypeError("events must be an object");var n,s=i.reducers,o=k.call(r,e);n=-1===o?new p(r,e,i):r._observers[o];for(var l,u=a(t),c=u.length,h="function"==typeof s,d=0;d<c;d++)l=u[d],n.subscribe(l,t[l]||l,h?s:s&&s[l])}return i=f(i,{on:void 0,off:void 0,reducers:void 0},{on:y,off:y,reducers:v}),t(n)?s(d(n)):s("string"==typeof n?d(n.split(/\s+/)):n),this},C.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var i,r=n.length,s=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;r-- >0;)i=n[r],e&&i._target!==e||(i.unsubscribe(t),s=!0);return s},C.prototype.delimiter=".",C.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},C.prototype.getMaxListeners=function(){return this._maxListeners},C.prototype.event="",C.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},C.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},C.prototype._once=function(e,t,n,i){return this._many(e,1,t,n,i)},C.prototype.many=function(e,t,n,i){return this._many(e,t,n,!1,i)},C.prototype.prependMany=function(e,t,n,i){return this._many(e,t,n,!0,i)},C.prototype._many=function(e,t,n,i,r){var s=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&s.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,i,r)},C.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var e,t,n,r,s,o,a=arguments[0],u=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return!1;if(u&&(e=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(n=a.length,i)for(r=0;r<n;r++)if("symbol"==typeof a[r]){o=!0;break}o||(a=a.join(this.delimiter))}var c,h=arguments.length;if(this._all&&this._all.length)for(c=this._all.slice(),r=0,n=c.length;r<n;r++)switch(this.event=a,h){case 1:c[r].call(this,a);break;case 2:c[r].call(this,a,arguments[1]);break;case 3:c[r].call(this,a,arguments[1],arguments[2]);break;default:c[r].apply(this,arguments)}if(u)c=[],w.call(this,c,e,this.listenerTree,0,n);else{if("function"==typeof(c=this._events[a])){switch(this.event=a,h){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(h-1),s=1;s<h;s++)t[s-1]=arguments[s];c.apply(this,t)}return!0}c&&(c=c.slice())}if(c&&c.length){if(h>3)for(t=new Array(h-1),s=1;s<h;s++)t[s-1]=arguments[s];for(r=0,n=c.length;r<n;r++)switch(this.event=a,h){case 1:c[r].call(this);break;case 2:c[r].call(this,arguments[1]);break;case 3:c[r].call(this,arguments[1],arguments[2]);break;default:c[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===a)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},C.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var e,t,n,r,s,o,a=arguments[0],u=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(u&&(e=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(r=a.length,i)for(s=0;s<r;s++)if("symbol"==typeof a[s]){t=!0;break}t||(a=a.join(this.delimiter))}var c,h=[],d=arguments.length;if(this._all)for(s=0,r=this._all.length;s<r;s++)switch(this.event=a,d){case 1:h.push(this._all[s].call(this,a));break;case 2:h.push(this._all[s].call(this,a,arguments[1]));break;case 3:h.push(this._all[s].call(this,a,arguments[1],arguments[2]));break;default:h.push(this._all[s].apply(this,arguments))}if(u?(c=[],w.call(this,c,e,this.listenerTree,0)):c=this._events[a],"function"==typeof c)switch(this.event=a,d){case 1:h.push(c.call(this));break;case 2:h.push(c.call(this,arguments[1]));break;case 3:h.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(d-1),o=1;o<d;o++)n[o-1]=arguments[o];h.push(c.apply(this,n))}else if(c&&c.length){if(c=c.slice(),d>3)for(n=new Array(d-1),o=1;o<d;o++)n[o-1]=arguments[o];for(s=0,r=c.length;s<r;s++)switch(this.event=a,d){case 1:h.push(c[s].call(this));break;case 2:h.push(c[s].call(this,arguments[1]));break;case 3:h.push(c[s].call(this,arguments[1],arguments[2]));break;default:h.push(c[s].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===a)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(h)},C.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},C.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},C.prototype.onAny=function(e){return this._onAny(e,!1)},C.prototype.prependAny=function(e){return this._onAny(e,!0)},C.prototype.addListener=C.prototype.on,C.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},C.prototype._on=function(e,t,i,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");this._events||l.call(this);var s,a=this;return void 0!==r&&(s=function(e,t,i){if(!0===i)s=!0;else if(!1===i)r=!0;else{if(!i||"object"!=typeof i)throw TypeError("options should be an object or true");var r=i.async,s=i.promisify,a=i.nextTick,l=i.objectify}if(r||a||s){var u=t,c=t._origin||t;if(a&&!n)throw Error("process.nextTick is not supported");void 0===s&&(s="AsyncFunction"===t.constructor.name),(t=function(){var e=arguments,t=this,n=this.event;return s?a?Promise.resolve():new Promise(function(e){o(e)}).then(function(){return t.event=n,u.apply(t,e)}):(a?process.nextTick:o)(function(){t.event=n,u.apply(t,e)})})._async=!0,t._origin=c}return[t,l?new _(this,e,t):this]}.call(this,e,t,r),t=s[0],a=s[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?(function(e,t){var n,i,r=0,s=0,o=this.delimiter,a=o.length;if("string"==typeof e)if(-1!==(n=e.indexOf(o))){i=new Array(5);do{i[r++]=e.slice(s,n),s=n+a}while(-1!==(n=e.indexOf(o,s)));i[r++]=e.slice(s)}else i=[e],r=1;else i=e,r=e.length;if(r>1)for(n=0;n+1<r;n++)if("**"===i[n]&&"**"===i[n+1])return;var l,u=this.listenerTree;for(n=0;n<r;n++)if(l=i[n],u=u[l]||(u[l]={}),n===r-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,c.call(this,u._listeners.length,l))):u._listeners=t,!0;return!0}.call(this,e,t),a):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),i?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,c.call(this,this._events[e].length,e))):this._events[e]=t,a)},C.prototype.off=function(e,n){if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");var i,r=[];if(this.wildcard){var s="string"==typeof e?e.split(this.delimiter):e.slice();if(!(r=w.call(this,null,s,this.listenerTree,0)))return this}else{if(!this._events[e])return this;i=this._events[e],r.push({_listeners:i})}for(var o=0;o<r.length;o++){var a=r[o];if(i=a._listeners,t(i)){for(var l=-1,u=0,c=i.length;u<c;u++)if(i[u]===n||i[u].listener&&i[u].listener===n||i[u]._origin&&i[u]._origin===n){l=u;break}if(l<0)continue;return this.wildcard?a._listeners.splice(l,1):this._events[e].splice(l,1),0===i.length&&(this.wildcard?delete a._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,n),this}(i===n||i.listener&&i.listener===n||i._origin&&i._origin===n)&&(this.wildcard?delete a._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,n))}return this.listenerTree&&x(this.listenerTree),this},C.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,i=t.length;n<i;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,i=t.length;n<i;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},C.prototype.removeListener=C.prototype.off,C.prototype.removeAllListeners=function(e){if(void 0===e)return!this._events||l.call(this),this;if(this.wildcard){var t,n=w.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&x(this.listenerTree)}else this._events&&(this._events[e]=null);return this},C.prototype.listeners=function(e){var t,n,i,r,s,o=this._events;if(void 0===e){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!o)return[];for(t=a(o),r=t.length,i=[];r-- >0;)"function"==typeof(n=o[t[r]])?i.push(n):i.push.apply(i,n);return i}if(this.wildcard){if(!(s=this.listenerTree))return[];var l=[],u="string"==typeof e?e.split(this.delimiter):e.slice();return w.call(this,l,u,s,0),l}return o&&(n=o[e])?"function"==typeof n?[n]:n:[]},C.prototype.eventNames=function(e){var t=this._events;return this.wildcard?function e(t,n,i,r){var s=a(t);var o=s.length;var l,u,c;var h=t._listeners;var d;for(;o-- >0;)u=s[o],l=t[u],c="_listeners"===u?i:i?i.concat(u):[u],d=r||"symbol"==typeof u,h&&n.push(d?c:c.join(this.delimiter)),"object"==typeof l&&e.call(this,l,n,c,d);return n}.call(this,this.listenerTree,[],null,e):t?a(t):[]},C.prototype.listenerCount=function(e){return this.listeners(e).length},C.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return w.call(this,t,n,this.listenerTree,0),t.length>0}var i=this._events,r=this._all;return!!(r&&r.length||i&&(void 0===e?a(i).length:i[e]))},C.prototype.listenersAny=function(){return this._all?this._all:[]},C.prototype.waitFor=function(e,t){var n=this,i=typeof t;return"number"===i?t={timeout:t}:"function"===i&&(t={filter:t}),b((t=f(t,{timeout:0,filter:void 0,handleError:!1,Promise:Promise,overload:!1},{filter:y,Promise:m})).Promise,function(i,r,s){function o(){var s=t.filter;if(!s||s.apply(n,arguments))if(n.off(e,o),t.handleError){var a=arguments[0];a?r(a):i(h.apply(null,arguments).slice(1))}else i(h.apply(null,arguments))}s(function(){n.off(e,o)}),n._on(e,o,!1)},{timeout:t.timeout,overload:t.overload})};var E=C.prototype;return Object.defineProperties(C,{defaultMaxListeners:{get:function(){return E._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");E._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return b((n=f(n,{Promise:Promise,timeout:0,overload:!1},{Promise:m})).Promise,function(n,i,r){var s;if("function"==typeof e.addEventListener)return s=function(){n(h.apply(null,arguments))},r(function(){e.removeEventListener(t,s)}),void e.addEventListener(t,s,{once:!0});var o,a=function(){o&&e.removeListener("error",o),n(h.apply(null,arguments))};"error"!==t&&(o=function(n){e.removeListener(t,a),i(n)},e.once("error",o)),r(function(){o&&e.removeListener("error",o),e.removeListener(t,a)}),e.once(t,a)},{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(E,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),C}),e("skylark-formio/vendors/json-logic-js/logic",[],function(){"use strict";Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var e={},t={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,n){return void 0===n?e<t:e<t&&t<n},"<=":function(e,t,n){return void 0===n?e<=t:e<=t&&t<=n},"!!":function(t){return e.truthy(t)},"!":function(t){return!e.truthy(t)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!(!t||void 0===t.indexOf)&&-1!==t.indexOf(e)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,n){if(n<0){var i=String(e).substr(t);return i.substr(0,i.length+n)}return String(e).substr(t,n)},"+":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)+parseFloat(t,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)*parseFloat(t,10)})},"-":function(e,t){return void 0===t?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(e,t){return e.concat(t)},[])},var:function(e,t){var n=void 0===t?null:t,i=this;if(void 0===e||""===e||null===e)return i;for(var r=String(e).split("."),s=0;s<r.length;s++){if(null===i)return n;if(void 0===(i=i[r[s]]))return n}return i},missing:function(){for(var t=[],n=Array.isArray(arguments[0])?arguments[0]:arguments,i=0;i<n.length;i++){var r=n[i],s=e.apply({var:r},this);null!==s&&""!==s||t.push(r)}return t},missing_some:function(t,n){var i=e.apply({missing:n},this);return n.length-i.length>=t?[]:i},method:function(e,t,n){return e[t].apply(e,n)}};return e.is_logic=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length},e.truthy=function(e){return(!Array.isArray(e)||0!==e.length)&&!!e},e.get_operator=function(e){return Object.keys(e)[0]},e.get_values=function(t){return t[e.get_operator(t)]},e.apply=function(n,i){if(Array.isArray(n))return n.map(function(t){return e.apply(t,i)});if(!e.is_logic(n))return n;i=i||{};var r,s,o,a,l,u=e.get_operator(n),c=n[u];if(Array.isArray(c)||(c=[c]),"if"===u||"?:"==u){for(r=0;r<c.length-1;r+=2)if(e.truthy(e.apply(c[r],i)))return e.apply(c[r+1],i);return c.length===r+1?e.apply(c[r],i):null}if("and"===u){for(r=0;r<c.length;r+=1)if(s=e.apply(c[r],i),!e.truthy(s))return s;return s}if("or"===u){for(r=0;r<c.length;r+=1)if(s=e.apply(c[r],i),e.truthy(s))return s;return s}if("filter"===u)return a=e.apply(c[0],i),o=c[1],Array.isArray(a)?a.filter(function(t){return e.truthy(e.apply(o,t))}):[];if("map"===u)return a=e.apply(c[0],i),o=c[1],Array.isArray(a)?a.map(function(t){return e.apply(o,t)}):[];if("reduce"===u)return a=e.apply(c[0],i),o=c[1],l=void 0!==c[2]?c[2]:null,Array.isArray(a)?a.reduce(function(t,n){return e.apply(o,{current:n,accumulator:t})},l):l;if("all"===u){if(a=e.apply(c[0],i),o=c[1],!a.length)return!1;for(r=0;r<a.length;r+=1)if(!e.truthy(e.apply(o,a[r])))return!1;return!0}if("none"===u)return 0===e.apply({filter:c},i).length;if("some"===u)return e.apply({filter:c},i).length>0;if(c=c.map(function(t){return e.apply(t,i)}),"function"==typeof t[u])return t[u].apply(i,c);if(u.indexOf(".")>0){var h=String(u).split("."),d=t;for(r=0;r<h.length;r++)if(void 0===(d=d[h[r]]))throw new Error("Unrecognized operation "+u+" (failed at "+h.slice(0,r+1).join(".")+")");return d.apply(i,c)}throw new Error("Unrecognized operation "+u)},e.uses_data=function(t){var n=[];if(e.is_logic(t)){var i=e.get_operator(t),r=t[i];Array.isArray(r)||(r=[r]),"var"===i?n.push(r[0]):r.map(function(t){n.push.apply(n,e.uses_data(t))})}return function(e){for(var t=[],n=0,i=e.length;n<i;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n)},e.add_operation=function(e,n){t[e]=n},e.rm_operation=function(e){delete t[e]},e.rule_like=function(t,n){if(n===t)return!0;if("@"===n)return!0;if("number"===n)return"number"==typeof t;if("string"===n)return"string"==typeof t;if("array"===n)return Array.isArray(t)&&!e.is_logic(t);if(e.is_logic(n)){if(e.is_logic(t)){var i=e.get_operator(n),r=e.get_operator(t);if("@"===i||i===r)return e.rule_like(e.get_values(t,!1),e.get_values(n,!1))}return!1}if(Array.isArray(n)){if(Array.isArray(t)){if(n.length!==t.length)return!1;for(var s=0;s<n.length;s+=1)if(!e.rule_like(t[s],n[s]))return!1;return!0}return!1}return!1},e}),e("skylark-moment/moment",["skylark-langx/skylark"],function(e){var t,n;function i(){return t.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,i){return Dt(e,t,n,i,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var t=p(e),i=n.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=d(NaN);return null!=e?h(p(t),e):p(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var g=i.momentProperties=[];function y(e,t){var n,i,r;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=p(t)),o(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)i=g[n],o(r=t[i])||(e[i]=r);return e}var v=!1;function b(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,i.updateOffset(this),v=!1)}function k(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function _(e,t,n){var i,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&x(e[i])!==x(t[i]))&&o++;return o+s}function C(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return h(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}C(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var S,A={};function M(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),A[e]||(C(t),A[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var n,i=h({},e);for(n in t)c(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},h(i[n],e[n]),h(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)c(e,n)&&!c(t,n)&&s(e[n])&&(i[n]=h({},i[n]));return i}function O(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var P={};function L(e,t){var n=e.toLowerCase();P[n]=P[n+"s"]=P[t]=e}function I(e){return"string"==typeof e?P[e]||P[e.toLowerCase()]:void 0}function R(e){var t,n,i={};for(n in e)c(e,n)&&(t=I(n))&&(i[t]=e[n]);return i}var F={};function V(e,t){F[e]=t}function N(e,t,n){var i=""+Math.abs(e),r=t-i.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},$={};function H(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&($[e]=r),t&&($[t[0]]=function(){return N(r.apply(this,arguments),t[1],t[2])}),n&&($[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e,t){return e.isValid()?(t=Y(t,e.localeData()),U[t]=U[t]||function(e){var t,n,i=e.match(j);for(t=0,n=i.length;t<n;t++)$[i[t]]?i[t]=$[i[t]]:i[t]=B(i[t]);return function(t){var r,s="";for(r=0;r<n;r++)s+=T(i[r])?i[r].call(t,e):i[r];return s}}(t),U[t](e)):e.localeData().invalidDate()}function Y(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(z.lastIndex=0;n>=0&&z.test(e);)e=e.replace(z,i),z.lastIndex=0,n-=1;return e}var W=/\d/,K=/\d\d/,G=/\d{3}/,J=/\d{4}/,Z=/[+-]?\d{6}/,X=/\d\d?/,Q=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,ie=/[+-]?\d{1,6}/,re=/\d+/,se=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ue={};function ce(e,t,n){ue[e]=T(t)?t:function(e,i){return e&&n?n:t}}function he(e,t){return c(ue,e)?ue[e](t._strict,t._locale):new RegExp(de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function fe(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),a(t)&&(i=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)pe[e[n]]=i}function me(e,t){fe(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function ge(e,t,n){null!=t&&c(pe,e)&&pe[e](t,n._a,n,e)}var ye=0,ve=1,be=2,ke=3,we=4,xe=5,_e=6,Ce=7,Ee=8;function Se(e){return Ae(e)?366:365}function Ae(e){return e%4==0&&e%100!=0||e%400==0}H("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),L("year","y"),V("year",1),ce("Y",se),ce("YY",X,K),ce("YYYY",ne,J),ce("YYYYY",ie,Z),ce("YYYYYY",ie,Z),fe(["YYYYY","YYYYYY"],ye),fe("YYYY",function(e,t){t[ye]=2===e.length?i.parseTwoDigitYear(e):x(e)}),fe("YY",function(e,t){t[ye]=i.parseTwoDigitYear(e)}),fe("Y",function(e,t){t[ye]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var Me,Te=De("FullYear",!0);function De(e,t){return function(n){return null!=n?(Pe(this,e,n),i.updateOffset(this,t),this):Oe(this,e)}}function Oe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Pe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Ae(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Le(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Le(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?Ae(e)?29:28:31-i%7%2}Me=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),V("month",8),ce("M",X),ce("MM",X,K),ce("MMM",function(e,t){return t.monthsShortRegex(e)}),ce("MMMM",function(e,t){return t.monthsRegex(e)}),fe(["M","MM"],function(e,t){t[ve]=x(e)-1}),fe(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ve]=r:p(n).invalidMonth=e});var Ie=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Re="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Fe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ve(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Le(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ne(e){return null!=e?(Ve(this,e),i.updateOffset(this,!0),this):Oe(this,"Month")}var je=le;var ze=le;function Ue(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],s=[];for(t=0;t<12;t++)n=d([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),s.sort(e),t=0;t<12;t++)i[t]=de(i[t]),r[t]=de(r[t]);for(t=0;t<24;t++)s[t]=de(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function $e(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function He(e,t,n){var i=7+t-n,r=(7+$e(e,0,i).getUTCDay()-t)%7;return-r+i-1}function Be(e,t,n,i,r){var s,o,a=(7+n-i)%7,l=He(e,i,r),u=1+7*(t-1)+a+l;return u<=0?o=Se(s=e-1)+u:u>Se(e)?(s=e+1,o=u-Se(e)):(s=e,o=u),{year:s,dayOfYear:o}}function qe(e,t,n){var i,r,s=He(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?(r=e.year()-1,i=o+Ye(r,t,n)):o>Ye(e.year(),t,n)?(i=o-Ye(e.year(),t,n),r=e.year()+1):(r=e.year(),i=o),{week:i,year:r}}function Ye(e,t,n){var i=He(e,t,n),r=He(e+1,t,n);return(Se(e)-i+r)/7}H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),V("week",5),V("isoWeek",5),ce("w",X),ce("ww",X,K),ce("W",X),ce("WW",X,K),me(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=x(e)});function We(e,t){return e.slice(t,7).concat(e.slice(0,t))}H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),ce("d",X),ce("e",X),ce("E",X),ce("dd",function(e,t){return t.weekdaysMinRegex(e)}),ce("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ce("dddd",function(e,t){return t.weekdaysRegex(e)}),me(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:p(n).invalidWeekday=e}),me(["d","e","E"],function(e,t,n,i){t[i]=x(e)});var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Je="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Ze=le;var Xe=le;var Qe=le;function et(){function e(e,t){return t.length-e.length}var t,n,i,r,s,o=[],a=[],l=[],u=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),s=this.weekdays(n,""),o.push(i),a.push(r),l.push(s),u.push(i),u.push(r),u.push(s);for(o.sort(e),a.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)a[t]=de(a[t]),l[t]=de(l[t]),u[t]=de(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function tt(){return this.hours()%12||12}function nt(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function it(e,t){return t._meridiemParse}H("H",["HH",2],0,"hour"),H("h",["hh",2],0,tt),H("k",["kk",2],0,function(){return this.hours()||24}),H("hmm",0,0,function(){return""+tt.apply(this)+N(this.minutes(),2)}),H("hmmss",0,0,function(){return""+tt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)}),nt("a",!0),nt("A",!1),L("hour","h"),V("hour",13),ce("a",it),ce("A",it),ce("H",X),ce("h",X),ce("k",X),ce("HH",X,K),ce("hh",X,K),ce("kk",X,K),ce("hmm",Q),ce("hmmss",ee),ce("Hmm",Q),ce("Hmmss",ee),fe(["H","HH"],ke),fe(["k","kk"],function(e,t,n){var i=x(e);t[ke]=24===i?0:i}),fe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),fe(["h","hh"],function(e,t,n){t[ke]=x(e),p(n).bigHour=!0}),fe("hmm",function(e,t,n){var i=e.length-2;t[ke]=x(e.substr(0,i)),t[we]=x(e.substr(i)),p(n).bigHour=!0}),fe("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[ke]=x(e.substr(0,i)),t[we]=x(e.substr(i,2)),t[xe]=x(e.substr(r)),p(n).bigHour=!0}),fe("Hmm",function(e,t,n){var i=e.length-2;t[ke]=x(e.substr(0,i)),t[we]=x(e.substr(i))}),fe("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[ke]=x(e.substr(0,i)),t[we]=x(e.substr(i,2)),t[xe]=x(e.substr(r))});var rt,st=De("Hours",!0),ot={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Re,monthsShort:Fe,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:Je,weekdaysShort:Ge,meridiemParse:/[ap]\.?m?\.?/i},at={},lt={};function ut(e){return e?e.toLowerCase().replace("_","-"):e}function ct(e){var t=null;if(!at[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=rt._abbr;var n=require;n("./locale/"+e),ht(t)}catch(e){}return at[e]}function ht(e,t){var n;return e&&((n=o(t)?pt(e):dt(e,t))?rt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),rt._abbr}function dt(e,t){if(null!==t){var n,i=ot;if(t.abbr=e,null!=at[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=at[e]._config;else if(null!=t.parentLocale)if(null!=at[t.parentLocale])i=at[t.parentLocale]._config;else{if(null==(n=ct(t.parentLocale)))return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return at[e]=new O(D(i,t)),lt[e]&&lt[e].forEach(function(e){dt(e.name,e.config)}),ht(e),at[e]}return delete at[e],null}function pt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rt;if(!r(e)){if(t=ct(e))return t;e=[e]}return function(e){var t,n,i,r,s=0;for(;s<e.length;){for(r=ut(e[s]).split("-"),t=r.length,n=(n=ut(e[s+1]))?n.split("-"):null;t>0;){if(i=ct(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&_(r,n,!0)>=t-1)break;t--}s++}return rt}(e)}function ft(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[ve]<0||n[ve]>11?ve:n[be]<1||n[be]>Le(n[ye],n[ve])?be:n[ke]<0||n[ke]>24||24===n[ke]&&(0!==n[we]||0!==n[xe]||0!==n[_e])?ke:n[we]<0||n[we]>59?we:n[xe]<0||n[xe]>59?xe:n[_e]<0||n[_e]>999?_e:-1,p(e)._overflowDayOfYear&&(t<ye||t>be)&&(t=be),p(e)._overflowWeeks&&-1===t&&(t=Ce),p(e)._overflowWeekday&&-1===t&&(t=Ee),p(e).overflow=t),e}function mt(e,t,n){return null!=e?e:null!=t?t:n}function gt(e){var t,n,r,s,o,a=[];if(!e._d){for(r=function(e){var t=new Date(i.now());if(e._useUTC)return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()];return[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[be]&&null==e._a[ve]&&function(e){var t,n,i,r,s,o,a,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)s=1,o=4,n=mt(t.GG,e._a[ye],qe(Ot(),1,4).year),i=mt(t.W,1),((r=mt(t.E,1))<1||r>7)&&(l=!0);else{s=e._locale._week.dow,o=e._locale._week.doy;var u=qe(Ot(),s,o);n=mt(t.gg,e._a[ye],u.year),i=mt(t.w,u.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+s,(t.e<0||t.e>6)&&(l=!0)):r=s}i<1||i>Ye(n,s,o)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(a=Be(n,i,r,s,o),e._a[ye]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(o=mt(e._a[ye],r[ye]),(e._dayOfYear>Se(o)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=$e(o,0,e._dayOfYear),e._a[ve]=n.getUTCMonth(),e._a[be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ke]&&0===e._a[we]&&0===e._a[xe]&&0===e._a[_e]&&(e._nextDay=!0,e._a[ke]=0),e._d=(e._useUTC?$e:function(e,t,n,i,r,s,o){var a;e<100&&e>=0?(a=new Date(e+400,t,n,i,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,i,r,s,o);return a}).apply(null,a),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ke]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(p(e).weekdayMismatch=!0)}}var yt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/Z|[+-]\d\d(?::?\d\d)?/,kt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],wt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xt=/^\/?Date\((\-?\d+)/i;function _t(e){var t,n,i,r,s,o,a=e._i,l=yt.exec(a)||vt.exec(a);if(l){for(p(e).iso=!0,t=0,n=kt.length;t<n;t++)if(kt[t][1].exec(l[1])){r=kt[t][0],i=!1!==kt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(l[3])){s=(l[2]||" ")+wt[t][0];break}if(null==s)return void(e._isValid=!1)}if(!i&&null!=s)return void(e._isValid=!1);if(l[4]){if(!bt.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(s||"")+(o||""),Mt(e)}else e._isValid=!1}var Ct=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Et(e,t,n,i,r,s){var o=[function(e){var t=parseInt(e,10);if(t<=49)return 2e3+t;if(t<=999)return 1900+t;return t}(e),Fe.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function At(e){var t=Ct.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(t){var n=Et(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){if(e){var i=Ge.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(i!==r)return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var i=parseInt(n,10),r=i%100,s=(i-r)/100;return 60*s+r}(t[8],t[9],t[10]),e._d=$e.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Mt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],p(e).empty=!0;var t,n,r,s,o,a=""+e._i,l=a.length,u=0;for(r=Y(e._f,e._locale).match(j)||[],t=0;t<r.length;t++)s=r[t],(n=(a.match(he(s,e))||[])[0])&&((o=a.substr(0,a.indexOf(n))).length>0&&p(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),$[s]?(n?p(e).empty=!1:p(e).unusedTokens.push(s),ge(s,n,e)):e._strict&&!n&&p(e).unusedTokens.push(s);p(e).charsLeftOver=l-u,a.length>0&&p(e).unusedInput.push(a),e._a[ke]<=12&&!0===p(e).bigHour&&e._a[ke]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[ke]=function(e,t,n){var i;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[ke],e._meridiem),gt(e),ft(e)}else At(e);else _t(e)}function Tt(e){var t=e._i,n=e._f;return e._locale=e._locale||pt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new b(ft(t)):(l(t)?e._d=t:r(n)?function(e){var t,n,i,r,s;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)s=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Mt(t),f(t)&&(s+=p(t).charsLeftOver,s+=10*p(t).unusedTokens.length,p(t).score=s,(null==i||s<i)&&(i=s,n=t));h(e,n||t)}(e):n?Mt(e):function(e){var t=e._i;o(t)?e._d=new Date(i.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=xt.exec(e._i);if(null!==t)return void(e._d=new Date(+t[1]));if(_t(e),!1!==e._isValid)return;delete e._isValid;if(At(e),!1!==e._isValid)return;delete e._isValid;i.createFromInputFallback(e)}(e):r(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),gt(e)):s(t)?function(e){if(e._d)return;var t=R(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),gt(e)}(e):a(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function Dt(e,t,n,i,o){var a={};return!0!==n&&!1!==n||(i=n,n=void 0),(s(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||r(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=e,a._f=t,a._strict=i,function(e){var t=new b(ft(Tt(e)));t._nextDay&&(t.add(1,"d"),t._nextDay=void 0);return t}(a)}function Ot(e,t,n,i){return Dt(e,t,n,i,!1)}i.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Pt=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Lt=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()});function It(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Ot();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Rt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ft(e){var t=R(e),n=t.year||0,i=t.quarter||0,r=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Me.call(Rt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Rt.length;++i)if(e[Rt[i]]){if(n)return!1;parseFloat(e[Rt[i]])!==x(e[Rt[i]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=pt(),this._bubble()}function Vt(e){return e instanceof Ft}function Nt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function jt(e,t){H(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+N(~~(e/60),2)+t+N(~~e%60,2)})}jt("Z",":"),jt("ZZ",""),ce("Z",ae),ce("ZZ",ae),fe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ut(ae,e)});var zt=/([\+\-]|\d\d)/gi;function Ut(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(zt)||["-",0,0],s=60*r[1]+x(r[2]);return 0===s?0:"+"===r[0]?s:-s}function $t(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(k(e)||l(e)?e.valueOf():Ot(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Ot(e).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var qt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Yt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wt(e,t){var n,i,r,s=e,o=null;return Vt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(s={},t?s[t]=e:s.milliseconds=e):(o=qt.exec(e))?(n="-"===o[1]?-1:1,s={y:0,d:x(o[be])*n,h:x(o[ke])*n,m:x(o[we])*n,s:x(o[xe])*n,ms:x(Nt(1e3*o[_e]))*n}):(o=Yt.exec(e))?(n="-"===o[1]?-1:1,s={y:Kt(o[2],n),M:Kt(o[3],n),w:Kt(o[4],n),d:Kt(o[5],n),h:Kt(o[6],n),m:Kt(o[7],n),s:Kt(o[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=$t(t,e),e.isBefore(t)?n=Gt(e,t):((n=Gt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Ot(s.from),Ot(s.to)),(s={}).ms=r.milliseconds,s.M=r.months),i=new Ft(s),Vt(e)&&c(e,"_locale")&&(i._locale=e._locale),i}function Kt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Jt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Zt(this,Wt(n="string"==typeof n?+n:n,i),e),this}}function Zt(e,t,n,r){var s=t._milliseconds,o=Nt(t._days),a=Nt(t._months);e.isValid()&&(r=null==r||r,a&&Ve(e,Oe(e,"Month")+a*n),o&&Pe(e,"Date",Oe(e,"Date")+o*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&i.updateOffset(e,o||a))}Wt.fn=Ft.prototype,Wt.invalid=function(){return Wt(NaN)};var Xt=Jt(1,"add"),Qt=Jt(-1,"subtract");function en(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(r,"months");return t-s<0?(n=e.clone().add(r-1,"months"),i=(t-s)/(s-n)):(n=e.clone().add(r+1,"months"),i=(t-s)/(n-s)),-(r+i)||0}function tn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=pt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function rn(){return this._locale}var sn=1e3,on=60*sn,an=60*on,ln=3506328*an;function un(e,t){return(e%t+t)%t}function cn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ln:new Date(e,t,n).valueOf()}function hn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ln:Date.UTC(e,t,n)}function dn(e,t){H(0,[e,e.length],0,t)}function pn(e,t,n,i,r){var s;return null==e?qe(this,i,r).year:(s=Ye(e,i,r),t>s&&(t=s),function(e,t,n,i,r){var s=Be(e,t,n,i,r),o=$e(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,i,r))}H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),dn("gggg","weekYear"),dn("ggggg","weekYear"),dn("GGGG","isoWeekYear"),dn("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),ce("G",se),ce("g",se),ce("GG",X,K),ce("gg",X,K),ce("GGGG",ne,J),ce("gggg",ne,J),ce("GGGGG",ie,Z),ce("ggggg",ie,Z),me(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=x(e)}),me(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)}),H("Q",0,"Qo","quarter"),L("quarter","Q"),V("quarter",7),ce("Q",W),fe("Q",function(e,t){t[ve]=3*(x(e)-1)}),H("D",["DD",2],"Do","date"),L("date","D"),V("date",9),ce("D",X),ce("DD",X,K),ce("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),fe(["D","DD"],be),fe("Do",function(e,t){t[be]=x(e.match(X)[0])});var fn=De("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),V("dayOfYear",4),ce("DDD",te),ce("DDDD",G),fe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=x(e)}),H("m",["mm",2],0,"minute"),L("minute","m"),V("minute",14),ce("m",X),ce("mm",X,K),fe(["m","mm"],we);var mn=De("Minutes",!1);H("s",["ss",2],0,"second"),L("second","s"),V("second",15),ce("s",X),ce("ss",X,K),fe(["s","ss"],xe);var gn,yn=De("Seconds",!1);for(H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),V("millisecond",16),ce("S",te,W),ce("SS",te,K),ce("SSS",te,G),gn="SSSS";gn.length<=9;gn+="S")ce(gn,re);function vn(e,t){t[_e]=x(1e3*("0."+e))}for(gn="S";gn.length<=9;gn+="S")fe(gn,vn);var bn=De("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var kn=b.prototype;function wn(e){return e}kn.add=Xt,kn.calendar=function(e,t){var n=e||Ot(),r=$t(n,this).startOf("day"),s=i.calendarFormat(this,r)||"sameElse",o=t&&(T(t[s])?t[s].call(this,n):t[s]);return this.format(o||this.localeData().calendar(s,this,Ot(n)))},kn.clone=function(){return new b(this)},kn.diff=function(e,t,n){var i,r,s;if(!this.isValid())return NaN;if(!(i=$t(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=I(t)){case"year":s=en(this,i)/12;break;case"month":s=en(this,i);break;case"quarter":s=en(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return n?s:w(s)},kn.endOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?hn:cn;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=an-un(t+(this._isUTC?0:this.utcOffset()*on),an)-1;break;case"minute":t=this._d.valueOf(),t+=on-un(t,on)-1;break;case"second":t=this._d.valueOf(),t+=sn-un(t,sn)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},kn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)},kn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ot(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.fromNow=function(e){return this.from(Ot(),e)},kn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ot(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.toNow=function(e){return this.to(Ot(),e)},kn.get=function(e){if(T(this[e=I(e)]))return this[e]();return this},kn.invalidAt=function(){return p(this).overflow},kn.isAfter=function(e,t){var n=k(e)?e:Ot(e);if(!this.isValid()||!n.isValid())return!1;return"millisecond"===(t=I(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()},kn.isBefore=function(e,t){var n=k(e)?e:Ot(e);if(!this.isValid()||!n.isValid())return!1;return"millisecond"===(t=I(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()},kn.isBetween=function(e,t,n,i){var r=k(e)?e:Ot(e),s=k(t)?t:Ot(t);if(!(this.isValid()&&r.isValid()&&s.isValid()))return!1;return("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(s,n):!this.isAfter(s,n))},kn.isSame=function(e,t){var n,i=k(e)?e:Ot(e);if(!this.isValid()||!i.isValid())return!1;return"millisecond"===(t=I(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())},kn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},kn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},kn.isValid=function(){return f(this)},kn.lang=nn,kn.locale=tn,kn.localeData=rn,kn.max=Lt,kn.min=Pt,kn.parsingFlags=function(){return h({},p(this))},kn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:F[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=R(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(T(this[e=I(e)]))return this[e](t);return this},kn.startOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?hn:cn;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=un(t+(this._isUTC?0:this.utcOffset()*on),an);break;case"minute":t=this._d.valueOf(),t-=un(t,on);break;case"second":t=this._d.valueOf(),t-=un(t,sn)}return this._d.setTime(t),i.updateOffset(this,!0),this},kn.subtract=Qt,kn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},kn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},kn.toDate=function(){return new Date(this.valueOf())},kn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;if(n.year()<0||n.year()>9999)return q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ");if(T(Date.prototype.toISOString))return t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z"));return q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},kn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},kn.toJSON=function(){return this.isValid()?this.toISOString():null},kn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},kn.unix=function(){return Math.floor(this.valueOf()/1e3)},kn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},kn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},kn.year=Te,kn.isLeapYear=function(){return Ae(this.year())},kn.weekYear=function(e){return pn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},kn.isoWeekYear=function(e){return pn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},kn.quarter=kn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},kn.month=Ne,kn.daysInMonth=function(){return Le(this.year(),this.month())},kn.week=kn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},kn.isoWeek=kn.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},kn.weeksInYear=function(){var e=this.localeData()._week;return Ye(this.year(),e.dow,e.doy)},kn.isoWeeksInYear=function(){return Ye(this.year(),1,4)},kn.date=fn,kn.day=kn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){if("string"!=typeof e)return e;if(!isNaN(e))return parseInt(e,10);if("number"==typeof(e=t.weekdaysParse(e)))return e;return null}(e,this.localeData()),this.add(e-t,"d")):t},kn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},kn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){if("string"==typeof e)return t.weekdaysParse(e)%7||7;return isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},kn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},kn.hour=kn.hours=st,kn.minute=kn.minutes=mn,kn.second=kn.seconds=yn,kn.millisecond=kn.milliseconds=bn,kn.utcOffset=function(e,t,n){var r,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ut(ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ht(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==e&&(!t||this._changeInProgress?Zt(this,Wt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Ht(this)},kn.utc=function(e){return this.utcOffset(0,e)},kn.local=function(e){this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m"));return this},kn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ut(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},kn.hasAlignedHourOffset=function(e){if(!this.isValid())return!1;return e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60==0},kn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},kn.isLocal=function(){return!!this.isValid()&&!this._isUTC},kn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},kn.isUtc=Bt,kn.isUTC=Bt,kn.zoneAbbr=function(){return this._isUTC?"UTC":""},kn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},kn.dates=E("dates accessor is deprecated. Use date instead.",fn),kn.months=E("months accessor is deprecated. Use month instead",Ne),kn.years=E("years accessor is deprecated. Use year instead",Te),kn.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),kn.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Tt(e))._a){var t=e._isUTC?d(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var xn=O.prototype;function _n(e,t,n,i){var r=pt(),s=d().set(i,t);return r[n](s,e)}function Cn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return _n(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=_n(e,i,n,"month");return r}function En(e,t,n,i){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var r,s=pt(),o=e?s._week.dow:0;if(null!=n)return _n(t,(n+o)%7,i,"day");var l=[];for(r=0;r<7;r++)l[r]=_n(t,(r+o)%7,i,"day");return l}xn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return T(i)?i.call(t,n):i},xn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];if(t||!n)return t;return this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]},xn.invalidDate=function(){return this._invalidDate},xn.ordinal=function(e){return this._ordinal.replace("%d",e)},xn.preparse=wn,xn.postformat=wn,xn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return T(r)?r(e,t,n,i):r.replace(/%d/i,e)},xn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},xn.set=function(e){var t,n;for(n in e)T(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},xn.months=function(e,t){if(!e)return r(this._months)?this._months:this._months.standalone;return r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ie).test(t)?"format":"standalone"][e.month()]},xn.monthsShort=function(e,t){if(!e)return r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;return r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ie.test(t)?"format":"standalone"][e.month()]},xn.monthsParse=function(e,t,n){var i,r,s;if(this._monthsParseExact)return function(e,t,n){var i,r,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Me.call(this._shortMonthsParse,o))?r:null:-1!==(r=Me.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=Me.call(this._shortMonthsParse,o))?r:-1!==(r=Me.call(this._longMonthsParse,o))?r:null:-1!==(r=Me.call(this._longMonthsParse,o))?r:-1!==(r=Me.call(this._shortMonthsParse,o))?r:null}.call(this,e,t,n);this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(i=0;i<12;i++){if(r=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},xn.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Ue.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=ze),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},xn.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Ue.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=je),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},xn.week=function(e){return qe(e,this._week.dow,this._week.doy).week},xn.firstDayOfYear=function(){return this._week.doy},xn.firstDayOfWeek=function(){return this._week.dow},xn.weekdays=function(e,t){var n=r(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?We(n,this._week.dow):e?n[e.day()]:n},xn.weekdaysMin=function(e){return!0===e?We(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},xn.weekdaysShort=function(e){return!0===e?We(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},xn.weekdaysParse=function(e,t,n){var i,r,s;if(this._weekdaysParseExact)return function(e,t,n){var i,r,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Me.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Me.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=Me.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=Me.call(this._weekdaysParse,o))?r:-1!==(r=Me.call(this._shortWeekdaysParse,o))?r:-1!==(r=Me.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Me.call(this._shortWeekdaysParse,o))?r:-1!==(r=Me.call(this._weekdaysParse,o))?r:-1!==(r=Me.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Me.call(this._minWeekdaysParse,o))?r:-1!==(r=Me.call(this._weekdaysParse,o))?r:-1!==(r=Me.call(this._shortWeekdaysParse,o))?r:null}.call(this,e,t,n);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(i=0;i<7;i++){if(r=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},xn.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},xn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},xn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},xn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},xn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ht("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),i.lang=E("moment.lang is deprecated. Use moment.locale instead.",ht),i.langData=E("moment.langData is deprecated. Use moment.localeData instead.",pt);var Sn=Math.abs;function An(e,t,n,i){var r=Wt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Mn(e){return e<0?Math.floor(e):Math.ceil(e)}function Tn(e){return 4800*e/146097}function Dn(e){return 146097*e/4800}function On(e){return function(){return this.as(e)}}var Pn=On("ms"),Ln=On("s"),In=On("m"),Rn=On("h"),Fn=On("d"),Vn=On("w"),Nn=On("M"),jn=On("Q"),zn=On("y");function Un(e){return function(){return this.isValid()?this._data[e]:NaN}}var $n=Un("milliseconds"),Hn=Un("seconds"),Bn=Un("minutes"),qn=Un("hours"),Yn=Un("days"),Wn=Un("months"),Kn=Un("years");var Gn=Math.round,Jn={ss:44,s:45,m:45,h:22,d:26,M:11};var Zn=Math.abs;function Xn(e){return(e>0)-(e<0)||+e}function Qn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Zn(this._milliseconds)/1e3,i=Zn(this._days),r=Zn(this._months);e=w(n/60),t=w(e/60),n%=60,e%=60;var s=w(r/12),o=r%=12,a=i,l=t,u=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",p=Xn(this._months)!==Xn(h)?"-":"",f=Xn(this._days)!==Xn(h)?"-":"",m=Xn(this._milliseconds)!==Xn(h)?"-":"";return d+"P"+(s?p+s+"Y":"")+(o?p+o+"M":"")+(a?f+a+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var ei=Ft.prototype;return ei.isValid=function(){return this._isValid},ei.abs=function(){var e=this._data;return this._milliseconds=Sn(this._milliseconds),this._days=Sn(this._days),this._months=Sn(this._months),e.milliseconds=Sn(e.milliseconds),e.seconds=Sn(e.seconds),e.minutes=Sn(e.minutes),e.hours=Sn(e.hours),e.months=Sn(e.months),e.years=Sn(e.years),this},ei.add=function(e,t){return An(this,e,t,1)},ei.subtract=function(e,t){return An(this,e,t,-1)},ei.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=I(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Tn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Dn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},ei.asMilliseconds=Pn,ei.asSeconds=Ln,ei.asMinutes=In,ei.asHours=Rn,ei.asDays=Fn,ei.asWeeks=Vn,ei.asMonths=Nn,ei.asQuarters=jn,ei.asYears=zn,ei.valueOf=function(){if(!this.isValid())return NaN;return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12)},ei._bubble=function(){var e,t,n,i,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*Mn(Dn(a)+o),o=0,a=0);return l.milliseconds=s%1e3,e=w(s/1e3),l.seconds=e%60,t=w(e/60),l.minutes=t%60,n=w(t/60),l.hours=n%24,o+=w(n/24),r=w(Tn(o)),a+=r,o-=Mn(Dn(r)),i=w(a/12),a%=12,l.days=o,l.months=a,l.years=i,this},ei.clone=function(){return Wt(this)},ei.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},ei.milliseconds=$n,ei.seconds=Hn,ei.minutes=Bn,ei.hours=qn,ei.days=Yn,ei.weeks=function(){return w(this.days()/7)},ei.months=Wn,ei.years=Kn,ei.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=Wt(e).abs(),r=Gn(i.as("s")),s=Gn(i.as("m")),o=Gn(i.as("h")),a=Gn(i.as("d")),l=Gn(i.as("M")),u=Gn(i.as("y")),c=r<=Jn.ss&&["s",r]||r<Jn.s&&["ss",r]||s<=1&&["m"]||s<Jn.m&&["mm",s]||o<=1&&["h"]||o<Jn.h&&["hh",o]||a<=1&&["d"]||a<Jn.d&&["dd",a]||l<=1&&["M"]||l<Jn.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,c)}(this,!e,t);e&&(n=t.pastFuture(+this,n));return t.postformat(n)},ei.toISOString=Qn,ei.toString=Qn,ei.toJSON=Qn,ei.locale=tn,ei.localeData=rn,ei.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qn),ei.lang=nn,H("X",0,0,"unix"),H("x",0,0,"valueOf"),ce("x",se),ce("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),fe("x",function(e,t,n){n._d=new Date(x(e))}),i.version="2.24.0",t=Ot,i.fn=kn,i.min=function(){return It("isBefore",[].slice.call(arguments,0))},i.max=function(){return It("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=d,i.unix=function(e){return Ot(1e3*e)},i.months=function(e,t){return Cn(e,t,"months")},i.isDate=l,i.locale=ht,i.invalid=m,i.duration=Wt,i.isMoment=k,i.weekdays=function(e,t,n){return En(e,t,n,"weekdays")},i.parseZone=function(){return Ot.apply(null,arguments).parseZone()},i.localeData=pt,i.isDuration=Vt,i.monthsShort=function(e,t){return Cn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return En(e,t,n,"weekdaysMin")},i.defineLocale=dt,i.updateLocale=function(e,t){if(null!=t){var n,i,r=ot;null!=(i=ct(e))&&(r=i._config),t=D(r,t),(n=new O(t)).parentLocale=at[e],at[e]=n,ht(e)}else null!=at[e]&&(null!=at[e].parentLocale?at[e]=at[e].parentLocale:null!=at[e]&&delete at[e]);return at[e]},i.locales=function(){return S(at)},i.weekdaysShort=function(e,t,n){return En(e,t,n,"weekdaysShort")},i.normalizeUnits=I,i.relativeTimeRounding=function(e){if(void 0===e)return Gn;if("function"==typeof e)return Gn=e,!0;return!1},i.relativeTimeThreshold=function(e,t){if(void 0===Jn[e])return!1;if(void 0===t)return Jn[e];Jn[e]=t,"s"===e&&(Jn.ss=t-1);return!0},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=kn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e.attach("itg.moment",i)}),e("skylark-moment/main",["./moment"],function(e){return e}),e("skylark-moment",["skylark-moment/main"],function(e){return e}),e("skylark-formio/vendors/moment/timezone",["skylark-moment"],function(e){"use strict";void 0===e.version&&e.default&&(e=e.default);var t,n={},i={},r={},s={},o={};e&&"string"==typeof e.version||T("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var a=e.version.split("."),l=+a[0],u=+a[1];function c(e){return e>96?e-87:e>64?e-29:e-48}function h(e){var t,n=0,i=e.split("."),r=i[0],s=i[1]||"",o=1,a=0,l=1;for(45===e.charCodeAt(0)&&(n=1,l=-1);n<r.length;n++)t=c(r.charCodeAt(n)),a=60*a+t;for(n=0;n<s.length;n++)o/=60,t=c(s.charCodeAt(n)),a+=t*o;return a*l}function d(e){for(var t=0;t<e.length;t++)e[t]=h(e[t])}function p(e,t){var n,i=[];for(n=0;n<t.length;n++)i[n]=e[t[n]];return i}function f(e){var t=e.split("|"),n=t[2].split(" "),i=t[3].split(""),r=t[4].split(" ");return d(n),d(i),d(r),function(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}(r,i.length),{name:t[0],abbrs:p(t[1].split(" "),i),offsets:p(n,i),untils:r,population:0|t[5]}}function m(e){e&&this._set(f(e))}function g(e,t){this.name=e,this.zones=t}function y(e){var t=e.toTimeString(),n=t.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=t.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+e,this.abbr=n,this.offset=e.getTimezoneOffset()}function v(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function b(e,t){for(var n,i;i=6e4*((t.at-e.at)/12e4|0);)(n=new y(new Date(e.at+i))).offset===e.offset?e=n:t=n;return e}function k(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:e.zone.population!==t.zone.population?t.zone.population-e.zone.population:t.zone.name.localeCompare(e.zone.name)}function w(e,t){var n,i;for(d(t),n=0;n<t.length;n++)i=t[n],o[i]=o[i]||{},o[i][e]=!0}function x(e){var t,n,i,r=e.length,a={},l=[];for(t=0;t<r;t++)for(n in i=o[e[t].offset]||{})i.hasOwnProperty(n)&&(a[n]=!0);for(t in a)a.hasOwnProperty(t)&&l.push(s[t]);return l}function _(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&e.length>3){var t=s[C(e)];if(t)return t;T("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var n,i,r,o=function(){var e,t,n,i=(new Date).getFullYear()-2,r=new y(new Date(i,0,1)),s=[r];for(n=1;n<48;n++)(t=new y(new Date(i,n,1))).offset!==r.offset&&(e=b(r,t),s.push(e),s.push(new y(new Date(e.at+6e4)))),r=t;for(n=0;n<4;n++)s.push(new y(new Date(i+n,0,1))),s.push(new y(new Date(i+n,6,1)));return s}(),a=o.length,l=x(o),u=[];for(i=0;i<l.length;i++){for(n=new v(S(l[i]),a),r=0;r<a;r++)n.scoreOffsetAt(o[r]);u.push(n)}return u.sort(k),u.length>0?u[0].zone.name:void 0}function C(e){return(e||"").toLowerCase().replace(/\//g,"_")}function E(e){var t,i,r,o;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)r=e[t].split("|"),i=r[0],o=C(i),n[o]=e[t],s[o]=i,w(o,r[2].split(" "))}function S(e,t){e=C(e);var r,o=n[e];return o instanceof m?o:"string"==typeof o?(o=new m(o),n[e]=o,o):i[e]&&t!==S&&(r=S(i[e],S))?((o=n[e]=new m)._set(r),o.name=s[e],o):null}function A(e){var t,n,r,o;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),r=C(n[0]),o=C(n[1]),i[r]=o,s[r]=n[0],i[o]=r,s[o]=n[1]}function M(e){var t="X"===e._f||"x"===e._f;return!(!e._a||void 0!==e._tzm||t)}function T(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function D(t){var n=Array.prototype.slice.call(arguments,0,-1),i=arguments[arguments.length-1],r=S(i),s=e.utc.apply(null,n);return r&&!e.isMoment(t)&&M(s)&&s.add(r.parse(s),"minutes"),s.tz(i),s}(l<2||2===l&&u<6)&&T("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),m.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,n=+e,i=this.untils;for(t=0;t<i.length;t++)if(n<i[t])return t},countries:function(){var e=this.name;return Object.keys(r).filter(function(t){return-1!==r[t].zones.indexOf(e)})},parse:function(e){var t,n,i,r,s=+e,o=this.offsets,a=this.untils,l=a.length-1;for(r=0;r<l;r++)if(t=o[r],n=o[r+1],i=o[r?r-1:r],t<n&&D.moveAmbiguousForward?t=n:t>i&&D.moveInvalidForward&&(t=i),s<a[r]-6e4*t)return o[r];return o[l]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return T("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},v.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},D.version="0.5.31",D.dataVersion="",D._zones=n,D._links=i,D._names=s,D._countries=r,D.add=E,D.link=A,D.load=function(e){E(e.zones),A(e.links),function(e){var t,n,i,s;if(!e||!e.length)return;for(t=0;t<e.length;t++)s=e[t].split("|"),n=s[0].toUpperCase(),i=s[1].split(" "),r[n]=new g(n,i)}(e.countries),D.dataVersion=e.version},D.zone=S,D.zoneExists=function e(t){e.didShowError||(e.didShowError=!0,T("moment.tz.zoneExists('"+t+"') has been deprecated in favor of !moment.tz.zone('"+t+"')"));return!!S(t)},D.guess=function(e){t&&!e||(t=_());return t},D.names=function(){var e,t=[];for(e in s)s.hasOwnProperty(e)&&(n[e]||n[i[e]])&&s[e]&&t.push(s[e]);return t.sort()},D.Zone=m,D.unpack=f,D.unpackBase60=h,D.needsOffset=M,D.moveInvalidForward=!0,D.moveAmbiguousForward=!1,D.countries=function(){return Object.keys(r)},D.zonesForCountry=function(e,t){if(n=e,n=n.toUpperCase(),!(e=r[n]||null))return null;var n;var i=e.zones.sort();if(t)return i.map(function(e){var t=S(e);return{name:e,offset:t.utcOffset(new Date)}});return i};var O,P=e.fn;function L(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function I(e){return function(){return this._z=null,e.apply(this,arguments)}}e.tz=D,e.defaultZone=null,e.updateOffset=function(t,n){var i,r=e.defaultZone;if(void 0===t._z&&(r&&M(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(r.parse(t),"minutes")),t._z=r),t._z)if(i=t._z.utcOffset(t),Math.abs(i)<16&&(i/=60),void 0!==t.utcOffset){var s=t._z;t.utcOffset(-i,n),t._z=s}else t.zone(i,n)},P.tz=function(t,n){if(t){if("string"!=typeof t)throw new Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=S(t),this._z?e.updateOffset(this,n):T("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},P.zoneName=L(P.zoneName),P.zoneAbbr=L(P.zoneAbbr),P.utc=I(P.utc),P.local=I(P.local),P.utcOffset=(O=P.utcOffset,function(){return arguments.length>0&&(this._z=null),O.apply(this,arguments)}),e.tz.setDefault=function(t){return(l<2||2===l&&u<9)&&T("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?S(t):null,e};var R=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(R)?(R.push("_z"),R.push("_a")):R&&(R._z=null),e}),e("skylark-formio/vendors/jstimezonedetect/jstz",[],function(){var e=function(){"use strict";var t={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk","Africa/Windhoek"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},n=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},i=function(){for(var e=[],i=0;i<=11;i++)for(var r=1;r<=28;r++){var s=n(new Date(t.BASELINE_YEAR,i,r));e?e&&e[e.length-1]!==s&&e.push(s):e.push()}return e},r=function(e){for(var t=new Date(e,0,1,0,0,1,0).getTime(),n=new Date(e,12,31,23,59,59).getTime(),i=t,r=new Date(i).getTimezoneOffset(),o=null,a=null;i<n-864e5;){var l=new Date(i),u=l.getTimezoneOffset();u!==r&&(u<r&&(o=l),u>r&&(a=l),r=u),i+=864e5}return!(!o||!a)&&{s:s(o).getTime(),e:s(a).getTime()}},s=function e(n,i,r){void 0===i&&(i=t.DAY,r=t.HOUR);for(var s=new Date(n.getTime()-i).getTime(),o=n.getTime()+i,a=new Date(s).getTimezoneOffset(),l=s,u=null;l<o-r;){var c=new Date(l),h=c.getTimezoneOffset();if(h!==a){u=c;break}l+=r}return i===t.DAY?e(u,t.HOUR,t.MINUTE):i===t.HOUR?e(u,t.MINUTE,t.SECOND):u},o=function(n){var i=function(){for(var t=[],n=0;n<e.olson.dst_rules.years.length;n++){var i=r(e.olson.dst_rules.years[n]);t.push(i)}return t}(),s=function(e){for(var t=0;t<e.length;t++)if(!1!==e[t])return!0;return!1}(i);return s?function(n,i){for(var r=function(e){for(var r=0,s=0;s<n.length;s++)if(e.rules[s]&&n[s]){if(!(n[s].s>=e.rules[s].s&&n[s].e<=e.rules[s].e)){r="N/A";break}if(r=0,r+=Math.abs(n[s].s-e.rules[s].s),(r+=Math.abs(e.rules[s].e-n[s].e))>t.MAX_SCORE){r="N/A";break}}return r=function(e,t,n,i){if("N/A"!==n)return n;if("Asia/Beirut"===t){if("Africa/Cairo"===i.name&&13983768e5===e[6].s&&14116788e5===e[6].e)return 0;if("Asia/Jerusalem"===i.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if("America/Santiago"===t){if("America/Asuncion"===i.name&&14124816e5===e[6].s&&1397358e6===e[6].e)return 0;if("America/Campo_Grande"===i.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if("America/Montevideo"===t){if("America/Sao_Paulo"===i.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if("Pacific/Auckland"===t&&"Pacific/Fiji"===i.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return n}(n,i,r,e)},s={},o=e.olson.dst_rules.zones,a=o.length,l=t.AMBIGUITIES[i],u=0;u<a;u++){var c=o[u],h=r(o[u]);"N/A"!==h&&(s[c.name]=h)}for(var d in s)if(s.hasOwnProperty(d))for(var p=0;p<l.length;p++)if(l[p]===d)return d;return i}(i,n):n};return{determine:function(n){var r=!1,s=function(){var e=0,t=i();t.length>1&&(e=t[0]-t[1]);if(t.length>3)return t[0]+",1,weird";if(e<0)return t[0]+",1";if(e>0)return t[1]+",1,s";return t[0]+",0"}();(n||void 0===n)&&(r=function(){var e,t;if(!Intl||"undefined"==typeof Intl||void 0===Intl.DateTimeFormat)return;if(void 0===(e=Intl.DateTimeFormat())||void 0===e.resolvedOptions)return;if((t=e.resolvedOptions().timeZone)&&(t.indexOf("/")>-1||"UTC"===t))return t}());r||(r=e.olson.timezones[s],void 0!==t.AMBIGUITIES[r]&&(r=o(r)));return{name:function(){return r},using_intl:n||void 0===n,needle:s,offsets:i()}}}}();return e.olson=e.olson||{},e.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","0,1,weird":"Africa/Casablanca","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,weird":"Africa/Casablanca","120,1":"Asia/Beirut","120,1,weird":"Africa/Cairo","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Calcutta","345,0":"Asia/Katmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},e.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12891204e5,s:12685608e5},{e:132057e7,s:13000104e5},{e:13520196e5,s:133146e7},{e:13834692e5,s:13629096e5},{e:14149188e5,s:13943592e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Africa/Windhoek",rules:[{e:12207492e5,s:120744e7},{e:12521988e5,s:12388896e5},{e:12836484e5,s:12703392e5},{e:1315098e6,s:13017888e5},{e:13465476e5,s:13332384e5},{e:13779972e5,s:13652928e5},{e:14100516e5,s:13967424e5}]}]},e}),e("skylark-formio/utils/jsonlogic/operators",[],function(){"use strict";return{lodashOperators:["chunk","compact","concat","difference","differenceBy","differenceWith","drop","dropRight","dropRightWhile","dropWhile","findIndex","findLastIndex","first","flatten","flattenDeep","flattenDepth","fromPairs","head","indexOf","initial","intersection","intersectionBy","intersectionWith","join","last","lastIndexOf","nth","slice","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sortedUniq","sortedUniqBy","tail","take","takeRight","takeRightWhile","takeWhile","union","unionBy","unionWith","uniq","uniqBy","uniqWith","unzip","unzipWith","without","xor","xorBy","xorWith","zip","zipObject","zipObjectDeep","zipWith","countBy","every","filter","find","findLast","flatMap","flatMapDeep","flatMapDepth","groupBy","includes","invokeMap","keyBy","map","orderBy","partition","reduce","reduceRight","reject","sample","sampleSize","shuffle","size","some","sortBy","now","flip","negate","overArgs","partial","partialRight","rearg","rest","spread","castArray","clone","cloneDeep","cloneDeepWith","cloneDeep","conformsTo","eq","gt","gte","isArguments","isArray","isArrayBuffer","isArrayLike","isArrayLikeObject","isBoolean","isBuffer","isDate","isElement","isEmpty","isEqual","isEqualWith","isError","isFinite","isFunction","isInteger","isLength","isMap","isMatch","isMatchWith","isNaN","isNative","isNil","isNull","isNumber","isObject","isObjectLike","isPlainObject","isRegExp","isSafeInteger","isSet","isString","isSymbol","isTypedArray","isUndefined","isWeakMap","isWeakSet","lt","lte","toArray","toFinite","toInteger","toLength","toNumber","toPlainObject","toSafeInteger","toString","add","ceil","divide","floor","max","maxBy","mean","meanBy","min","minBy","multiply","round","subtract","sum","sumBy","clamp","inRange","random","at","entries","entriesIn","findKey","findLastKey","functions","functionsIn","get","has","hasIn","invert","invertBy","invoke","keys","keysIn","mapKeys","mapValues","omit","omitBy","pick","pickBy","result","toPairs","toPairsIn","transform","values","valuesIn","camelCase","capitalize","deburr","endsWith","escape","escapeRegExp","kebabCase","lowerCase","lowerFirst","pad","padEnd","padStart","parseInt","repeat","replace","snakeCase","split","startCase","startsWith","toLower","toUpper","trim","trimEnd","trimStart","truncate","unescape","upperCase","upperFirst","words","cond","conforms","constant","defaultTo","flow","flowRight","identity","iteratee","matches","matchesProperty","method","methodOf","nthArg","over","overEvery","overSome","property","propertyOf","range","rangeRight","stubArray","stubFalse","stubObject","stubString","stubTrue","times","toPath","uniqueId"]}}),e("skylark-formio/vendors/dompurify/purify",[],function(){var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,i=Object.keys,r=Object.freeze,s=Object.seal,o=Object.create,a="undefined"!=typeof Reflect&&Reflect,l=a.apply,u=a.construct;l||(l=function(e,t,n){return e.apply(t,n)}),r||(r=function(e){return e}),s||(s=function(e){return e}),u||(u=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var c=C(Array.prototype.forEach),h=C(Array.prototype.indexOf),d=C(Array.prototype.join),p=C(Array.prototype.pop),f=C(Array.prototype.push),m=C(Array.prototype.slice),g=C(String.prototype.toLowerCase),y=C(String.prototype.match),v=C(String.prototype.replace),b=C(String.prototype.indexOf),k=C(String.prototype.trim),w=C(RegExp.prototype.test),x=E(RegExp),_=E(TypeError);function C(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return l(e,t,i)}}function E(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return u(e,n)}}function S(e,i){t&&t(e,null);for(var r=i.length;r--;){var s=i[r];if("string"==typeof s){var o=g(s);o!==s&&(n(i)||(i[r]=o),s=o)}e[s]=!0}return e}function A(t){var n=o(null),i=void 0;for(i in t)l(e,t,[i])&&(n[i]=t[i]);return n}var M=r(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=r(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),D=r(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=r(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),P=r(["#text"]),L=r(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),I=r(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R=r(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=r(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),N=s(/<%[\s\S]*|[\s\S]*%>/gm),j=s(/^data-[\-\w.\u00B7-\uFFFF]/),z=s(/^aria-[\-\w]+$/),U=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$=s(/^(?:\w+script|data):/i),H=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function q(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Y=function(){return"undefined"==typeof window?null:window},W=function(e,t){if("object"!==(void 0===e?"undefined":B(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};var K=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();var n=function(t){return e(t)};n.version="2.0.16";n.removed=[];if(!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var s=t.document;var o=!1;var a=t.document;var l=t.DocumentFragment,u=t.HTMLTemplateElement,C=t.Node,E=t.NodeFilter,K=t.NamedNodeMap,G=void 0===K?t.NamedNodeMap||t.MozNamedAttrMap:K,J=t.Text,Z=t.Comment,X=t.DOMParser,Q=t.trustedTypes;if("function"==typeof u){var ee=a.createElement("template");ee.content&&ee.content.ownerDocument&&(a=ee.content.ownerDocument)}var te=W(Q,s);var ne=te&&Re?te.createHTML(""):"";var ie=a,re=ie.implementation,se=ie.createNodeIterator,oe=ie.getElementsByTagName,ae=ie.createDocumentFragment;var le=s.importNode;var ue={};try{ue=A(a).documentMode?a.documentMode:{}}catch(e){}var ce={};n.isSupported=re&&void 0!==re.createHTMLDocument&&9!==ue;var he=V,de=N,pe=j,fe=z,me=$,ge=H;var ye=U;var ve=null;var be=S({},[].concat(q(M),q(T),q(D),q(O),q(P)));var ke=null;var we=S({},[].concat(q(L),q(I),q(R),q(F)));var xe=null;var _e=null;var Ce=!0;var Ee=!0;var Se=!1;var Ae=!1;var Me=!1;var Te=!1;var De=!1;var Oe=!1;var Pe=!1;var Le=!1;var Ie=!1;var Re=!1;var Fe=!0;var Ve=!0;var Ne=!1;var je={};var ze=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]);var Ue=null;var $e=S({},["audio","video","img","source","image","track"]);var He=null;var Be=S({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]);var qe=null;var Ye=a.createElement("form");var We=function(e){qe&&qe===e||(e&&"object"===(void 0===e?"undefined":B(e))||(e={}),e=A(e),ve="ALLOWED_TAGS"in e?S({},e.ALLOWED_TAGS):be,ke="ALLOWED_ATTR"in e?S({},e.ALLOWED_ATTR):we,He="ADD_URI_SAFE_ATTR"in e?S(A(Be),e.ADD_URI_SAFE_ATTR):Be,Ue="ADD_DATA_URI_TAGS"in e?S(A($e),e.ADD_DATA_URI_TAGS):$e,xe="FORBID_TAGS"in e?S({},e.FORBID_TAGS):{},_e="FORBID_ATTR"in e?S({},e.FORBID_ATTR):{},je="USE_PROFILES"in e&&e.USE_PROFILES,Ce=!1!==e.ALLOW_ARIA_ATTR,Ee=!1!==e.ALLOW_DATA_ATTR,Se=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ae=e.SAFE_FOR_JQUERY||!1,Me=e.SAFE_FOR_TEMPLATES||!1,Te=e.WHOLE_DOCUMENT||!1,Pe=e.RETURN_DOM||!1,Le=e.RETURN_DOM_FRAGMENT||!1,Ie=e.RETURN_DOM_IMPORT||!1,Re=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,Fe=!1!==e.SANITIZE_DOM,Ve=!1!==e.KEEP_CONTENT,Ne=e.IN_PLACE||!1,ye=e.ALLOWED_URI_REGEXP||ye,Me&&(Ee=!1),Le&&(Pe=!0),je&&(ve=S({},[].concat(q(P))),ke=[],!0===je.html&&(S(ve,M),S(ke,L)),!0===je.svg&&(S(ve,T),S(ke,I),S(ke,F)),!0===je.svgFilters&&(S(ve,D),S(ke,I),S(ke,F)),!0===je.mathMl&&(S(ve,O),S(ke,R),S(ke,F))),e.ADD_TAGS&&(ve===be&&(ve=A(ve)),S(ve,e.ADD_TAGS)),e.ADD_ATTR&&(ke===we&&(ke=A(ke)),S(ke,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&S(He,e.ADD_URI_SAFE_ATTR),Ve&&(ve["#text"]=!0),Te&&S(ve,["html","head","body"]),ve.table&&(S(ve,["tbody"]),delete xe.tbody),r&&r(e),qe=e)};var Ke=function(e){f(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=ne}};var Ge=function(e,t){try{f(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(n.removed,{attribute:null,from:t})}t.removeAttribute(e)};var Je=function(e){var t=void 0,n=void 0;if(Oe)e="<remove></remove>"+e;else{var i=y(e,/^[\r\n\t ]+/);n=i&&i[0]}var r=te?te.createHTML(e):e;try{t=(new X).parseFromString(r,"text/html")}catch(e){}if(o&&S(xe,["title"]),!t||!t.documentElement){var s=t=re.createHTMLDocument(""),l=s.body;l.parentNode.removeChild(l.parentNode.firstElementChild),l.outerHTML=r}return e&&n&&t.body.insertBefore(a.createTextNode(n),t.body.childNodes[0]||null),oe.call(t,Te?"html":"body")[0]};n.isSupported&&function(){try{var e=Je("<x/><title>&lt;/title&gt;&lt;img&gt;");w(/<\/title/,e.querySelector("title").innerHTML)&&(o=!0)}catch(e){}}();var Ze=function(e){return se.call(e.ownerDocument||e,e,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT,function(){return E.FILTER_ACCEPT},!1)};var Xe=function(e){return"object"===(void 0===C?"undefined":B(C))?e instanceof C:e&&"object"===(void 0===e?"undefined":B(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName};var Qe=function(e,t,i){ce[e]&&c(ce[e],function(e){e.call(n,t,i,qe)})};var et=function(e){var t=void 0;if(Qe("beforeSanitizeElements",e,null),function(e){if(e instanceof J||e instanceof Z)return!1;if("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof G)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI)return!0;return!1}(e))return Ke(e),!0;if(y(e.nodeName,/[\u0080-\uFFFF]/))return Ke(e),!0;var i=g(e.nodeName);if(Qe("uponSanitizeElement",e,{tagName:i,allowedTags:ve}),("svg"===i||"math"===i)&&0!==e.querySelectorAll("p, br, form").length)return Ke(e),!0;if(!ve[i]||xe[i]){if(Ve&&!ze[i]&&"function"==typeof e.insertAdjacentHTML)try{var r=e.innerHTML;e.insertAdjacentHTML("AfterEnd",te?te.createHTML(r):r)}catch(e){}return Ke(e),!0}return"noscript"===i&&w(/<\/noscript/i,e.innerHTML)?(Ke(e),!0):"noembed"===i&&w(/<\/noembed/i,e.innerHTML)?(Ke(e),!0):(!Ae||Xe(e.firstElementChild)||Xe(e.content)&&Xe(e.content.firstElementChild)||!w(/</g,e.textContent)||(f(n.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=v(e.innerHTML,/</g,"&lt;"):e.innerHTML=v(e.textContent,/</g,"&lt;")),Me&&3===e.nodeType&&(t=e.textContent,t=v(t,he," "),t=v(t,de," "),e.textContent!==t&&(f(n.removed,{element:e.cloneNode()}),e.textContent=t)),Qe("afterSanitizeElements",e,null),!1)};var tt=function(e,t,n){if(Fe&&("id"===t||"name"===t)&&(n in a||n in Ye))return!1;if(Ee&&w(pe,t));else if(Ce&&w(fe,t));else{if(!ke[t]||_e[t])return!1;if(He[t]);else if(w(ye,v(n,ge,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==b(n,"data:")||!Ue[e]){if(Se&&!w(me,v(n,ge,"")));else if(n)return!1}else;}return!0};var nt=function(e){var t=void 0,r=void 0,s=void 0,o=void 0,a=void 0;Qe("beforeSanitizeAttributes",e,null);var l=e.attributes;if(l){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(a=l.length;a--;){var c=t=l[a],f=c.name,y=c.namespaceURI;if(r=k(t.value),s=g(f),u.attrName=s,u.attrValue=r,u.keepAttr=!0,u.forceKeepAttr=void 0,Qe("uponSanitizeAttribute",e,u),r=u.attrValue,!u.forceKeepAttr){if("name"===s&&"IMG"===e.nodeName&&l.id)o=l.id,l=m(l,[]),Ge("id",e),Ge(f,e),h(l,o)>a&&e.setAttribute("id",o.value);else{if("INPUT"===e.nodeName&&"type"===s&&"file"===r&&u.keepAttr&&(ke[s]||!_e[s]))continue;"id"===f&&e.setAttribute(f,""),Ge(f,e)}if(u.keepAttr)if(Ae&&w(/\/>/i,r))Ge(f,e);else if(w(/svg|math/i,e.namespaceURI)&&w(x("</("+d(i(ze),"|")+")","i"),r))Ge(f,e);else{Me&&(r=v(r,he," "),r=v(r,de," "));var b=e.nodeName.toLowerCase();if(tt(b,s,r))try{y?e.setAttributeNS(y,f,r):e.setAttribute(f,r),p(n.removed)}catch(e){}}}}Qe("afterSanitizeAttributes",e,null)}};var it=function e(t){var n=void 0,i=Ze(t);for(Qe("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)Qe("uponSanitizeShadowNode",n,null),et(n)||(n.content instanceof l&&e(n.content),nt(n));Qe("afterSanitizeShadowDOM",t,null)};n.sanitize=function(e,i){var r=void 0,o=void 0,a=void 0,u=void 0,c=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Xe(e)){if("function"!=typeof e.toString)throw _("toString is not a function");if("string"!=typeof(e=e.toString()))throw _("dirty is not a string, aborting")}if(!n.isSupported){if("object"===B(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Xe(e))return t.toStaticHTML(e.outerHTML)}return e}if(De||We(i),n.removed=[],"string"==typeof e&&(Ne=!1),Ne);else if(e instanceof C)r=Je("\x3c!--\x3e"),1===(o=r.ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName?r=o:"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!Pe&&!Me&&!Te&&-1===e.indexOf("<"))return te&&Re?te.createHTML(e):e;if(!(r=Je(e)))return Pe?null:ne}r&&Oe&&Ke(r.firstChild);for(var h=Ze(Ne?e:r);a=h.nextNode();)3===a.nodeType&&a===u||et(a)||(a.content instanceof l&&it(a.content),nt(a),u=a);if(u=null,Ne)return e;if(Pe){if(Le)for(c=ae.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return Ie&&(c=le.call(s,c,!0)),c}var d=Te?r.outerHTML:r.innerHTML;return Me&&(d=v(d,he," "),d=v(d,de," ")),te&&Re?te.createHTML(d):d};n.setConfig=function(e){We(e),De=!0};n.clearConfig=function(){qe=null,De=!1};n.isValidAttribute=function(e,t,n){qe||We({});var i=g(e),r=g(t);return tt(i,r,n)};n.addHook=function(e,t){"function"==typeof t&&(ce[e]=ce[e]||[],f(ce[e],t))};n.removeHook=function(e){ce[e]&&p(ce[e])};n.removeHooks=function(e){ce[e]&&(ce[e]=[])};n.removeAllHooks=function(){ce={}};return n}();return K}),e("skylark-formio/vendors/fast-json-patch/helpers",[],function(){var e=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},t=Object.prototype.hasOwnProperty;function n(e,n){return t.call(e,n)}function i(e){if(Array.isArray(e)){for(var t=new Array(e.length),i=0;i<t.length;i++)t[i]=""+i;return t}if(Object.keys)return Object.keys(e);var t=[];for(var r in e)n(e,r)&&t.push(r);return t}function r(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function s(e,t){var i;for(var o in e)if(n(e,o)){if(e[o]===t)return r(o)+"/";if("object"==typeof e[o]&&""!=(i=s(e[o],t)))return r(o)+"/"+i}return""}var o=function(t){function n(e,n,i,r,s){t.call(this,e),this.message=e,this.name=n,this.index=i,this.operation=r,this.tree=s}return e(n,t),n}(Error);return{hasOwnProperty:n,PatchError:o,hasUndefined:function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0}else if("object"==typeof t)for(var s=i(t),o=s.length,n=0;n<o;n++)if(e(t[s[n]]))return!0;return!1},getPath:function(e,t){if(e===t)return"/";var n=s(e,t);if(""===n)throw new Error("Object not found in root");return"/"+n},unescapePathComponent:function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")},escapePathComponent:r,isInteger:function(e){var t,n=0,i=e.length;for(;n<i;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0},_objectKeys:i,_deepClone:function(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}},_getPathRecursive:s}}),e("skylark-formio/vendors/fast-json-patch/core",["skylark-lodash","./helpers"],function(e,t){var n=function(t,n){return e.isEqual(t,n)},i={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var i=e[t];return delete e[t],{newDocument:n,removed:i}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:function(e,n,i){var r=s(i,this.path);r&&(r=t._deepClone(r));var a=o(i,{op:"remove",path:this.from}).removed;return o(i,{op:"add",path:this.path,value:a}),{newDocument:i,removed:r}},copy:function(e,n,i){var r=s(i,this.from);return o(i,{op:"add",path:this.path,value:t._deepClone(r)}),{newDocument:i}},test:function(e,t,i){return{newDocument:i,test:n(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},r={add:function(e,n,i){return t.isInteger(n)?e.splice(n,0,this.value):e[n]=this.value,{newDocument:i,index:n}},remove:function(e,t,n){var i=e.splice(t,1);return{newDocument:n,removed:i[0]}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:i.move,copy:i.copy,test:i.test,_get:i._get};function s(e,t){if(""==t)return e;var n={op:"_get",path:t};return o(e,n),n.value}function o(e,o,a,u){if(void 0===a&&(a=!1),void 0===u&&(u=!0),a&&("function"==typeof a?a(o,0,e,o.path):l(o,0)),""===o.path){var c={newDocument:e};if("add"===o.op)return c.newDocument=o.value,c;if("replace"===o.op)return c.newDocument=o.value,c.removed=e,c;if("move"===o.op||"copy"===o.op)return c.newDocument=s(e,o.from),"move"===o.op&&(c.removed=e),c;if("test"===o.op){if(c.test=n(e,o.value),!1===c.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,o,e);return c.newDocument=e,c}if("remove"===o.op)return c.removed=e,c.newDocument=null,c;if("_get"===o.op)return o.value=e,c;if(a)throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",0,o,e);return c}u||(e=t._deepClone(e));var h=o.path||"",d=h.split("/"),p=e,f=1,m=d.length,g=void 0,y=void 0,v=void 0;for(v="function"==typeof a?a:l;;){if(y=d[f],a&&void 0===g&&(void 0===p[y]?g=d.slice(0,f).join("/"):f==m-1&&(g=o.path),void 0!==g&&v(o,0,e,g)),f++,Array.isArray(p)){if("-"===y)y=p.length;else{if(a&&!t.isInteger(y))throw new t.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",0,o.path,o);t.isInteger(y)&&(y=~~y)}if(f>=m){if(a&&"add"===o.op&&y>p.length)throw new t.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",0,o.path,o);var c=r[o.op].call(o,p,y,e);if(!1===c.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,o,e);return c}}else if(y&&-1!=y.indexOf("~")&&(y=t.unescapePathComponent(y)),f>=m){var c=i[o.op].call(o,p,y,e);if(!1===c.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,o,e);return c}p=p[y]}}function a(e,n,i,r){if(void 0===r&&(r=!0),i&&!Array.isArray(n))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=t._deepClone(e));for(var s=new Array(n.length),a=0,l=n.length;a<l;a++)s[a]=o(e,n[a],i),e=s[a].newDocument;return s.newDocument=e,s}function l(e,n,r,s){if("object"!=typeof e||null===e||Array.isArray(e))throw new t.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",n,e,r);if(!i[e.op])throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",n,e,r);if("string"!=typeof e.path)throw new t.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",n,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new t.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",n,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new t.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",n,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",n,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&t.hasUndefined(e.value))throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",n,e,r);if(r)if("add"==e.op){var o=e.path.split("/").length,a=s.split("/").length;if(o!==a+1&&o!==a)throw new t.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",n,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==s)throw new t.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",n,e,r)}else if("move"===e.op||"copy"===e.op){var l={op:"_get",path:e.from,value:void 0},c=u([l],r);if(c&&"OPERATION_PATH_UNRESOLVABLE"===c.name)throw new t.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",n,e,r)}}function u(e,n,i){try{if(!Array.isArray(e))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(n)a(t._deepClone(n),t._deepClone(e),i||!0);else{i=i||l;for(var r=0;r<e.length;r++)i(e[r],r,n,void 0)}}catch(e){if(e instanceof t.JsonPatchError)return e;throw e}}return{JsonPatchError:t.PatchError,deepClone:t._deepClone,getValueByPointer:s,applyOperation:o,applyPatch:a,applyReducer:function(e,n){var i=o(e,n);if(!1===i.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,n,e);return i.newDocument},validator:l,validate:u}}),e("skylark-formio/vendors/fast-json-patch/duplex",["./helpers","./core"],function(e,t){var n=new WeakMap,i=function(){return function(e){this.observers=new Map,this.obj=e}}(),r=function(){return function(e,t){this.callback=e,this.observer=t}}();function s(e){var i=n.get(e.object);o(i.value,e.object,e.patches,""),e.patches.length&&t.applyPatch(i.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function o(t,n,i,r){if(n!==t){"function"==typeof n.toJSON&&(n=n.toJSON());for(var s=e._objectKeys(n),a=e._objectKeys(t),l=!1,u=a.length-1;u>=0;u--){var c=a[u],h=t[c];if(!e.hasOwnProperty(n,c)||void 0===n[c]&&void 0!==h&&!1===Array.isArray(n))i.push({op:"remove",path:r+"/"+e.escapePathComponent(c)}),l=!0;else{var d=n[c];"object"==typeof h&&null!=h&&"object"==typeof d&&null!=d?o(h,d,i,r+"/"+e.escapePathComponent(c)):h!==d&&(!0,i.push({op:"replace",path:r+"/"+e.escapePathComponent(c),value:e._deepClone(d)}))}}if(l||s.length!=a.length)for(var u=0;u<s.length;u++){var c=s[u];e.hasOwnProperty(t,c)||void 0===n[c]||i.push({op:"add",path:r+"/"+e.escapePathComponent(c),value:e._deepClone(n[c])})}}}return{applyPatch:t.applyPatch,unobserve:function(e,t){t.unobserve()},observe:function(t,o){var a,l=function(e){return n.get(e)}(t);if(l){var u=function(e,t){return e.observers.get(t)}(l,o);a=u&&u.observer}else l=new i(t),n.set(t,l);if(a)return a;if(a={},l.value=e._deepClone(t),o){a.callback=o,a.next=null;var c=function(){s(a)},h=function(){clearTimeout(a.next),a.next=setTimeout(c)};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mouseup",h),window.addEventListener("keyup",h),window.addEventListener("mousedown",h),window.addEventListener("keydown",h),window.addEventListener("change",h)):(document.documentElement.attachEvent("onmouseup",h),document.documentElement.attachEvent("onkeyup",h),document.documentElement.attachEvent("onmousedown",h),document.documentElement.attachEvent("onkeydown",h),document.documentElement.attachEvent("onchange",h)))}return a.patches=[],a.object=t,a.unobserve=function(){s(a),clearTimeout(a.next),function(e,t){e.observers.delete(t.callback)}(l,a),"undefined"!=typeof window&&(window.removeEventListener?(window.removeEventListener("mouseup",h),window.removeEventListener("keyup",h),window.removeEventListener("mousedown",h),window.removeEventListener("keydown",h)):(document.documentElement.detachEvent("onmouseup",h),document.documentElement.detachEvent("onkeyup",h),document.documentElement.detachEvent("onmousedown",h),document.documentElement.detachEvent("onkeydown",h)))},l.observers.set(o,new r(o,a)),a},generate:s,compare:function(e,t){var n=[];return o(e,t,n,""),n}}}),e("skylark-formio/utils/formUtils",["skylark-lodash","../vendors/fast-json-patch/duplex"],function(e,t){"use strict";const{get:n,set:i,has:r,clone:s,forOwn:o,isString:a,isNaN:l,isNil:u,isPlainObject:c,round:h,chunk:d,pad:p}=e;function f(e,t,n,i,r){e&&(i=i||"",e.forEach(e=>{if(!e)return;const o=e.columns&&Array.isArray(e.columns),a=e.rows&&Array.isArray(e.rows),l=e.components&&Array.isArray(e.components);let u=!1;const c=e.key?i?`${i}.${e.key}`:e.key:"";r&&(e.parent=s(r),delete e.parent.components,delete e.parent.componentMap,delete e.parent.columns,delete e.parent.rows),(n||e.tree||!o&&!a&&!l)&&(u=t(e,c));const h=()=>e.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(e.type)&&(["datagrid","container","editgrid"].includes(e.type)||e.tree)?c:e.key&&"form"===e.type?`${c}.data`:i;u||(o?e.columns.forEach(i=>f(i.components,t,n,h(),r?e:null)):a?e.rows.forEach(i=>{Array.isArray(i)&&i.forEach(i=>f(i.components,t,n,h(),r?e:null))}):l&&f(e.components,t,n,h(),r?e:null))}))}function m(e,t){if(a(t))return e.key===t||e.path===t;{let i=!1;return o(t,(t,r)=>{if(!(i=n(e,r)===t))return!1}),i}}function g(e,t){const n=[];return f(e,e=>{m(e,t)&&n.push(e)},!0),n}function y(e,t,n,i){if(e){if(n=n||[],!t)return i(e);e.forEach(function(e,r){var s=n.slice();s.push(r),e&&(e.hasOwnProperty("columns")&&Array.isArray(e.columns)&&(s.push("columns"),e.columns.forEach(function(e,n){var r=s.slice();r.push(n),r.push("components"),y(e.components,t,r,i)})),e.hasOwnProperty("rows")&&Array.isArray(e.rows)&&(s.push("rows"),e.rows.forEach(function(e,n){var r=s.slice();r.push(n),e.forEach(function(e,n){var s=r.slice();s.push(n),s.push("components"),y(e.components,t,s,i)})})),e.hasOwnProperty("components")&&Array.isArray(e.components)&&(s.push("components"),y(e.components,t,s,i)),e.key===t&&i(e,s))})}}function v(e,t){var i=t.pop();0!==t.length&&(e=n(e,t)),e.splice(i,1)}function b(e){return parseFloat(a(e)?e.replace(/[^\de.+-]/gi,""):e)}return{isLayoutComponent:function(e){return Boolean(e.columns&&Array.isArray(e.columns)||e.rows&&Array.isArray(e.rows)||e.components&&Array.isArray(e.components))},eachComponent:f,matchComponent:m,getComponent:function(e,t,n){let i;return f(e,(e,n)=>{if(n===t||e.path===t)return i=e,!0},n),i},searchComponents:g,findComponents:function(e,t){return console.warn("formio.js/utils findComponents is deprecated. Use searchComponents instead."),g(e,t)},findComponent:y,removeComponent:v,generateFormChange:function(e,t){let n;switch(e){case"add":n={op:"add",key:t.component.key,container:t.parent.key,path:t.path,index:t.index,component:t.component};break;case"edit":(n={op:"edit",key:t.originalComponent.key,patches:duplex.compare(t.originalComponent,t.component)}).patches.length||(n=null);break;case"remove":n={op:"remove",key:t.component.key}}return n},applyFormChanges:function(e,t){const r=[];return t.forEach(function(t){var s=!1;switch(t.op){case"add":var o=t.component;y(e.components,t.container,null,function(i){t.container||(i=e),y(e.components,t.key,null,function(t,n){o=t,v(e.components,n)}),s=!0,n(i,t.path).splice(t.index,0,o)});break;case"remove":y(e.components,t.key,null,function(t,i){s=!0,n(e.components,i).key!==t.key&&i.pop(),v(e.components,i)});break;case"edit":y(e.components,t.key,null,function(o,a){s=!0;try{const s=n(e.components,a),l=duplex.applyPatch(o,t.patches).newDocument;s.key!==l.key&&a.pop(),i(e.components,a,l)}catch(e){r.push(t)}})}s||r.push(t)}),{form:e,failed:r}},flattenComponents:function(e,t){const n={};return f(e,(e,t)=>{n[t]=e},t),n},hasCondition:function(e){return Boolean(e.customConditional||e.conditional&&e.conditional.when||e.conditional&&e.conditional.json)},parseFloatExt:b,formatAsCurrency:function(e){const t=b(e);if(l(t))return"";const n=h(t,2).toString().split(".");return n[0]=d(Array.from(n[0]).reverse(),3).reverse().map(e=>e.reverse().join("")).join(","),n[1]=p(n[1],2,"0"),n.join(".")},escapeRegExCharacters:function(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")},getValue:function(e,t){const n=e=>{if(c(e)){if(r(e,t))return e[t];let i=null;return o(e,e=>{const t=n(e);if(!u(t))return i=t,!1}),i}return null};return n(e.data)},getStrings:function(e){const t=["label","title","legend","tooltip","description","placeholder","prefix","suffix","errorLabel","content","html"],n=[];return f(e.components,e=>{if(t.forEach(t=>{e.hasOwnProperty(t)&&e[t]&&n.push({key:e.key,type:e.type,property:t,string:e[t]})}),(!e.dataSrc||"values"===e.dataSrc)&&e.hasOwnProperty("values")&&Array.isArray(e.values)&&e.values.length&&e.values.forEach((t,i)=>{n.push({key:e.key,property:`value[${i}].label`,string:e.values[i].label})}),"day"===e.type&&(["day","month","year","Day","Month","Year","january","february","march","april","may","june","july","august","september","october","november","december"].forEach(t=>{n.push({key:e.key,property:"day",string:t})}),e.fields.day.placeholder&&n.push({key:e.key,property:"fields.day.placeholder",string:e.fields.day.placeholder}),e.fields.month.placeholder&&n.push({key:e.key,property:"fields.month.placeholder",string:e.fields.month.placeholder}),e.fields.year.placeholder&&n.push({key:e.key,property:"fields.year.placeholder",string:e.fields.year.placeholder})),"editgrid"===e.type){const t=e.addAnother||"Add Another";e.addAnother&&n.push({key:e.key,property:"addAnother",string:t})}"select"===e.type&&["loading...","Type to search"].forEach(t=>{n.push({key:e.key,property:"select",string:t})})},!0),n}}}),e("skylark-formio/utils/Evaluator",["skylark-lodash"],function(e){"use strict";function t(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}const n={noeval:!1,cache:{},templateSettings:{evaluate:/\{%([\s\S]+?)%\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g,escape:/\{\{\{([\s\S]+?)\}\}\}/g},evaluator:(t,...i)=>n.noeval?(console.warn("No evaluations allowed for this renderer."),e.noop):("object"==typeof i[0]&&(i=e.keys(i[0])),new Function(...i,t)),template(i,r){r=r||t(i);try{return i=i.replace(/ctx\./g,""),n.cache[r]=e.template(i,n.templateSettings)}catch(e){console.warn("Error while processing template",e,i)}},interpolate(i,r){if("function"==typeof i)try{return i(r)}catch(e){return console.warn("Error interpolating template",e,r),e.message}const s=t(i=String(i));let o;if(n.cache[s])o=n.cache[s];else{if(n.noeval)return i.replace(/({{\s*(.*?)\s*}})/g,(t,n,i)=>e.get(r,i));o=n.template(i,s)}if("function"==typeof o)try{return o(r)}catch(e){return console.warn("Error interpolating template",e,i,r),e.message}return o},evaluate:(e,t)=>Array.isArray(t)?e(...t):e(t)};return n}),e("skylark-formio/utils/utils",["skylark-lodash","../vendors/fetch-ponyfill/fetch","../vendors/json-logic-js/logic","../vendors/moment/timezone","../vendors/jstimezonedetect/jstz","./jsonlogic/operators","../vendors/getify/npo","../vendors/dompurify/purify","./formUtils","./Evaluator"],function(e,t,n,i,r,s,o,a,l,u){"use strict";const c=u.interpolate,{fetch:h}=t({Promise:o});function d(t,i,r,s){let o=null;const a=i.component?i.component:{key:"unknown"};!i.form&&i.instance&&(i.form=e.get(i.instance,"root._form",{}));const l=a.key;if("string"==typeof t){r&&(t+=`;return ${r}`),s&&(t=t.replace(/({{\s+(.*)\s+}})/,(t,n,r)=>0===r.indexOf("data.")?e.get(i.data,r.replace("data.","")):0===r.indexOf("row.")?e.get(i.row,r.replace("row.","")):e.get(i.data,r)));try{t=u.evaluator(t,i),i=e.values(i)}catch(e){console.warn(`An error occured within the custom function for ${l}`,e),o=null,t=!1}}if("function"==typeof t)try{o=u.evaluate(t,i)}catch(e){o=null,console.warn(`An error occured within custom function for ${l}`,e)}else if("object"==typeof t)try{o=n.apply(t,i)}catch(e){o=null,console.warn(`An error occured within custom function for ${l}`,e)}else t&&console.warn(`Unknown function type for ${l}`);return o}function p(e,t){let n=e.getPropertyValue(t);return n=n?n.replace(/[^0-9.]/g,""):"0",parseFloat(n)}function f(t,n,i,r){let s=null;i&&(s=l.getValue({data:i},n.when)),r&&e.isNil(s)&&(s=l.getValue({data:r},n.when)),e.isNil(s)&&(s="");const o=String(n.eq),a=String(n.show);return e.isObject(s)&&e.has(s,n.eq)?String(s[n.eq])===a:Array.isArray(s)&&s.map(String).includes(o)?"true"===a:String(s)===o==("true"===a)}function m(e,t,n,i,r,s,o,a){"string"==typeof t&&(t=`var ${s} = true; ${t}; return ${s};`);const l=a&&a.evaluate?a.evaluate(t):d(t,{row:n,data:i,form:r});return null===l?o:l}function g(t,i,r,s,o,a){try{return n.apply(i,{data:s,row:r,form:o,_:e})}catch(e){return console.warn(`An error occurred in jsonLogic advanced condition for ${t.key}`,e),a}}function y(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function v(){return i.currentTimezone?i.currentTimezone:(i.currentTimezone=r.determine().name(),i.currentTimezone)}function b(e,t){if("UTC"===t)return{date:new Date(e.getTime()+6e4*e.getTimezoneOffset()),abbr:"UTC"};const n=i(e).tz(t);return{date:new Date(e.getTime()+6e4*(n.utcOffset()+e.getTimezoneOffset())),abbr:n.format("z")}}function k(e){return e!==v()&&"UTC"!==e}function w(t){return t&&!k(t)?new o(e.noop):i.zonesPromise?i.zonesPromise:i.zonesPromise=h("https://cdn.form.io/moment-timezone/data/packed/latest.json").then(e=>e.json().then(e=>{if(i.tz.load(e),i.zonesLoaded=!0,document&&document.createEvent&&document.body&&document.body.dispatchEvent){var t=document.createEvent("Event");t.initEvent("zonesLoaded",!0,!0),document.body.dispatchEvent(t)}}))}function x(e){return e.replace(/y/g,"Y").replace(/d/g,"D").replace(/E/g,"d").replace(/a/g,"A").replace(/U/g,"X")}function _(e){return e.match(/(\d+)$/)?e.replace(/(\d+)$/,function(e){return Number(e)+1}):`${e}1`}function C(e){return"function"==typeof e?e():e}s.lodashOperators.forEach(t=>n.add_operation(`_${t}`,e[t])),n.add_operation("getDate",e=>i(e).toISOString()),n.add_operation("relativeMinDate",e=>i().subtract(e,"days").toISOString()),n.add_operation("relativeMaxDate",e=>i().add(e,"days").toISOString());const E=e.flow([e.partialRight(e.map,C),e.partialRight(e.find,t=>!e.isUndefined(t))]);return{jsonLogic:n,moment:i,evaluate:d,getRandomComponentId:function(){return`e${Math.random().toString(36).substring(7)}`},getPropertyValue:p,getElementRect:function(e){const t=window.getComputedStyle(e,null);return{x:p(t,"left"),y:p(t,"top"),width:p(t,"width"),height:p(t,"height")}},boolValue:function(t){return e.isBoolean(t)?t:e.isString(t)?"true"===t.toLowerCase():!!t},isMongoId:function(e){return e.toString().match(/^[0-9a-fA-F]{24}$/)},checkCalculated:function(t,n,i){t.calculateValue&&e.set(i,t.key,d(t.calculateValue,{value:void 0,data:n?n.data:i,row:i,util:this,component:t},"value"))},checkSimpleConditional:f,checkCustomConditional:m,checkJsonConditional:g,checkCondition:function(e,t,n,i,r){if(e.customConditional)return m(e,e.customConditional,t,n,i,"show",!0,r);if(e.conditional&&e.conditional.when)return f(e,e.conditional,t,n);if(e.conditional&&e.conditional.json)return g(e,e.conditional.json,t,n,i,!0);return!0},checkTrigger:function(e,t,n,i,r,s){if(!t[t.type])return!1;switch(t.type){case"simple":return f(e,t.simple,n,i);case"javascript":return m(e,t.javascript,n,i,r,"result",!1,s);case"json":return g(e,t.json,n,i,r,!1)}return!1},setActionProperty:function(t,n,i,r,s,o){const a=n.property.value;switch(n.property.type){case"boolean":{const i=e.get(t,a,!1).toString(),r=n.state.toString();i!==r&&e.set(t,a,"true"===r);break}case"string":{const l={data:s,row:r,component:t,result:i},c=n.property.component?n[n.property.component]:n.text,h=e.get(t,a,""),d=o&&o.interpolate?o.interpolate(c,l):u.interpolate(c,l);d!==h&&e.set(t,a,d);break}}return t},uniqueName:function(t,n,i){(n=n||"{{fileName}}-{{guid}}").includes("{{guid}}")||(n=`${n}-{{guid}}`);const r=t.split(".");let s=r.slice(0,r.length-1).join(".");const o=r.length>1?`.${e.last(r)}`:"";return s=s.substr(0,100),i=Object.assign(i||{},{fileName:s,guid:y()}),`${u.interpolate(n,i)}${o}`.replace(/[^0-9a-zA-Z.\-_ ]/g,"-")},guid:y,getDateSetting:function(t){if(e.isNil(t)||e.isNaN(t)||""===t)return null;if(t instanceof Date)return t;if("function"==typeof t.toDate)return t.isValid()?t.toDate():null;let n="string"!=typeof t||-1===t.indexOf("moment(")?i(t):null;if(n&&n.isValid())return n.toDate();n=null;try{const e=u.evaluator(`return ${t};`,"moment")(i);"string"==typeof e?n=i(e):"function"==typeof e.toDate?n=i(e.toDate().toUTCString()):e instanceof Date&&(n=i(e))}catch(e){return null}if(!n)return null;if(!n.isValid())return null;return n.toDate()},isValidDate:function(t){return e.isDate(t)&&!e.isNaN(t.getDate())},currentTimezone:v,offsetDate:b,zonesLoaded:function(){return i.zonesLoaded},shouldLoadZones:k,loadZones:w,momentDate:function(e,t,n){const r=i(e);"UTC"===n&&(n="Etc/UTC");if((n!==v()||t&&t.match(/\s(z$|z\s)/))&&i.zonesLoaded)return r.tz(n);return r},formatDate:function(e,t,n){const r=i(e);if(n===v())return t.match(/\s(z$|z\s)/)?(w(),i.zonesLoaded?r.tz(n).format(x(t)):r.format(x(t.replace(/\s(z$|z\s)/,"")))):r.format(x(t));if("UTC"===n){const e=b(r.toDate(),"UTC");return`${i(e.date).format(x(t))} UTC`}return w(),i.zonesLoaded?r.tz(n).format(`${x(t)} z`):r.format(x(t))},formatOffset:function(e,t,n,r){if(r===v())return e(t,n);if("UTC"===r)return`${e(b(t,"UTC").date,n)} UTC`;if(w(),i.zonesLoaded){const i=b(t,r);return`${e(i.date,n)} ${i.abbr}`}return e(t,n)},getLocaleDateFormatInfo:function(e){const t={},n=new Date(2017,11,21).toLocaleDateString(e);return t.dayFirst=n.slice(0,2)===21..toString(),t},convertFormatToFlatpickr:function(e){return e.replace(/Z/g,"").replace(/y/g,"Y").replace("YYYY","Y").replace("YY","y").replace("MMMM","F").replace(/M/g,"n").replace("nnn","M").replace("nn","m").replace(/d/g,"j").replace(/jj/g,"d").replace("EEEE","l").replace("EEE","D").replace("HH","H").replace("hh","G").replace("mm","i").replace("ss","S").replace(/a/g,"K")},convertFormatToMoment:x,convertFormatToMask:function(e){return e.replace(/M{4}/g,"MM").replace(/M{3}/g,"***").replace(/e/g,"Q").replace(/[ydhmsHMG]/g,"9").replace(/a/g,"AA")},getInputMask:function(e){if(e instanceof Array)return e;const t=[];t.numeric=!0;for(let n=0;n<e.length;n++)switch(e[n]){case"9":t.push(/\d/);break;case"A":t.numeric=!1,t.push(/[a-zA-Z]/);break;case"a":t.numeric=!1,t.push(/[a-z]/);break;case"*":t.numeric=!1,t.push(/[a-zA-Z0-9]/);break;default:t.numeric=!1,t.push(e[n])}return t},matchInputMask:function(t,n){if(!n)return!0;if(t.length>n.length)return!1;for(let i=0;i<n.length;i++){const r=t[i],s=n[i];if(!(e.isRegExp(s)&&s.test(r)||s===r))return!1}return!0},getNumberSeparators:function(e="en"){const t=12345.6789.toLocaleString(e).match(/..(.)...(.)../);if(!t)return{delimiter:",",decimalSeparator:"."};return{delimiter:t.length>1?t[1]:",",decimalSeparator:t.length>2?t[2]:"."}},getNumberDecimalLimit:function(t,n){if(e.has(t,"decimalLimit"))return e.get(t,"decimalLimit");let i=n||20;const r=e.get(t,"validate.step","any");if("any"!==r){const e=r.toString().split(".");e.length>1&&(i=e[1].length)}return i},getCurrencyAffixes:function({currency:e="USD",decimalLimit:t,decimalSeparator:n,lang:i}){let r="(.*)?100";t&&(r+=`${"."===n?"\\.":n}0{${t}}`);r+="(.*)?";const s=100..toLocaleString(i,{style:"currency",currency:e,useGrouping:!0,maximumFractionDigits:t,minimumFractionDigits:t}).replace(".",n).match(new RegExp(r));return{prefix:s[1]||"",suffix:s[2]||""}},fieldData:function(e,t){if(!e)return"";if(!t||!t.key)return e;if(t.key.includes(".")){let n=e;const i=t.key.split(".");let r="";for(let e=0;e<i.length;e++){if(r=i[e],n.hasOwnProperty("_id")&&(n=n.data),!n.hasOwnProperty(r))return;r===i[i.length-1]&&t.multiple&&!Array.isArray(n[r])&&(n[r]=[n[r]]),n=n[r]}return n}return t.multiple&&!Array.isArray(e[t.key])&&(e[t.key]=[e[t.key]]),e[t.key]},delay:function(e,t=0,...n){const i=setTimeout(e,t,...n);function r(){clearTimeout(i)}function s(){return r(),e(...n)}return s.timer=i,s.cancel=r,s},iterateKey:_,uniqueKey:function(e,t){let n=t;for(;e.hasOwnProperty(n);)n=_(n);return n},bootstrapVersion:function(e){if(e.bootstrap)return e.bootstrap;if("function"==typeof $&&"function"==typeof $().collapse)return parseInt($.fn.collapse.Constructor.VERSION.split(".")[0],10);return 0},unfold:C,firstNonNil:E,withSwitch:function(e,t){let n=e,i=t;return[function(){return n},function(){const e=n;n=i,i=e}]},observeOverload:function(e,t={}){const{limit:n=50,delay:i=500}=t;let r=0,s=0;const o=()=>r=0;return()=>{if(0!==s&&(clearTimeout(s),s=0),s=setTimeout(o,i),(r+=1)>=n)return clearTimeout(s),o(),e()}},getContextComponents:function(e){const t=[];return e.utils.eachComponent(e.instance.options.editForm.components,(n,i)=>{n.key!==e.data.key&&t.push({label:`${n.label||n.key} (${i})`,value:n.key})}),t},sanitize:function(e,t){const n={ADD_ATTR:["ref","target"],USE_PROFILES:{html:!0}};t.sanitizeConfig&&Array.isArray(t.sanitizeConfig.addAttr)&&t.sanitizeConfig.addAttr.length>0&&t.sanitizeConfig.addAttr.forEach(e=>{n.ADD_ATTR.push(e)});t.sanitizeConfig&&Array.isArray(t.sanitizeConfig.addTags)&&t.sanitizeConfig.addTags.length>0&&(n.ADD_TAGS=t.sanitizeConfig.addTags);t.sanitizeConfig&&Array.isArray(t.sanitizeConfig.allowedTags)&&t.sanitizeConfig.allowedTags.length>0&&(n.ALLOWED_TAGS=t.sanitizeConfig.allowedTags);t.sanitizeConfig&&Array.isArray(t.sanitizeConfig.allowedAttrs)&&t.sanitizeConfig.allowedAttrs.length>0&&(n.ALLOWED_ATTR=t.sanitizeConfig.allowedAttrs);t.sanitizeConfig&&t.sanitizeConfig.allowedUriRegex&&(n.ALLOWED_URI_REGEXP=t.sanitizeConfig.allowedUriRegex);return a.sanitize(e,n)},fastCloneDeep:function(e){return e?JSON.parse(JSON.stringify(e)):e},Evaluator:u,interpolate:c,isInputComponent:function(e){if(!1===e.input||!0===e.input)return e.input;switch(e.type){case"htmlelement":case"content":case"columns":case"fieldset":case"panel":case"table":case"tabs":case"well":case"button":return!1;default:return!0}},isLayoutComponent:l.isLayoutComponent,eachComponent:l.eachComponent,matchComponent:l.matchComponent,getComponent:l.getComponent,searchComponents:l.searchComponents,findComponents:l.findComponents,findComponent:l.findComponent,removeComponent:l.removeComponent,generateFormChange:l.generateFormChange,applyFormChanges:l.applyFormChanges,flattenComponents:l.flattenComponents,hasCondition:l.hasCondition,parseFloatExt:l.parseFloatExt,formatAsCurrency:l.formatAsCurrency,escapeRegExCharacters:l.escapeRegExCharacters,getValue:l.getValue,getStrings:l.getStrings}}),e("skylark-formio/EventEmitter",["./vendors/eventemitter2/EventEmitter2","./utils/utils"],function(e,t){"use strict";return class extends e{constructor(e={}){const{loadLimit:n=50,eventsSafeInterval:i=300,pause:r=500,...s}=e;super(s);const[o,a]=t.withSwitch(!1,!0),l=t.observeOverload(()=>{console.warn("Infinite loop detected",this.id,r),a(),setTimeout(a,r)},{limit:n,delay:i});this.emit=((...e)=>{o()||(super.emit(...e),l())})}}}),e("skylark-formio/vendors/browser-cookies/cookies",[],function(){var exports={set:function(e,t,n){var i=n||{},r=exports.defaults,s=i.expires||r.expires,o=i.domain||r.domain,a=void 0!==i.path?i.path:void 0!==r.path?r.path:"/",l=void 0!==i.secure?i.secure:r.secure,u=void 0!==i.httponly?i.httponly:r.httponly,c=void 0!==i.samesite?i.samesite:r.samesite,h=s?new Date("number"==typeof s?(new Date).getTime()+864e5*s:s):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(h&&h.getTime()>=0?";expires="+h.toUTCString():"")+(o?";domain="+o:"")+(a?";path="+a:"")+(l?";secure":"")+(u?";httponly":"")+(c?";samesite="+c:"")},get:function(e){for(var t=document.cookie.split(";");t.length;){var n=t.pop(),i=n.indexOf("=");i=i<0?n.length:i;var r=decodeURIComponent(n.slice(0,i).replace(/^\s+/,""));if(r===e)return decodeURIComponent(n.slice(i+1))}return null},erase:function(e,t){exports.set(e,"",{expires:-1,domain:t&&t.domain,path:t&&t.path,secure:0,httponly:0})},all:function(){for(var e={},t=document.cookie.split(";");t.length;){var n=t.pop(),i=n.indexOf("=");i=i<0?n.length:i;var r=decodeURIComponent(n.slice(0,i).replace(/^\s+/,""));e[r]=decodeURIComponent(n.slice(i+1))}return e}};return exports}),e("skylark-formio/providers/address/AddressProvider",["skylark-lodash","../../Formio"],function(e,t){"use strict";return{AddressProvider:class{static get name(){return"address"}static get displayName(){return"Address"}constructor(t={}){this.options=e.merge({},this.defaultOptions,t)}get defaultOptions(){return{}}get queryProperty(){return"query"}get responseProperty(){return null}get displayValueProperty(){return null}serialize(t){return e.toPairs(t).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&")}getRequestOptions(t={}){return e.merge({},this.options,t)}getRequestUrl(e={}){throw new Error("Method AddressProvider#getRequestUrl(options) is abstract.")}makeRequest(e={}){return t.makeStaticRequest(this.getRequestUrl(e),"GET",null,{noToken:!0})}search(t,n={}){const i=this.getRequestOptions(n),r=i.params=i.params||{};return r[this.queryProperty]=t,this.makeRequest(i).then(t=>this.responseProperty?e.get(t,this.responseProperty,[]):t)}getDisplayValue(t){return this.displayValueProperty?e.get(t,this.displayValueProperty,""):String(t)}}}}),e("skylark-formio/providers/address/AzureAddressProvider",["./AddressProvider"],function(e){"use strict";return{AzureAddressProvider:class extends e.AddressProvider{static get name(){return"azure"}static get displayName(){return"Azure Maps"}get defaultOptions(){return{params:{"api-version":"1.0",typeahead:"true"}}}get responseProperty(){return"results"}get displayValueProperty(){return"address.freeformAddress"}getRequestUrl(e={}){const{params:t}=e;return`https://atlas.microsoft.com/search/address/json?${this.serialize(t)}`}}}}),e("skylark-formio/providers/address/CustomAddressProvider",["./AddressProvider"],function(e){"use strict";return{CustomAddressProvider:class extends e.AddressProvider{static get name(){return"custom"}static get displayName(){return"Custom"}get queryProperty(){return this.options.queryProperty||super.queryProperty}get responseProperty(){return this.options.responseProperty||super.responseProperty}get displayValueProperty(){return this.options.displayValueProperty||super.displayValueProperty}getRequestUrl(e={}){const{params:t,url:n}=e;return`${n}?${this.serialize(t)}`}}}}),e("skylark-formio/providers/address/GoogleAddressProvider",["./AddressProvider"],function(e){"use strict";return{GoogleAddressProvider:class extends e.AddressProvider{static get name(){return"google"}static get displayName(){return"Google Maps"}get defaultOptions(){return{params:{sensor:"false"}}}get queryProperty(){return"address"}get responseProperty(){return"results"}get displayValueProperty(){return"formatted_address"}makeRequest(e={}){return new Promise((t,n)=>{var i=new XMLHttpRequest;i.responseType="json",i.open("GET",this.getRequestUrl(e),!0),i.onload=(()=>t(i.response)),i.onerror=n,i.send()})}getRequestUrl(e={}){const{params:t}=e;return`https://maps.googleapis.com/maps/api/geocode/json?${this.serialize(t)}`}}}}),e("skylark-formio/providers/address/NominatimAddressProvider",["./AddressProvider"],function(e){"use strict";return{NominatimAddressProvider:class extends e.AddressProvider{static get name(){return"nominatim"}static get displayName(){return"OpenStreetMap Nominatim"}get defaultOptions(){return{params:{addressdetails:"1",format:"json"}}}get queryProperty(){return"q"}get displayValueProperty(){return"display_name"}getRequestUrl(e={}){const{params:t}=e;return`https://nominatim.openstreetmap.org/search?${this.serialize(t)}`}}}}),e("skylark-formio/providers/address/index",["./AzureAddressProvider","./CustomAddressProvider","./GoogleAddressProvider","./NominatimAddressProvider"],function(e,t,n,i){"use strict";return{[e.AzureAddressProvider.name]:e.AzureAddressProvider,[t.CustomAddressProvider.name]:t.CustomAddressProvider,[n.GoogleAddressProvider.name]:n.GoogleAddressProvider,[i.NominatimAddressProvider.name]:i.NominatimAddressProvider}}),e("skylark-formio/providers/auth/index",[],function(){"use strict";return{}}),e("skylark-formio/providers/storage/base64",["../../vendors/getify/npo"],function(e){"use strict";const t=()=>({title:"Base64",name:"base64",uploadFile(t,n){const i=new FileReader;return new e((e,r)=>{i.onload=(i=>{const r=i.target.result;e({storage:"base64",name:n,url:r,size:t.size,type:t.type})}),i.onerror=(()=>r(this)),i.readAsDataURL(t)})},downloadFile:t=>e.resolve(t)});return t.title="Base64",t}),e("skylark-formio/providers/storage/dropbox",["../../vendors/getify/npo"],function(e){"use strict";const t=t=>({uploadFile:(n,i,r,s)=>new e((e,o)=>{const a=new XMLHttpRequest;"function"==typeof s&&(a.upload.onprogress=s);const l=new FormData;l.append("name",i),l.append("dir",r),l.append("file",n),a.onerror=(e=>{e.networkError=!0,o(e)}),a.onload=(()=>{if(a.status>=200&&a.status<300){const t=JSON.parse(a.response);t.storage="dropbox",t.size=n.size,t.type=n.type,t.url=t.path_lower,e(t)}else o(a.response||"Unable to upload file")}),a.onabort=o,a.open("POST",`${t.formUrl}/storage/dropbox`);const u=t.getToken();u&&a.setRequestHeader("x-jwt-token",u),a.send(l)}),downloadFile(n){const i=t.getToken();return n.url=`${t.formUrl}/storage/dropbox?path_lower=${n.path_lower}${i?`&x-jwt-token=${i}`:""}`,e.resolve(n)}});return t.title="Dropbox",t}),e("skylark-formio/providers/storage/xhr",["../../vendors/getify/npo","skylark-lodash"],function(e,t){"use strict";t.trim;const n={trim:e=>_trim(e,"/"),path:e=>e.filter(e=>!!e).map(n.trim).join("/"),upload:(t,i,r,s,o,a,l)=>new e((e,u)=>{const c=new XMLHttpRequest;c.onerror=(e=>{e.networkError=!0,u(e)}),c.onabort=u,c.onload=(()=>{if(c.status>=200&&c.status<300){const t=JSON.parse(c.response),n=new XMLHttpRequest;"function"==typeof l&&(n.upload.onprogress=l),n.onerror=(e=>{e.networkError=!0,u(e)}),n.onabort=(e=>{e.networkError=!0,u(e)}),n.onload=(()=>{n.status>=200&&n.status<300?e(t):u(n.response||"Unable to upload file")}),n.onabort=u,n.send(r(n,t))}else u(c.response||"Unable to sign file")}),c.open("POST",`${t.formUrl}/storage/${i}`),c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-Type","application/json; charset=UTF-8");const h=t.getToken();h&&c.setRequestHeader("x-jwt-token",h),c.send(JSON.stringify({name:n.path([a,o]),size:s.size,type:s.type}))})};return n}),e("skylark-formio/providers/storage/s3",["../../vendors/getify/npo","./xhr"],function(e,t){"use strict";const n=n=>({uploadFile:(e,i,r,s)=>t.upload(n,"s3",(n,s)=>{if(s.data.fileName=i,s.data.key=t.path([s.data.key,r,i]),s.signed)return n.open("PUT",s.signed),n.setRequestHeader("Content-Type",e.type),e;{const t=new FormData;for(const e in s.data)t.append(e,s.data[e]);return t.append("file",e),n.open("POST",s.url),t}},e,i,r,s).then(n=>({storage:"s3",name:i,bucket:n.bucket,key:n.data.key,url:t.path([n.url,n.data.key]),acl:n.data.acl,size:e.size,type:e.type})),downloadFile:i=>"public-read"!==i.acl?n.makeRequest("file",`${n.formUrl}/storage/s3?bucket=${t.trim(i.bucket)}&key=${t.trim(i.key)}`,"GET"):e.resolve(i)});return n.title="S3",n}),e("skylark-formio/providers/storage/azure",["./xhr"],function(e){"use strict";const t=t=>({uploadFile:(n,i,r,s)=>e.upload(t,"azure",(e,t)=>(e.open("PUT",t.url),e.setRequestHeader("Content-Type",n.type),e.setRequestHeader("x-ms-blob-type","BlockBlob"),n),n,i,r,s).then(()=>({storage:"azure",name:e.path([r,i]),size:n.size,type:n.type})),downloadFile:n=>t.makeRequest("file",`${t.formUrl}/storage/azure?name=${e.trim(n.name)}`,"GET")});return t.title="Azure File Services",t}),e("skylark-formio/providers/storage/url",["../../vendors/getify/npo"],function(e){"use strict";const t=t=>{const n=(n,i,r,s,o,a)=>new e((e,l)=>{const u=new XMLHttpRequest,c="string"==typeof s,h=new FormData;if("function"==typeof a&&(u.upload.onprogress=a),!c)for(const e in s)h.append(e,s[e]);u.onload=(()=>{if(u.status>=200&&u.status<300){let t={};try{t=(t="string"==typeof u.response?JSON.parse(u.response):{})&&t.data?t.data:t}catch(e){t={}}let r=t.hasOwnProperty("url")?t.url:`${u.responseURL}/${i}`;r&&"/"===r[0]&&(r=`${n}${r}`),e({url:r,data:t})}else l(u.response||"Unable to upload file")}),u.onerror=(()=>l(u)),u.onabort=(()=>l(u));let d=n+(n.indexOf("?")>-1?"&":"?");for(const e in r)d+=`${e}=${r[e]}&`;"&"===d[d.length-1]&&(d=d.substr(0,d.length-1)),u.open("POST",d),c&&u.setRequestHeader("Content-Type","application/json");const p=t.getToken();if(p&&u.setRequestHeader("x-jwt-token",p),o){const e="string"==typeof o?JSON.parse(o):o;for(const t in e)u[t]=e[t]}u.send(c?s:h)});return{title:"Url",name:"url",uploadFile(e,i,r,s,o,a,l){const u=function(u){return n(o,i,{baseUrl:encodeURIComponent(t.projectUrl),project:u?u.project:"",form:u?u._id:""},{[l]:e,name:i,dir:r},a,s).then(n=>(n.data=n.data||{},n.data.baseUrl=t.projectUrl,n.data.project=u?u.project:"",n.data.form=u?u._id:"",{storage:"url",name:i,url:n.url,size:e.size,type:e.type,data:n.data}))};return e.private&&t.formId?t.loadForm().then(e=>u(e)):u()},deleteFile:t=>new e((e,n)=>{const i=new XMLHttpRequest;i.open("DELETE",t.url,!0),i.onload=(()=>{i.status>=200&&i.status<300?e("File deleted"):n(i.response||"Unable to delete file")}),i.send(null)}),downloadFile:i=>i.private?(t.submissionId&&i.data&&(i.data.submission=t.submissionId),n(i.url,i.name,{},JSON.stringify(i)).then(e=>e.data)):e.resolve(i)}};return t.title="Url",t}),e("skylark-formio/vendors/uuid/rng",[],function(){var e,t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e=function(){return t(n),n}}else{var i=new Array(16);e=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}return e}),e("skylark-formio/vendors/uuid/bytesToUuid",[],function(){for(var e=[],t=0;t<256;++t)e[t]=(t+256).toString(16).substr(1);return function(t,n){var i=n||0,r=e;return[r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]]].join("")}}),e("skylark-formio/vendors/uuid/v4",["./rng","./bytesToUuid"],function(e,t){return function(n,i,r){var s=i&&r||0;"string"==typeof n&&(i="binary"===n?new Array(16):null,n=null);var o=(n=n||{}).random||(n.rng||e)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,i)for(var a=0;a<16;++a)i[s+a]=o[a];return i||t(o)}}),e("skylark-formio/providers/storage/indexeddb",["../../vendors/uuid/v4","../../vendors/getify/npo"],function(e,t){"use strict";const n=()=>({title:"indexedDB",name:"indexeddb",uploadFile(n,i,r,s,o,a){if("indexedDB"in window)return new t(e=>{const t=indexedDB.open(a.indexeddb,3);t.onsuccess=function(t){const n=t.target.result;e(n)},t.onupgradeneeded=function(e){const t=e.target.result;t.createObjectStore(a.indexeddbTable)}}).then(i=>{const r=new FileReader;return new t((t,s)=>{r.onload=(()=>{const r=new Blob([n],{type:n.type}),s=e(r),l={id:s,data:r,name:n.name,size:n.size,type:n.type,url:o},u=i.transaction([a.indexeddbTable],"readwrite"),c=u.objectStore(a.indexeddbTable).put(l,s);c.onerror=function(e){console.log("error storing data"),console.error(e)},u.oncomplete=function(){t({storage:"indexeddb",name:n.name,size:n.size,type:n.type,url:o,id:s})}}),r.onerror=(()=>s(this)),r.readAsDataURL(n)})});console.log("This browser doesn't support IndexedDB")},downloadFile(e,n){return new t(e=>{const t=indexedDB.open(n.indexeddb,3);t.onsuccess=function(t){const n=t.target.result;e(n)}}).then(i=>new t((t,r)=>{const s=i.transaction([n.indexeddbTable],"readonly"),o=s.objectStore(n.indexeddbTable).get(e.id);o.onsuccess=(()=>{s.oncomplete=(()=>{const n=o.result,i=new File([o.result.data],e.name,{type:o.result.type}),s=new FileReader;s.onload=(e=>{n.url=e.target.result,t(n)}),s.onerror=(()=>r(this)),s.readAsDataURL(i)})}),o.onerror=(()=>r(this))}))}});return n.title="IndexedDB",n}),e("skylark-formio/providers/storage/index",["./base64","./dropbox","./s3","./azure","./url","./indexeddb"],function(e,t,n,i,r,s){"use strict";return{base64:e,dropbox:t,s3:n,url:r,azure:i,indexeddb:s}}),e("skylark-formio/providers/Providers",["skylark-lodash","./address/index","./auth/index","./storage/index"],function(e,t,n,i){"use strict";return class{static addProvider(e,t,n){Providers.providers[e]=Providers.providers[e]||{},Providers.providers[e][t]=n}static addProviders(t,n){Providers.providers[t]=e.merge(Providers.providers[t],n)}static getProvider(e,t){if(Providers.providers[e]&&Providers.providers[e][t])return Providers.providers[e][t]}static getProviders(e){if(Providers.providers[e])return Providers.providers[e]}}}),e("skylark-formio/providers/index",["./Providers"],function(e){"use strict";return e}),e("skylark-formio/vendors/jwt-decode/atob",[],function(){return window.atob}),e("skylark-formio/vendors/jwt-decode/base64_url_decode",["./atob"],function(e){return function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(e(t).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(n)}catch(t){return e(n)}}}),e("skylark-formio/vendors/jwt-decode/decode",["./base64_url_decode"],function(e){"use strict";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidTokenError",function(n,i){if("string"!=typeof n)throw new t("Invalid token specified");var r=!0===(i=i||{}).header?0:1;try{return JSON.parse(e(n.split(".")[r]))}catch(e){throw new t("Invalid token specified: "+e.message)}}}),e("skylark-formio/polyfills/custom-event-polyfill",[],function(){try{var e=new window.CustomEvent("test");if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,i;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}),e("skylark-formio/polyfills/ElementPolyfill",[],function(){"undefined"!=typeof window&&void 0!==window.document&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})),function(e,t){var n,i,r;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(n=Object.defineProperty,i=Object.prototype.hasOwnProperty.call(Object.prototype,"__defineGetter__"),r="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,s){if(n&&(e===window||e===document||e===Element.prototype||e instanceof Element))return n(e,t,s);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(s instanceof Object))throw new TypeError("Property description must be an object");var o=String(t),a="value"in s||"writable"in s,l="get"in s&&typeof s.get,u="set"in s&&typeof s.set;if(l){if("function"!==l)throw new TypeError("Getter must be a function");if(!i)throw new TypeError("Getters & setters cannot be defined on this javascript engine");if(a)throw new TypeError(r);Object.__defineGetter__.call(e,o,s.get)}else e[o]=s.value;if(u){if("function"!==u)throw new TypeError("Setter must be a function");if(!i)throw new TypeError("Getters & setters cannot be defined on this javascript engine");if(a)throw new TypeError(r);Object.__defineSetter__.call(e,o,s.set)}return"value"in s&&(e[o]=s.value),e});var s,o=function(){var e=!0,t=function(t,n,i,r){Object.defineProperty?Object.defineProperty(t,n,{configurable:!1===e||!!r,get:i}):t.__defineGetter__(n,i)};try{t({},"support")}catch(t){e=!1}return function(e,n){var i=this,r=[],s={},o=0,a=0,l=function(e){t(i,e,function(){return c(),r[e]},!1)},u=function(){if(o>=a)for(;a<o;++a)l(a)},c=function(){var t,i,a=arguments,l=/\s+/;if(a.length)for(i=0;i<a.length;++i)if(l.test(a[i]))throw(t=new SyntaxError('String "'+a[i]+'" contains an invalid character')).code=5,t.name="InvalidCharacterError",t;for(""===(r="object"==typeof e[n]?(""+e[n].baseVal).replace(/^\s+|\s+$/g,"").split(l):(""+e[n]).replace(/^\s+|\s+$/g,"").split(l))[0]&&(r=[]),s={},i=0;i<r.length;++i)s[r[i]]=!0;o=r.length,u()};return c(),t(i,"length",function(){return c(),o}),i.toLocaleString=i.toString=function(){return c(),r.join(" ")},i.item=function(e){return c(),r[e]},i.contains=function(e){return c(),!!s[e]},i.add=function(){c.apply(i,t=arguments);for(var t,a,l=0,h=t.length;l<h;++l)a=t[l],s[a]||(r.push(a),s[a]=!0);o!==r.length&&(o=r.length>>>0,"object"==typeof e[n]?e[n].baseVal=r.join(" "):e[n]=r.join(" "),u())},i.remove=function(){c.apply(i,t=arguments);for(var t,a={},l=0,h=[];l<t.length;++l)a[t[l]]=!0,delete s[t[l]];for(l=0;l<r.length;++l)a[r[l]]||h.push(r[l]);r=h,o=h.length>>>0,"object"==typeof e[n]?e[n].baseVal=r.join(" "):e[n]=r.join(" "),u()},i.toggle=function(e,t){return c.apply(i,[e]),void 0!==t?t?(i.add(e),!0):(i.remove(e),!1):s[e]?(i.remove(e),!1):(i.add(e),!0)},i}}();"DOMTokenList"in e&&!("classList"in(s=document.createElement("x"))&&(s.classList.toggle("x",!1)||s.className))||function(e){var t,n="DOMTokenList"in e&&e.DOMTokenList;n&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(e.DOMTokenList=o),"classList"in(t=document.createElement("span"))&&(t.classList.toggle("x",!1),t.classList.contains("x")&&(t.classList.constructor.prototype.toggle=function(e){var t=arguments[1];if(void 0===t){var n=!this.contains(e);return this[n?"add":"remove"](e),n}return this[(t=!!t)?"add":"remove"](e),t})),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a","b"),!e.classList.contains("b"))){var t=e.classList.constructor.prototype.add;e.classList.constructor.prototype.add=function(){for(var e=arguments,n=arguments.length,i=0;i<n;i++)t.call(this,e[i])}}}(),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a"),e.classList.add("b"),e.classList.remove("a","b"),e.classList.contains("b"))){var t=e.classList.constructor.prototype.remove;e.classList.constructor.prototype.remove=function(){for(var e=arguments,n=arguments.length,i=0;i<n;i++)t.call(this,e[i])}}}()}(e)}("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{})}),e("skylark-formio/polyfills/index",["./custom-event-polyfill","./ElementPolyfill"],function(){"use strict"}),e("skylark-formio/Formio",["./vendors/getify/npo","./vendors/fetch-ponyfill/fetch","./EventEmitter","./vendors/browser-cookies/cookies","./providers/index","skylark-lodash","./utils/utils","./vendors/jwt-decode/decode","./polyfills/index"],function(e,t,n,i,r,s,o,a){"use strict";const l=s.intersection,u=s.get,c=s.cloneDeep,h=s.defaults,{fetch:d,Headers:p}=t({Promise:e}),f=e=>typeof e==typeof!0,m=e=>null===e||void 0===e,g=e=>e&&"object"==typeof e;function y(e){const t=c(e);return Array.isArray(e)&&(t.skip=e.skip,t.limit=e.limit,t.serverCount=e.serverCount),t}class v{constructor(e,t={}){if(!(this instanceof v))return new v(e);if(this.base="",this.projectsUrl="",this.projectUrl="",this.projectId="",this.roleUrl="",this.rolesUrl="",this.roleId="",this.formUrl="",this.formsUrl="",this.formId="",this.submissionsUrl="",this.submissionUrl="",this.submissionId="",this.actionsUrl="",this.actionId="",this.actionUrl="",this.vsUrl="",this.vId="",this.vUrl="",this.query="",this.path=e,this.options=t,t.hasOwnProperty("base")?this.base=t.base:v.baseUrl?this.base=v.baseUrl:this.base=window.location.href.match(/http[s]?:\/\/api./)[0],!e)return this.projectUrl=v.projectUrl||`${this.base}/project`,this.projectsUrl=`${this.base}/project`,this.projectId=!1,void(this.query="");t.hasOwnProperty("project")&&(this.projectUrl=t.project);const n=this.projectUrl||v.projectUrl,i=/(^|\/)(project)($|\/[^/]+)/,r=-1!==e.search(i);n&&this.base===n&&!r&&(this.noProject=!0,this.projectUrl=this.base),0!==e.indexOf("http")&&0!==e.indexOf("//")&&(e=this.base+e);const s=this.getUrlParts(e);let o=[];const a=s[1]+s[2],l=(e=s.length>3?s[3]:"").split("?");l.length>1&&(e=l[0],this.query=`?${l[1]}`);const u=(t,n)=>{this[`${t}sUrl`]=`${n}/${t}`;const i=new RegExp(`/${t}/([^/]+)`);return-1!==e.search(i)&&(o=e.match(i),this[`${t}Url`]=o?n+o[0]:"",this[`${t}Id`]=o.length>1?o[1]:"",n+=o[0]),n},c=(e,t,n)=>{for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];if(Array.isArray(r))c(r,t,!0);else{const e=u(r,t);t=n?t:e}}};if(this.projectUrl&&this.projectUrl!==this.base||(this.projectUrl=a),!this.noProject){if(r)c(["project"],a),e=e.replace(i,"");else if(a===this.base){if(s.length>3&&e.split("/").length>1){const t=e.split("/");t.shift(),this.projectId=t.shift(),e=`/${t.join("/")}`,this.projectUrl=`${a}/${this.projectId}`}}else s.length>2&&(s[2].split(".").length>2||a.includes("localhost"))&&(this.projectUrl=a,this.projectId=s[2].split(".")[0]);this.projectsUrl=this.projectsUrl||`${this.base}/project`}if(c(["role"],this.projectUrl),/(^|\/)(form)($|\/)/.test(e))c(["form",["submission","action","v"]],this.projectUrl);else{const t=new RegExp("/(submission|action|v)($|/.*)"),n=e.match(t);this.pathType=n&&n.length>1?n[1]:"",e=(e=e.replace(t,"")).replace(/\/$/,""),this.formsUrl=`${this.projectUrl}/form`,this.formUrl=e?this.projectUrl+e:"",this.formId=e.replace(/^\/+|\/+$/g,"");const i=["submission","action","v"];for(const t in i)if(i.hasOwnProperty(t)){const r=i[t];this[`${r}sUrl`]=`${this.projectUrl+e}/${r}`,this.pathType===r&&n.length>2&&n[2]&&(this[`${r}Id`]=n[2].replace(/^\/+|\/+$/g,""),this[`${r}Url`]=this.projectUrl+e+n[0])}}v.projectUrlSet||(v.projectUrl=this.projectUrl)}delete(t,n){const i=`${t}Id`,r=`${t}Url`;return this[i]||e.reject("Nothing to delete"),v.cache={},this.makeRequest(t,this[r],"delete",null,n)}index(e,t,n){const i=`${e}Url`;return(t=t||"")&&g(t)&&(t=`?${v.serialize(t.params)}`),this.makeRequest(e,this[i]+t,"get",null,n)}save(e,t,n){const i=`${e}Id`,r=`${e}Url`,s=this[i]||t._id?"put":"post";let o=this[i]?this[r]:this[`${e}sUrl`];return this[i]||!t._id||"put"!==s||o.includes(t._id)||(o+=`/${t._id}`),v.cache={},this.makeRequest(e,o+this.query,s,t,n)}load(t,n,i){const r=`${t}Id`,s=`${t}Url`;return n&&g(n)&&(n=v.serialize(n.params)),n=n?this.query?`${this.query}&${n}`:`?${n}`:this.query,this[r]?this.makeRequest(t,this[s]+n,"get",null,i):e.reject(`Missing ${r}`)}makeRequest(...e){return v.makeRequest(this,...e)}loadProject(e,t){return this.load("project",e,t)}saveProject(e,t){return this.save("project",e,t)}deleteProject(e){return this.delete("project",e)}static loadProjects(e,t){return g(e=e||"")&&(e=`?${v.serialize(e.params)}`),v.makeStaticRequest(`${v.baseUrl}/project${e}`,"GET",null,t)}loadRole(e){return this.load("role",null,e)}saveRole(e,t){return this.save("role",e,t)}deleteRole(e){return this.delete("role",e)}loadRoles(e){return this.index("roles",null,e)}loadForm(e,t){return this.load("form",e,t).then(n=>!n.revisions||isNaN(parseInt(this.vId))?n:"current"===n.revisions&&this.submissionId?n:(e&&g(e)&&(e=v.serialize(e.params)),e=e?this.query?`${this.query}&${e}`:`?${e}`:this.query,this.makeRequest("form",this.vUrl+e,"get",null,t).then(e=>(n.components=e.components,n.settings=e.settings,Object.assign({},n))).catch(()=>Object.assign({},n))))}saveForm(e,t){return this.save("form",e,t)}deleteForm(e){return this.delete("form",e)}loadForms(e,t){return this.index("forms",e,t)}loadSubmission(e,t){return this.load("submission",e,t).then(e=>(this.vId=e._fvid,this.vUrl=`${this.formUrl}/v/${this.vId}`,e))}saveSubmission(e,t){return isNaN(parseInt(this.vId))||(e._fvid=this.vId),this.save("submission",e,t)}deleteSubmission(e){return this.delete("submission",e)}loadSubmissions(e,t){return this.index("submissions",e,t)}loadAction(e,t){return this.load("action",e,t)}saveAction(e,t){return this.save("action",e,t)}deleteAction(e){return this.delete("action",e)}loadActions(e,t){return this.index("actions",e,t)}availableActions(){return this.makeRequest("availableActions",`${this.formUrl}/actions`)}actionInfo(e){return this.makeRequest("actionInfo",`${this.formUrl}/actions/${e}`)}isObjectId(e){const t=new RegExp("^[0-9a-fA-F]{24}$");return t.test(e)}getProjectId(){return this.projectId?this.isObjectId(this.projectId)?e.resolve(this.projectId):this.loadProject().then(e=>e._id):e.resolve("")}getFormId(){return this.formId?this.isObjectId(this.formId)?e.resolve(this.formId):this.loadForm().then(e=>e._id):e.resolve("")}currentUser(e){return v.currentUser(this,e)}accessInfo(){return v.accessInfo(this)}getToken(e){return v.getToken(Object.assign({formio:this},this.options,e))}setToken(e,t){return v.setToken(e,Object.assign({formio:this},this.options,t))}getTempToken(t,n,i){const r=v.getToken(i);if(!r)return e.reject("You must be authenticated to generate a temporary auth token.");const s=v.authUrl||this.projectUrl;return this.makeRequest("tempToken",`${s}/token`,"GET",null,{ignoreCache:!0,header:new p({"x-expire":t,"x-allow":n})})}getDownloadUrl(t){if(!this.submissionId)return e.resolve("");if(!t)return this.loadForm().then(e=>e?this.getDownloadUrl(e):"");let n=`/project/${t.project}`;n+=`/form/${t._id}`,n+=`/submission/${this.submissionId}`,n+="/download";let i=this.base+n;return new e((e,t)=>{this.getTempToken(3600,`GET:${n}`).then(t=>{i+=`?token=${t.key}`,e(i)},()=>{e(i)}).catch(t)})}uploadFile(e,t,n,i,s,o,a,l){const u={provider:e,method:"upload",file:t,fileName:n,dir:i};l=l||"file";const c=v.pluginWait("preRequest",u).then(()=>v.pluginGet("fileRequest",u).then(u=>{if(e&&m(u)){const u=r.getProvider("storage",e);if(u){const e=new u(this);return e.uploadFile(t,n,i,s,o,a,l)}throw"Storage provider not found"}return u||{url:""}}));return v.pluginAlter("wrapFileRequestPromise",c,u)}downloadFile(e,t){const n={method:"download",file:e},i=v.pluginWait("preRequest",n).then(()=>v.pluginGet("fileRequest",n).then(n=>{if(e.storage&&m(n)){const n=r.getProvider("storage",e.storage);if(n){const i=new n(this);return i.downloadFile(e,t)}throw"Storage provider not found"}return n||{url:""}}));return v.pluginAlter("wrapFileRequestPromise",i,n)}userPermissions(t,n,i){return e.all([void 0!==n?e.resolve(n):this.loadForm(),void 0!==t?e.resolve(t):this.currentUser(),void 0===i&&this.submissionId?this.loadSubmission():e.resolve(i),this.accessInfo()]).then(e=>{const t=e.shift(),n=e.shift()||{_id:!1,roles:[]},i=e.shift(),r=e.shift(),s={create:"create",read:"read",update:"edit",delete:"delete"},a={user:n,form:t,access:r,create:!1,read:!1,edit:!1,delete:!1};for(const e in r.roles)if(r.roles.hasOwnProperty(e)){const t=r.roles[e];if(t.default&&!1===n._id)n.roles.push(t._id);else if(t.admin&&-1!==n.roles.indexOf(t._id))return a.create=!0,a.read=!0,a.delete=!0,a.edit=!0,a}if(t&&t.submissionAccess)for(let e=0;e<t.submissionAccess.length;e++){const r=t.submissionAccess[e],[o,u]=r.type.split("_");["create","read","update","delete"].includes(o)&&l(r.roles,n.roles).length&&(a[s[o]]="all"===u||!i||n._id===i.owner)}return i&&o.eachComponent(t.components,(e,t)=>{if(e&&e.defaultPermission){const r=u(i.data,t),o=Array.isArray(r)?r:[r];o.forEach(t=>{t&&t._id&&n.roles.indexOf(t._id)>-1&&("read"===e.defaultPermission&&(a[s.read]=!0),"create"===e.defaultPermission&&(a[s.create]=!0,a[s.read]=!0),"write"===e.defaultPermission&&(a[s.create]=!0,a[s.read]=!0,a[s.update]=!0),"admin"===e.defaultPermission&&(a[s.create]=!0,a[s.read]=!0,a[s.update]=!0,a[s.delete]=!0))})}}),a})}canSubmit(){return this.userPermissions().then(e=>!e.create&&v.getUser()?this.userPermissions(null).then(e=>!!e.create&&(v.setUser(null),!0)):e.create)}getUrlParts(e){return v.getUrlParts(e,this)}static getUrlParts(e,t){const n=t&&t.base?t.base:v.baseUrl;let i="^(http[s]?:\\/\\/)";return n&&0===e.indexOf(n)?i+=`(${n.replace(/^http[s]?:\/\//,"")})`:i+="([^/]+)",i+="($|\\/.*)",e.match(new RegExp(i))}static serialize(e,t){const n=[];for(const r in e)e.hasOwnProperty(r)&&n.push(`${encodeURIComponent(r)}=${encodeURIComponent((i=e[r],t?t(i):i))}`);var i;return n.join("&")}static getRequestArgs(e,t,n,i,r,s){i=(i||"GET").toUpperCase(),s&&g(s)||(s={});const o={url:n,method:i,data:r||null,opts:s};return t&&(o.type=t),e&&(o.formio=e),o}static makeStaticRequest(e,t,n,i){const r=v.getRequestArgs(null,"",e,t,n,i),s=v.pluginWait("preRequest",r).then(()=>v.pluginGet("staticRequest",r).then(n=>m(n)?v.request(e,t,r.data,r.opts.header,r.opts):n));return v.pluginAlter("wrapStaticRequestPromise",s,r)}static makeRequest(e,t,n,i,r,s){if(!e)return v.makeStaticRequest(n,i,r,s);const o=v.getRequestArgs(e,t,n,i,r,s);o.opts=o.opts||{},o.opts.formio=e,o.opts.headers||(o.opts.headers={}),o.opts.headers=h(o.opts.headers,{Accept:"application/json","Content-type":"application/json"});const a=v.pluginWait("preRequest",o).then(()=>v.pluginGet("request",o).then(e=>m(e)?v.request(n,i,o.data,o.opts.header,o.opts):e));return v.pluginAlter("wrapRequestPromise",a,o)}static request(t,n,i,r,s){if(!t)return e.reject("No url provided");n=(n||"GET").toUpperCase(),f(s)&&(s={ignoreCache:s}),s&&g(s)||(s={});const o=btoa(t);if(!s.ignoreCache&&"GET"===n&&v.cache.hasOwnProperty(o))return e.resolve(y(v.cache[o]));const a=r||new p(s.headers||{Accept:"application/json","Content-type":"application/json"}),l=v.getToken(s);l&&!s.noToken&&a.append("x-jwt-token",l);const u={};a.forEach(function(e,t){u[t]=e});let c={method:n,headers:u,mode:"cors"};i&&(c.body=JSON.stringify(i)),((c=v.pluginAlter("requestOptions",c,t)).namespace||v.namespace)&&(s.namespace=c.namespace||v.namespace);const h=c.headers["x-jwt-token"],d=v.pluginAlter("wrapFetchRequestPromise",v.fetch(t,c),{url:t,method:n,data:i,opts:s}).then(r=>{if(!(r=v.pluginAlter("requestResponse",r,v,i)).ok)return 440===r.status?(v.setToken(null,s),v.events.emit("formio.sessionExpired",r.body)):401===r.status&&v.events.emit("formio.unauthorized",r.body),(r.headers.get("content-type").includes("application/json")?r.json():r.text()).then(t=>e.reject(t));const o=r.headers.get("x-jwt-token");let a=!1;if("GET"!==n||h||!o||s.external||t.includes("token=")||t.includes("x-jwt-token=")||(console.warn("Token was introduced in request."),a=!0),r.status>=200&&r.status<300&&o&&""!==o&&!a&&v.setToken(o,s),204===r.status)return{};const l=r.headers.get("content-type").includes("application/json")?r.json():r.text();return l.then(e=>{let t=r.headers.get("content-range");if(t&&g(e)){if("*"!==(t=t.split("/"))[0]){const n=t[0].split("-");e.skip=Number(n[0]),e.limit=n[1]-n[0]+1}e.serverCount="*"===t[1]?t[1]:Number(t[1])}if(!s.getHeaders)return e;const n={};return r.headers.forEach((e,t)=>{n[t]=e}),{result:e,headers:n}})}).then(e=>s.getHeaders?e:("GET"===n&&(v.cache[o]=e),y(e))).catch(t=>("Bad Token"===t&&(v.setToken(null,s),v.events.emit("formio.badToken",t)),t.message&&(t.message=`Could not connect to API server (${t.message})`,t.networkError=!0),"GET"===n&&delete v.cache[o],e.reject(t)));return d}static get token(){return v.tokens||(v.tokens={}),v.tokens.formioToken?v.tokens.formioToken:""}static set token(e){return v.tokens||(v.tokens={}),v.tokens.formioToken=e||""}static setToken(e="",t){e=e||"";var n=`${(t="string"==typeof t?{namespace:t}:t||{}).namespace||v.namespace||"formio"}Token`;if(v.tokens||(v.tokens={}),!v.tokens[n]||v.tokens[n]!==e){if(v.tokens[n]=e,!e){t.fromUser||(t.fromToken=!0,v.setUser(null,t));try{return localStorage.removeItem(n)}catch(e){return i.erase(n,{path:"/"})}}try{localStorage.setItem(n,e)}catch(t){i.set(n,e,{path:"/"})}return v.currentUser(t.formio,t)}}static getToken(e){const t=`${(e="string"==typeof e?{namespace:e}:e||{}).namespace||v.namespace||"formio"}Token`,n=e.decode?`${t}Decoded`:t;if(v.tokens||(v.tokens={}),v.tokens[n])return v.tokens[n];try{return v.tokens[t]=localStorage.getItem(t)||"",e.decode?(v.tokens[n]=v.tokens[t]?a(v.tokens[t]):{},v.tokens[n]):v.tokens[t]}catch(e){return v.tokens[t]=i.get(t),v.tokens[t]}}static setUser(e,t={}){var n=`${t.namespace||v.namespace||"formio"}User`;if(!e){t.fromToken||(t.fromUser=!0,v.setToken(null,t)),v.events.emit("formio.user",null);try{return localStorage.removeItem(n)}catch(e){return i.erase(n,{path:"/"})}}try{localStorage.setItem(n,JSON.stringify(e))}catch(t){i.set(n,JSON.stringify(e),{path:"/"})}v.events.emit("formio.user",e)}static getUser(e){var t=`${(e=e||{}).namespace||v.namespace||"formio"}User`;try{return JSON.parse(localStorage.getItem(t)||null)}catch(e){return JSON.parse(i.get(t))}}static setBaseUrl(e){v.baseUrl=e,v.projectUrlSet||(v.projectUrl=e)}static getBaseUrl(){return v.baseUrl}static setApiUrl(e){return v.setBaseUrl(e)}static getApiUrl(){return v.getBaseUrl()}static setAppUrl(e){console.warn("Formio.setAppUrl() is deprecated. Use Formio.setProjectUrl instead."),v.projectUrl=e,v.projectUrlSet=!0}static setProjectUrl(e){v.projectUrl=e,v.projectUrlSet=!0}static setAuthUrl(e){v.authUrl=e}static getAppUrl(){return console.warn("Formio.getAppUrl() is deprecated. Use Formio.getProjectUrl instead."),v.projectUrl}static getProjectUrl(){return v.projectUrl}static clearCache(){v.cache={}}static noop(){}static identity(e){return e}static deregisterPlugin(e){const t=v.plugins.length;return v.plugins=v.plugins.filter(t=>t!==e&&t.__name!==e||((t.deregister||v.noop).call(e,v),!1)),t!==v.plugins.length}static registerPlugin(e,t){v.plugins.push(e),v.plugins.sort((e,t)=>(t.priority||0)-(e.priority||0)),e.__name=t,(e.init||v.noop).call(e,v)}static getPlugin(e){for(const t of v.plugins)if(t.__name===e)return t;return null}static pluginWait(t,...n){return e.all(v.plugins.map(e=>(e[t]||v.noop).call(e,...n)))}static pluginGet(t,...n){const i=r=>{const s=v.plugins[r];return s?e.resolve((s[t]||v.noop).call(s,...n)).then(e=>m(e)?i(r+1):e):e.resolve(null)};return i(0)}static pluginAlter(e,t,...n){return v.plugins.reduce((t,i)=>(i[e]||v.identity)(t,...n),t)}static accessInfo(e){const t=e?e.projectUrl:v.projectUrl;return v.makeRequest(e,"accessInfo",`${t}/access`)}static projectRoles(e){const t=e?e.projectUrl:v.projectUrl;return v.makeRequest(e,"projectRoles",`${t}/role`)}static currentUser(t,n){let i=v.authUrl;i||(i=t?t.projectUrl:v.projectUrl||v.baseUrl),i+="/current";const r=v.getUser(n);if(r)return v.pluginAlter("wrapStaticRequestPromise",e.resolve(r),{url:i,method:"GET",options:n});const s=v.getToken(n);return n&&n.external||s?v.makeRequest(t,"currentUser",i,"GET",null,n).then(e=>(v.setUser(e,n),e)):v.pluginAlter("wrapStaticRequestPromise",e.resolve(null),{url:i,method:"GET",options:n})}static logout(e,t){(t=t||{}).formio=e,v.setToken(null,t),v.setUser(null,t),v.clearCache();const n=v.authUrl?v.authUrl:e?e.projectUrl:v.baseUrl;return v.makeRequest(e,"logout",`${n}/logout`)}static pageQuery(){if(v._pageQuery)return v._pageQuery;v._pageQuery={},v._pageQuery.paths=[];const e=location.hash.substr(1).replace(/\?/g,"&").split("&");let t=[];return location.search.substr(1).split("&").forEach(function(e){(t=e.split("=")).length>1&&(v._pageQuery[t[0]]=t[1]&&decodeURIComponent(t[1]))}),e.forEach(function(e){(t=e.split("=")).length>1?v._pageQuery[t[0]]=t[1]&&decodeURIComponent(t[1]):0===e.indexOf("/")&&(v._pageQuery.paths=e.substr(1).split("/"))}),v._pageQuery}static oAuthCurrentUser(e,t){return v.currentUser(e,{external:!0,headers:{Authorization:`Bearer ${t}`}})}static samlInit(e){e=e||{};const t=v.pageQuery();if(t.saml){v.setUser(null);const e=v.setToken(t.saml);let n=window.location.toString();return n=n.substring(0,n.indexOf("?")),window.location.hash&&(n+=window.location.hash),window.history.replaceState({},document.title,n),e}e.relay||(e.relay=window.location.href);const n=v.authUrl||v.projectUrl;return window.location.href=`${n}/saml/sso?relay=${encodeURI(e.relay)}`,!1}static oktaInit(t){if(t=t||{},void 0!==typeof OktaAuth&&(t.OktaAuth=OktaAuth),void 0===typeof t.OktaAuth){const t="Cannot find OktaAuth. Please include the Okta JavaScript SDK within your application. See https://developer.okta.com/code/javascript/okta_auth_sdk for an example.";return console.warn(t),e.reject(t)}return new e((e,n)=>{const i=t.OktaAuth;delete t.OktaAuth;var r=new i(t);r.tokenManager.get("accessToken").then(i=>{i?e(v.oAuthCurrentUser(t.formio,i.accessToken)):location.hash?r.token.parseFromUrl().then(n=>{r.tokenManager.add("accessToken",n),e(v.oAuthCurrentUser(t.formio,n.accessToken))}).catch(e=>{console.warn(e),n(e)}):(r.token.getWithRedirect({responseType:"token",scopes:t.scopes}),e(!1))}).catch(e=>{n(e)})})}static ssoInit(t,n){switch(t){case"saml":return v.samlInit(n);case"okta":return v.oktaInit(n);default:return console.warn("Unknown SSO type"),e.reject("Unknown SSO type")}}static requireLibrary(t,n,i,r){if(!v.libraries.hasOwnProperty(t)){v.libraries[t]={},v.libraries[t].ready=new e((e,n)=>{v.libraries[t].resolve=e,v.libraries[t].reject=n});const s=`${t}Callback`;r||window[s]||(window[s]=(()=>v.libraries[t].resolve()));const o=u(window,n);if(o)v.libraries[t].resolve(o);else if((i=Array.isArray(i)?i:[i]).forEach(e=>{let t={},n="";switch("string"==typeof e&&(e={type:"script",src:e}),e.type){case"script":n="script",t={src:e.src,type:"text/javascript",defer:!0,async:!0,referrerpolicy:"origin"};break;case"styles":n="link",t={href:e.src,rel:"stylesheet"}}const i=document.createElement(n);if(i.setAttribute)for(const e in t)i.setAttribute(e,t[e]);const{head:r}=document;r&&r.appendChild(i)}),r){const e=setInterval(()=>{const i=u(window,n);i&&(clearInterval(e),v.libraries[t].resolve(i))},200)}}return v.libraries[t].ready}static libraryReady(t){return v.libraries.hasOwnProperty(t)&&v.libraries[t].ready?v.libraries[t].ready:e.reject(`${t} library was not required.`)}}return v.libraries={},v.Promise=e,v.fetch=d,v.Headers=p,v.baseUrl="https://api.form.io",v.projectUrl=v.baseUrl,v.authUrl="",v.projectUrlSet=!1,v.plugins=[],v.cache={},v.Providers=r,v.version="---VERSION---",v.events=new n({wildcard:!1,maxListeners:0}),"object"!=typeof global||global.Formio||(global.Formio=v),"object"!=typeof window||window.Formio||(window.Formio=v),v}),e("skylark-formio/vendors/vanilla-text-mask/constants",[],function(){return{placeholderChar:"_",strFunction:"function"}}),e("skylark-formio/vendors/vanilla-text-mask/utilities",["./constants"],function(e){const t=e.placeholderChar,n=[];function i(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}const r="[]";return{convertMaskToPlaceholder:function(e=n,r=t){if(!i(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(r))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\n"+`The placeholder character that was received is: ${JSON.stringify(r)}\n\n`+`The mask that was received is: ${JSON.stringify(e)}`);return e.map(e=>e instanceof RegExp?r:e).join("")},isArray:i,isString:function(e){return"string"==typeof e||e instanceof String},isNumber:function(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)},isNil:function(e){return void 0===e||null===e},processCaretTraps:function(e){const t=[];let n;for(;-1!==(n=e.indexOf(r));)t.push(n),e.splice(n,1);return{maskWithoutCaretTraps:e,indexes:t}}}}),e("skylark-formio/vendors/vanilla-text-mask/conformToMask",["./utilities","./constants"],function(e,t){const{convertMaskToPlaceholder:n,isArray:i,processCaretTraps:r}=e,{strFunction:s}=t,o=t.placeholderChar,a=[],l="";return function(e=l,t=a,u={}){if(!i(t)){if(typeof t!==s)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,u),t=r(t).maskWithoutCaretTraps}const{guide:c=!0,previousConformedValue:h=l,placeholderChar:d=o,placeholder:p=n(t,d),currentCaretPosition:f,keepCharPositions:m}=u,g=!1===c&&void 0!==h,y=e.length,v=h.length,b=p.length,k=t.length,w=y-v,x=w>0,_=f+(x?-w:0),C=_+Math.abs(w);if(!0===m&&!x){let t=l;for(let e=_;e<C;e++)p[e]===d&&(t+=d);e=e.slice(0,_)+t+e.slice(_,y)}const E=e.split(l).map((e,t)=>({char:e,isNew:t>=_&&t<C}));for(let e=y-1;e>=0;e--){const{char:t}=E[e];if(t!==d){const n=e>=_&&v===k;t===p[n?e-w:e]&&E.splice(e,1)}}let S=l,A=!1;e:for(let e=0;e<b;e++){const n=p[e];if(n===d){if(E.length>0)for(;E.length>0;){const{char:n,isNew:i}=E.shift();if(n===d&&!0!==g){S+=d;continue e}if(t[e].test(n)){if(!0===m&&!1!==i&&h!==l&&!1!==c&&x){const t=E.length;let i=null;for(let e=0;e<t;e++){const t=E[e];if(t.char!==d&&!1===t.isNew)break;if(t.char===d){i=e;break}}null!==i?(S+=n,E.splice(i,1)):e--}else S+=n;continue e}A=!0}!1===g&&(S+=p.substr(e,b));break}S+=n}if(g&&!1===x){let e=null;for(let t=0;t<S.length;t++)p[t]===d&&(e=t);S=null!==e?S.substr(0,e+1):l}return{conformedValue:S,meta:{someCharsRejected:A}}}}),e("skylark-popper/Popper",["skylark-langx/skylark"],function(e){"use strict";for(var t="undefined"!=typeof window&&"undefined"!=typeof document,n=["Edge","Trident","Firefox"],i=0,r=0;r<n.length;r+=1)if(t&&navigator.userAgent.indexOf(n[r])>=0){i=1;break}var s=t&&window.Promise,o=s?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},i))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView,i=n.getComputedStyle(e,null);return t?i[t]:i}function u(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=l(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:c(u(e))}var h=t&&!(!window.MSInputMethodContext||!document.documentMode),d=t&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?h:10===e?d:h||d}function f(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?f(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);var o=s.commonAncestorContainer;if(e!==o&&t!==o||i.contains(r))return function(e){var t=e.nodeName;if("BODY"===t)return!1;return"HTML"===t||f(e.firstElementChild)===e}(o)?o:f(o);var a=m(e);return a.host?g(a.host,t):g(e,m(t).host)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement,s=e.ownerDocument.scrollingElement||r;return s[n]}return e[n]}function v(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function b(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],p(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function k(e){var t=e.body,n=e.documentElement,i=p(10)&&getComputedStyle(n);return{height:b("Height",t,n,i),width:b("Width",t,n,i)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function E(e){return C({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var n=y(e,"top"),i=y(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?k(e.ownerDocument):{},o=s.width||e.clientWidth||r.right-r.left,a=s.height||e.clientHeight||r.bottom-r.top,u=e.offsetWidth-o,c=e.offsetHeight-a;if(u||c){var h=l(e);u-=v(h,"x"),c-=v(h,"y"),r.width-=u,r.height-=c}return E(r)}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(10),r="HTML"===t.nodeName,s=S(e),o=S(t),a=c(e),u=l(t),h=parseFloat(u.borderTopWidth,10),d=parseFloat(u.borderLeftWidth,10);n&&r&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=E({top:s.top-o.top-h,left:s.left-o.left-d,width:s.width,height:s.height});if(f.marginTop=0,f.marginLeft=0,!i&&r){var m=parseFloat(u.marginTop,10),g=parseFloat(u.marginLeft,10);f.top-=h-m,f.bottom-=h-m,f.left-=d-g,f.right-=d-g,f.marginTop=m,f.marginLeft=g}return(i&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=y(t,"top"),r=y(t,"left"),s=n?-1:1;return e.top+=i*s,e.bottom+=i*s,e.left+=r*s,e.right+=r*s,e}(f,t)),f}function M(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===l(t,"transform");)t=t.parentElement;return t||document.documentElement}function T(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},o=r?M(e):g(e,t);if("viewport"===i)s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=A(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:y(n),a=t?0:y(n,"left");return E({top:o-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:s})}(o,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=c(u(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===i?e.ownerDocument.documentElement:i;var h=A(a,o,r);if("HTML"!==a.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===l(t,"position"))return!0;return e(u(t))}(o))s=h;else{var d=k(e.ownerDocument),p=d.height,f=d.width;s.top+=h.top-h.marginTop,s.bottom=p+h.top,s.left+=h.left-h.marginLeft,s.right=f+h.left}}var m="number"==typeof(n=n||0);return s.left+=m?n:n.left||0,s.top+=m?n:n.top||0,s.right-=m?n:n.right||0,s.bottom-=m?n:n.bottom||0,s}function D(e,t,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=T(n,i,s,r),a={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(a).map(function(e){return C({key:e},a[e],{area:(t=a[e],n=t.width,i=t.height,n*i)});var t,n,i}).sort(function(e,t){return t.area-e.area}),u=l.filter(function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,h=e.split("-")[1];return c+(h?"-"+h:"")}function O(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?M(t):g(t,n);return A(n,r,i)}function P(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),i=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),r=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),s={width:e.offsetWidth+r,height:e.offsetHeight+i};return s}function L(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function I(e,t,n){n=n.split("-")[0];var i=P(e),r={width:i.width,height:i.height},s=-1!==["right","left"].indexOf(n),o=s?"top":"left",a=s?"left":"top",l=s?"height":"width",u=s?"width":"height";return r[o]=t[o]+t[l]/2-i[l]/2,r[a]=n===a?t[a]-i[u]:t[L(a)],r}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function F(e,t,n){var i=void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var i=R(e,function(e){return e[t]===n});return e.indexOf(i)}(e,"name",n));return i.forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=E(t.offsets.popper),t.offsets.reference=E(t.offsets.reference),t=n(t,e))}),t}function V(e,t){return e.some(function(e){var n=e.name,i=e.enabled;return i&&n===t})}function N(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],s=r?""+r+n:e;if(void 0!==document.body.style[s])return s}return null}function j(e){var t=e.ownerDocument;return t?t.defaultView:window}function z(e,t,n,i){n.updateBound=i,j(e).addEventListener("resize",n.updateBound,{passive:!0});var r=c(e);return function e(t,n,i,r){var s="BODY"===t.nodeName;var o=s?t.ownerDocument.defaultView:t;o.addEventListener(n,i,{passive:!0});s||e(c(o.parentNode),n,i,r);r.push(o)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function U(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,j(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function $(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function H(e,t){Object.keys(t).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&$(t[n])&&(i="px"),e.style[n]=t[n]+i})}var B=t&&/Firefox/i.test(navigator.userAgent);function q(e,t,n){var i=R(e,function(e){var n=e.name;return n===t}),r=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});if(!r){var s="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return r}var Y=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],W=Y.slice(3);function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=W.indexOf(e),i=W.slice(n+1).concat(W.slice(0,n));return t?i.reverse():i}var G={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function J(e,t,n,i){var r=[0,0],s=-1!==["right","left"].indexOf(i),o=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=o.indexOf(R(o,function(e){return-1!==e.search(/,|\s/)}));o[a]&&-1===o[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[o.slice(0,a).concat([o[a].split(l)[0]]),[o[a].split(l)[1]].concat(o.slice(a+1))]:[o];return(u=u.map(function(e,i){var r=(1===i?!s:s)?"height":"width",o=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+r[1],o=r[2];if(!s)return e;if(0===o.indexOf("%")){var a=void 0;switch(o){case"%p":a=n;break;case"%":case"%r":default:a=i}var l=E(a);return l[t]/100*s}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s}return s}(e,r,t,n)})})).forEach(function(e,t){e.forEach(function(n,i){$(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))})}),r}var Z={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,s=r.reference,o=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",u=a?"width":"height",c={start:_({},l,s[l]),end:_({},l,s[l]+s[u]-o[u])};e.offsets.popper=C({},o,c[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,s=r.popper,o=r.reference,a=i.split("-")[0],l=void 0;l=$(+n)?[+n,0]:J(n,s,o,a);"left"===a?(s.top+=l[0],s.left-=l[1]):"right"===a?(s.top+=l[0],s.left+=l[1]):"top"===a?(s.left+=l[0],s.top-=l[1]):"bottom"===a&&(s.left+=l[0],s.top+=l[1]);return e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||f(e.instance.popper);e.instance.reference===n&&(n=f(n));var i=N("transform"),r=e.instance.popper.style,s=r.top,o=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=T(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=s,r.left=o,r[i]=a,t.boundaries=l;var u=t.priority,c=e.offsets.popper,h={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),_({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),_({},n,i)}};return u.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=C({},c,h[t](e))}),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],s=Math.floor,o=-1!==["top","bottom"].indexOf(r),a=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";n[a]<s(i[l])&&(e.offsets.popper[l]=s(i[l])-n[u]);n[l]>s(i[a])&&(e.offsets.popper[l]=s(i[a]));return e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!q(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],s=e.offsets,o=s.popper,a=s.reference,u=-1!==["left","right"].indexOf(r),c=u?"height":"width",h=u?"Top":"Left",d=h.toLowerCase(),p=u?"left":"top",f=u?"bottom":"right",m=P(i)[c];a[f]-m<o[d]&&(e.offsets.popper[d]-=o[d]-(a[f]-m));a[d]+m>o[f]&&(e.offsets.popper[d]+=a[d]+m-o[f]);e.offsets.popper=E(e.offsets.popper);var g=a[d]+a[c]/2-m/2,y=l(e.instance.popper),v=parseFloat(y["margin"+h],10),b=parseFloat(y["border"+h+"Width"],10),k=g-e.offsets.popper[d]-v-b;return k=Math.max(Math.min(o[c]-m,k),0),e.arrowElement=i,e.offsets.arrow=(_(n={},d,Math.round(k)),_(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(V(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=T(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=L(i),s=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case G.FLIP:o=[i,r];break;case G.CLOCKWISE:o=K(i);break;case G.COUNTERCLOCKWISE:o=K(i,!0);break;default:o=t.behavior}return o.forEach(function(a,l){if(i!==a||o.length===l+1)return e;i=e.placement.split("-")[0],r=L(i);var u=e.offsets.popper,c=e.offsets.reference,h=Math.floor,d="left"===i&&h(u.right)>h(c.left)||"right"===i&&h(u.left)<h(c.right)||"top"===i&&h(u.bottom)>h(c.top)||"bottom"===i&&h(u.top)<h(c.bottom),p=h(u.left)<h(n.left),f=h(u.right)>h(n.right),m=h(u.top)<h(n.top),g=h(u.bottom)>h(n.bottom),y="left"===i&&p||"right"===i&&f||"top"===i&&m||"bottom"===i&&g,v=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(v&&"start"===s&&p||v&&"end"===s&&f||!v&&"start"===s&&m||!v&&"end"===s&&g);(d||y||b)&&(e.flipped=!0,(d||y)&&(i=o[l+1]),b&&(s=function(e){return"end"===e?"start":"start"===e?"end":e}(s)),e.placement=i+(s?"-"+s:""),e.offsets.popper=C({},e.offsets.popper,I(e.instance.popper,e.offsets.reference,e.placement)),e=F(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,s=i.reference,o=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[o?"left":"top"]=s[n]-(a?r[o?"width":"height"]:0),e.placement=L(t),e.offsets.popper=E(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=R(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,s=R(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==s?s:t.gpuAcceleration,a=f(e.instance.popper),l=S(a),u={position:r.position},c=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,s=-1!==["left","right"].indexOf(e.placement),o=-1!==e.placement.indexOf("-"),a=r.width%2==i.width%2,l=r.width%2==1&&i.width%2==1,u=function(e){return e},c=t?s||o||a?Math.round:Math.floor:u,h=t?Math.round:u;return{left:c(l&&!o&&t?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:c(i.right)}}(e,window.devicePixelRatio<2||!B),h="bottom"===n?"top":"bottom",d="right"===i?"left":"right",p=N("transform"),m=void 0,g=void 0;g="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-l.height+c.bottom:c.top;m="right"===d?"HTML"===a.nodeName?-a.clientWidth+c.right:-l.width+c.right:c.left;if(o&&p)u[p]="translate3d("+m+"px, "+g+"px, 0)",u[h]=0,u[d]=0,u.willChange="transform";else{var y="bottom"===h?-1:1,v="right"===d?-1:1;u[h]=g*y,u[d]=m*v,u.willChange=h+", "+d}var b={"x-placement":e.placement};return e.attributes=C({},b,e.attributes),e.styles=C({},u,e.styles),e.arrowStyles=C({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){H(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){var i=n[e];!1!==i?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&H(e.arrowElement,e.arrowStyles);var t,n;return e},onLoad:function(e,t,n,i,r){var s=O(r,t,e,n.positionFixed),o=D(n.placement,s,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),H(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},X={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Z},Q=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=o(this.update.bind(this)),this.options=C({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(C({},e.Defaults.modifiers,r.modifiers)).forEach(function(t){i.options.modifiers[t]=C({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return C({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&a(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return x(e,[{key:"update",value:function(){return function(){if(this.state.isDestroyed)return;var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=O(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=D(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=I(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=F(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}.call(this)}},{key:"destroy",value:function(){return function(){this.state.isDestroyed=!0,V(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[N("transform")]="");this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),e}();return Q.Utils=("undefined"!=typeof window?window:global).PopperUtils,Q.placements=Y,Q.Defaults=X,e.ui=e.ui||{},e.ui.Popper=Q}),e("skylark-popper/main",["./Popper"],function(e){return e}),e("skylark-popper",["skylark-popper/main"],function(e){return e}),e("skylark-formio/vendors/tooltip-js/Tooltip",["skylark-popper"],function(e){var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};const n={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0,arrowSelector:".tooltip-arrow, .tooltip__arrow",innerSelector:".tooltip-inner, .tooltip__inner"};var i=function(){this.show=(()=>this._show(this.reference,this.options)),this.hide=(()=>this._hide()),this.dispose=(()=>this._dispose()),this.toggle=(()=>this._isOpen?this.hide():this.show()),this.updateTitleContent=(e=>this._updateTitleContent(e)),this._events=[],this._setTooltipNodeEvent=((e,t,n,i)=>{const r=e.relatedreference||e.toElement||e.relatedTarget,s=n=>{const r=n.relatedreference||n.toElement||n.relatedTarget;this._tooltipNode.removeEventListener(e.type,s),t.contains(r)||this._scheduleHide(t,i.delay,i,n)};return!!this._tooltipNode.contains(r)&&(this._tooltipNode.addEventListener(e.type,s),!0)})};return class{constructor(e,r){i.call(this),r=t({},n,r),e.jquery&&(e=e[0]),this.reference=e,this.options=r;const s="string"==typeof r.trigger?r.trigger.split(" ").filter(e=>-1!==["click","hover","focus"].indexOf(e)):[];this._isOpen=!1,this._popperOptions={},this._setEventListeners(e,s,r)}_create(e,t,n,i){const r=window.document.createElement("div");r.innerHTML=t.trim();const s=r.childNodes[0];s.id=`tooltip_${Math.random().toString(36).substr(2,10)}`,s.setAttribute("aria-hidden","false");const o=r.querySelector(this.options.innerSelector);return this._addTitleContent(e,n,i,o),s}_addTitleContent(e,t,n,i){if(1===t.nodeType||11===t.nodeType)n&&i.appendChild(t);else if((r=t)&&"[object Function]"==={}.toString.call(r)){const r=t.call(e);n?i.innerHTML=r:i.textContent=r}else n?i.innerHTML=t:i.textContent=t;var r}_show(n,i){if(this._isOpen&&!this._isOpening)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.visibility="visible",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;const r=n.getAttribute("title")||i.title;if(!r)return this;const s=this._create(n,i.template,r,i.html);n.setAttribute("aria-describedby",s.id);const o=this._findContainer(i.container,n);return this._append(s,o),this._popperOptions=t({},i.popperOptions,{placement:i.placement}),this._popperOptions.modifiers=t({},this._popperOptions.modifiers,{arrow:{element:this.options.arrowSelector},offset:{offset:i.offset}}),i.boundariesElement&&(this._popperOptions.modifiers.preventOverflow={boundariesElement:i.boundariesElement}),this.popperInstance=new e(n,s,this._popperOptions),this._tooltipNode=s,this}_hide(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.visibility="hidden",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}_dispose(){return this._events.forEach(({func:e,event:t})=>{this.reference.removeEventListener(t,e)}),this._events=[],this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||(this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null)),this}_findContainer(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}_append(e,t){t.appendChild(e)}_setEventListeners(e,t,n){const i=[],r=[];t.forEach(e=>{switch(e){case"hover":i.push("mouseenter"),r.push("mouseleave");break;case"focus":i.push("focus"),r.push("blur");break;case"click":i.push("click"),r.push("click")}}),i.forEach(t=>{const i=t=>{!0!==this._isOpening&&(t.usedByTooltip=!0,this._scheduleShow(e,n.delay,n,t))};this._events.push({event:t,func:i}),e.addEventListener(t,i)}),r.forEach(t=>{const i=t=>{!0!==t.usedByTooltip&&this._scheduleHide(e,n.delay,n,t)};this._events.push({event:t,func:i}),e.addEventListener(t,i),"click"===t&&n.closeOnClickOutside&&document.addEventListener("mousedown",t=>{if(!this._isOpening)return;const n=this.popperInstance.popper;e.contains(t.target)||n.contains(t.target)||i(t)},!0)})}_scheduleShow(e,t,n){this._isOpening=!0;const i=t&&t.show||t||0;this._showTimeout=window.setTimeout(()=>this._show(e,n),i)}_scheduleHide(e,t,n,i){this._isOpening=!1;const r=t&&t.hide||t||0;window.setTimeout(()=>{if(window.clearTimeout(this._showTimeout),!1!==this._isOpen&&document.body.contains(this._tooltipNode)){if("mouseleave"===i.type){const r=this._setTooltipNodeEvent(i,e,t,n);if(r)return}this._hide(e,n)}},r)}_updateTitleContent(e){if(void 0===this._tooltipNode)return void(void 0!==this.options.title&&(this.options.title=e));const t=this._tooltipNode.parentNode.querySelector(this.options.innerSelector);this._clearTitleContent(t,this.options.html,this.reference.getAttribute("title")||this.options.title),this._addTitleContent(this.reference,e,this.options.html,t),this.options.title=e,this.popperInstance.update()}_clearTitleContent(e,t,n){1===n.nodeType||11===n.nodeType?t&&e.removeChild(n):t?e.innerHTML="":e.textContent=""}}}),e("skylark-formio/vendors/ismobilejs/isMobile",[],function(){var e=/iPhone/i,t=/iPod/i,n=/iPad/i,i=/\biOS-universal(?:.+)Mac\b/i,r=/\bAndroid(?:.+)Mobile\b/i,s=/Android/i,o=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,a=/Silk/i,l=/Windows Phone/i,u=/\bWindows(?:.+)ARM\b/i,c=/BlackBerry/i,h=/BB10/i,d=/Opera Mini/i,p=/\b(CriOS|Chrome)(?:.+)Mobile/i,f=/Mobile(?:.+)Firefox\b/i,m=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};return function(g){var y={userAgent:"",platform:"",maxTouchPoints:0};g||"undefined"==typeof navigator?"string"==typeof g?y.userAgent=g:g.userAgent&&(y={userAgent:g.userAgent,platform:g.platform,maxTouchPoints:g.maxTouchPoints||0}):y={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var v=y.userAgent,b=v.split("[FBAN");void 0!==b[1]&&(v=b[0]);void 0!==(b=v.split("Twitter"))[1]&&(v=b[0]);var k=function(e){return function(t){return t.test(e)}}(v),w={apple:{phone:k(e)&&!k(l),ipod:k(t),tablet:!k(e)&&(k(n)||m(y))&&!k(l),universal:k(i),device:(k(e)||k(t)||k(n)||k(i)||m(y))&&!k(l)},amazon:{phone:k(o),tablet:!k(o)&&k(a),device:k(o)||k(a)},android:{phone:!k(l)&&k(o)||!k(l)&&k(r),tablet:!k(l)&&!k(o)&&!k(r)&&(k(a)||k(s)),device:!k(l)&&(k(o)||k(a)||k(r)||k(s))||k(/\bokhttp\b/i)},windows:{phone:k(l),tablet:k(u),device:k(l)||k(u)},other:{blackberry:k(c),blackberry10:k(h),opera:k(d),firefox:k(f),chrome:k(p),device:k(c)||k(h)||k(d)||k(f)||k(p)},any:!1,phone:!1,tablet:!1};return w.any=w.apple.device||w.android.device||w.windows.device||w.other.device,w.phone=w.apple.phone||w.android.phone||w.windows.phone,w.tablet=w.apple.tablet||w.android.tablet||w.windows.tablet,w}}),e("skylark-formio/utils/calendarUtils",["skylark-moment","skylark-lodash"],function(e,t){"use strict";const n={INVALID:"You entered the Invalid Date",INCOMPLETE:"You entered an incomplete date.",greater:(e,t)=>`The entered date is greater than ${e.format(t)}`,less:(e,t)=>`The entered date is less than ${e.format(t)}`};function i(e,t){return{message:e,result:t}}function r(t,i,r,s){let o="",a=!0;if(r&&t.isValid()){const s=e(r,i);t>s&&(o=n.greater(s,i),a=!1)}if(s&&t.isValid()){const r=e(s,i);t<r&&(o=n.less(r,i),a=!1)}return{message:o,result:a}}return{CALENDAR_ERROR_MESSAGES:n,lessOrGreater:r,checkInvalidDate:function(s,o,a,l){const u=e(s,o,!0),c=u.isValid();if(!c){const u=s.match(/[^a-z0-9_]/gi),c=new RegExp(u.join("|"),"gi"),h=s.replace(/_*/gi,"").split(c),d=o[1]?o[1].split(c):o[0].split(c),p=t.findIndex(d,(e,t)=>1===e.length&&t===d.length-1),f=t.findIndex(d,e=>e.match(/yyyy/gi));if(h[f]/1e3<1)return i(n.INVALID,!1);if(h[0].length===d[0].length){const t=h.map((e,t)=>{let n=e;return e||t!==p?e||(n="01"):n="AM",u[t]&&(n=`${n}${u[t]}`),n}),s=e(t.join(""),o,!0);if(s.isValid()){const e=r(s,o[0],l,a);if(!e.result){const{message:t,result:n}=e;return i(t,n)}return i(n.INCOMPLETE,!1)}return i(n.INVALID,!1)}return i(n.INVALID,!1)}if(c&&-1===s.indexOf("_")){const e=r(u,o[0],l,a);if(!e.result){const{message:t,result:n}=e;return i(t,n)}}return i("",!0)}}}),e("skylark-formio/validator/rules/Rule",[],function(){"use strict";return class{constructor(e,t,n){this.component=e,this.settings=t,this.config=n}check(){}}}),e("skylark-formio/validator/rules/Custom",["./Rule"],function(e){"use strict";class t extends e{check(e,t,n,i){const r=this.settings.custom;if(!r)return!0;const s=this.component.evaluate(r,{valid:!0,data:t,row:n,rowIndex:i,input:e},"valid",!0);return null===s||s}}return t.prototype.defaultMessage="{{error}}",t}),e("skylark-formio/validator/rules/Date",["./Rule"],function(e){"use strict";class t extends e{check(e){return!e||e instanceof Date||"Invalid date"!==e&&"Invalid Date"!==e&&("string"==typeof e&&(e=new Date(e)),"Invalid Date"!==e.toString())}}return t.prototype.defaultMessage="{{field}} is not a valid date.",t}),e("skylark-formio/validator/rules/Day",["./Rule"],function(e){"use strict";class t extends e{check(e){if(!e)return!0;if("string"!=typeof e)return!1;const[t,n,i]=this.component.dayFirst?[0,1,2]:[1,0,2],r=e.split("/").map(e=>parseInt(e,10)),s=r[t],o=r[n],a=r[i],l=function(e,t){switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 4:case 6:case 9:case 11:return 30;case 2:return function(e){return!(e%400&&(!(e%100)||e%4))}(t)?29:28;default:return 31}}(o,a);return!(isNaN(s)||s<0||s>l)&&(!(isNaN(o)||o<0||o>12)&&!(isNaN(a)||a<0||a>9999))}}return t.prototype.defaultMessage="{{field}} is not a valid day.",t}),e("skylark-formio/validator/rules/Email",["./Rule"],function(e){"use strict";class t extends e{check(e){if(!e)return!0;return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}}return t.prototype.defaultMessage="{{field}} must be a valid email.",t}),e("skylark-formio/validator/rules/JSON",["./Rule"],function(e){"use strict";class t extends e{check(e,t,n,i){const{json:r}=this.settings;if(!r)return!0;const s=this.component.evaluate(r,{data:t,row:n,rowIndex:i,input:e});return null===s||s}}return t.prototype.defaultMessage="{{error}}",t}),e("skylark-formio/validator/rules/Mask",["./Rule","../../utils/utils"],function(e,t){"use strict";class n extends e{check(e){let n;if(this.component.isMultipleMasksField){const i=e?e.maskName:void 0,r=this.component.getMaskByName(i);r&&(n=t.getInputMask(r)),e=e?e.value:e}else n=t.getInputMask(this.settings.mask);return!e||!n||t.matchInputMask(e,n)}}return n.prototype.defaultMessage="{{field}} does not match the mask.",n}),e("skylark-formio/validator/rules/Max",["skylark-lodash","./Rule"],function(e,t){"use strict";class n extends t{check(t){const n=parseFloat(this.settings.limit);return!(!Number.isNaN(n)&&e.isNumber(t))||parseFloat(t)<=n}}return n.prototype.defaultMessage="{{field}} cannot be greater than {{settings.limit}}.",n}),e("skylark-formio/validator/rules/MaxDate",["./Rule","../../utils/utils","skylark-moment","skylark-lodash"],function(e,t,n,i){"use strict";class r extends e{check(e){if(!e)return!0;if(e===this.settings.dateLimit)return!0;const r=n(e),s=t.getDateSetting(this.settings.dateLimit);return!!i.isNull(s)||(s.setHours(0,0,0,0),r.isBefore(s)||r.isSame(s))}}return r.prototype.defaultMessage="{{field}} should not contain date after {{settings.dateLimit}}",r}),e("skylark-formio/validator/rules/MaxLength",["./Rule"],function(e){"use strict";class t extends e{check(e){const t=parseInt(this.settings.length,10);return!(e&&t&&e.hasOwnProperty("length"))||e.length<=t}}return t.prototype.defaultMessage="{{field}} must have no more than {{- settings.length}} characters.",t}),e("skylark-formio/validator/rules/MaxWords",["./Rule"],function(e){"use strict";class t extends e{check(e){const t=parseInt(this.settings.length,10);return!t||"string"!=typeof e||e.trim().split(/\s+/).length<=t}}return t.prototype.defaultMessage="{{field}} must have no more than {{- settings.length}} words.",t}),e("skylark-formio/validator/rules/Min",["skylark-lodash","./Rule"],function(e,t){class n extends t{check(t){const n=parseFloat(this.settings.limit);return!(!Number.isNaN(n)&&e.isNumber(t))||parseFloat(t)>=n}}return n.prototype.defaultMessage="{{field}} cannot be less than {{settings.limit}}.",n}),e("skylark-formio/validator/rules/MinDate",["./Rule","../../utils/utils","skylark-moment","skylark-lodash"],function(e,t,n,i){class r extends e{check(e){if(!e)return!0;const r=n(e),s=t.getDateSetting(this.settings.dateLimit);return!!i.isNull(s)||(s.setHours(0,0,0,0),r.isAfter(s)||r.isSame(s))}}return r.prototype.defaultMessage="{{field}} should not contain date before {{settings.dateLimit}}",r}),e("skylark-formio/validator/rules/MinLength",["./Rule"],function(e){"use strict";class t extends e{check(e){const t=parseInt(this.settings.length,10);return!(t&&e&&e.hasOwnProperty("length")&&!this.component.isEmpty(e))||e.length>=t}}return t.prototype.defaultMessage="{{field}} must have no more than {{- settings.length}} characters.",t}),e("skylark-formio/validator/rules/MinWords",["./Rule"],function(e){"use strict";class t extends e{check(e){const t=parseInt(this.settings.length,10);return!t||!e||"string"!=typeof e||e.trim().split(/\s+/).length>=t}}return t.prototype.defaultMessage="{{field}} must have at least {{- settings.length}} words.",t}),e("skylark-formio/validator/rules/Pattern",["./Rule"],function(e){"use strict";class t extends e{check(e){const{pattern:t}=this.settings;return!t||new RegExp(`^${t}$`).test(e)}}return t.prototype.defaultMessage="{{field}} does not match the pattern {{settings.pattern}}",t}),e("skylark-formio/validator/rules/Required",["./Rule"],function(e){"use strict";class t extends e{check(e){return!this.component.isValueHidden()&&!this.component.isEmpty(e)}}return t.prototype.defaultMessage="{{field}} is required",t}),e("skylark-formio/validator/rules/Select",["./Rule","../../utils/utils","../../vendors/getify/npo","../../vendors/fetch-ponyfill/fetch","skylark-lodash"],function(e,t,n,i,r){const{fetch:s,Headers:o,Request:a}=i({Promise:n});class l extends e{check(e,n,i,l){if(!e||r.isEmpty(e))return!0;if(!l)return!0;const u=this.component.component,c={url:this.settings.url,method:"GET",qs:{},json:!0,headers:{}};if(r.isBoolean(c.url)){if(c.url=!!c.url,!c.url||"url"!==u.dataSrc||!u.data.url||!u.searchField)return!0;c.url=u.data.url,c.qs[u.searchField]=e,u.filter&&(c.url+=(c.url.includes("?")?"&":"?")+u.filter),u.selectFields&&(c.qs.select=u.selectFields)}return!c.url||(c.url=t.interpolate(c.url,{data:this.component.data}),c.url+=(c.url.includes("?")?"&":"?")+r.chain(c.qs).map((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`).join("&").value(),u.data&&u.data.headers&&r.each(u.data.headers,e=>{e.key&&(c.headers[e.key]=e.value)}),u.authenticate&&this.config.token&&(c.headers["x-jwt-token"]=this.config.token),s(new a(c.url,{headers:new o(c.headers)})).then(e=>!!e.ok&&e.json()).then(e=>e&&e.length).catch(()=>!1))}}return l.prototype.defaultMessage="{{field}} contains an invalid selection",l}),e("skylark-formio/validator/rules/Unique",["./Rule","../../utils/utils","skylark-lodash","../../vendors/getify/npo"],function(e,t,n,i){class r extends e{check(e){return!(e&&!n.isEmpty(e))||(!this.config.db||new i(i=>{const r=this.config.form,s=this.config.submission,o=`data.${this.component.path}`,a={form:r._id};n.isString(e)?a[o]={$regex:new RegExp(`^${t.escapeRegExCharacters(e)}$`),$options:"i"}:n.isPlainObject(e)&&e.address&&e.address.address_components&&e.address.place_id?a[`${o}.address.place_id`]={$regex:new RegExp(`^${t.escapeRegExCharacters(e.address.place_id)}$`),$options:"i"}:n.isArray(e)?a[o]={$all:e}:n.isObject(e)&&(a[o]={$eq:e}),a.deleted={$eq:null},this.config.db.findOne(a,(e,t)=>i(!e&&(!t||s._id&&t._id.toString()===s._id)))}).catch(()=>!1))}}return r.prototype.defaultMessage="{{field}} must be unique",r}),e("skylark-formio/validator/rules/Url",["./Rule"],function(e){"use strict";class t extends e{check(e){return!e||/(https?:\/\/(?:www\.|(?!www)))?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/.test(e)}}return t.prototype.defaultMessage="{{field}} must be a valid url.",t}),e("skylark-formio/validator/rules/MinYear",["./Rule"],function(e){"use strict";class t extends e{check(e){const t=this.settings;let n=/\d{4}$/.exec(e);return n=n?n[0]:null,!+t||!+n||+n>=+t}}return t.prototype.defaultMessage="{{field}} should not contain year less than {{minYear}}",t}),e("skylark-formio/validator/rules/MaxYear",["./Rule"],function(e){"use strict";class t extends e{check(e){const t=this.settings;let n=/\d{4}$/.exec(e);return n=n?n[0]:null,!+t||!+n||+n<=+t}}return t.prototype.defaultMessage="{{field}} should not contain year greater than {{maxYear}}",t}),e("skylark-formio/validator/rules/index",["./Custom","./Date","./Day","./Email","./JSON","./Mask","./Max","./MaxDate","./MaxLength","./MaxWords","./Min","./MinDate","./MinLength","./MinWords","./Pattern","./Required","./Select","./Unique","./Url","./MinYear","./MaxYear"],function(e,t,n,i,r,s,o,a,l,u,c,h,d,p,f,m,g,y,v,b,k){return{Custom:e,Date:t,Day:n,Email:i,JSON:r,Mask:s,Max:o,MaxDate:a,MaxLength:l,MaxWords:u,Min:c,MinDate:h,MinLength:d,MinWords:p,Pattern:f,Required:m,Select:g,Unique:y,Url:v,MinYear:b,MaxYear:k}}),e("skylark-formio/validator/Rules",["./rules/index"],function(e){"use strict";return class e{static addRule(t,n){e.rules[t]=n}static addRules(t){e.rules={...e.rules,...t}}static getRule(t){return e.rules[t]}static getRules(){return e.rules}}}),e("skylark-formio/validator/Validator",["skylark-lodash","../utils/utils","skylark-moment","../vendors/getify/npo","../vendors/fetch-ponyfill/fetch","../utils/calendarUtils","./Rules"],function(e,t,n,i,r,s,o){"use strict";const{fetch:a,Headers:l,Request:u}=r({Promise:i});class c{constructor(r={}){this.config=e.defaults(r,c.config),this.validators={required:{key:"validate.required",method:"validateRequired",message:e=>e.t(e.errorMessage("required"),{field:e.errorLabel,data:e.data}),check(e,n,i){if(!t.boolValue(n)||e.isValueHidden())return!0;const r=e.validators.some(e=>"calendar"===e);return!i&&r&&e.widget.enteredDate?!this.validators.calendar.check.call(this,e,n,i):!e.isEmpty(i)}},unique:{key:"validate.unique",message:e=>e.t(e.errorMessage("unique"),{field:e.errorLabel,data:e.data}),check(n,r,s){return!t.boolValue(r)||(!(s&&!e.isEmpty(s))||(!this.config.db||new i(i=>{const r=this.config.form,o=this.config.submission,a=`data.${n.path}`,l={form:r._id};e.isString(s)?l[a]={$regex:new RegExp(`^${t.escapeRegExCharacters(s)}$`),$options:"i"}:e.isPlainObject(s)&&s.address&&s.address.address_components&&s.address.place_id?l[`${a}.address.place_id`]={$regex:new RegExp(`^${t.escapeRegExCharacters(s.address.place_id)}$`),$options:"i"}:e.isArray(s)?l[a]={$all:s}:e.isObject(s)&&(l[a]={$eq:s}),l.deleted={$eq:null},this.config.db.findOne(l,(e,t)=>i(!e&&(!t||o._id&&t._id.toString()===o._id)))}).catch(()=>!1)))}},multiple:{key:"validate.multiple",message(e){const n=t.boolValue(e.component.multiple)||Array.isArray(e.emptyValue),i=e.component.validate.required,r=n?i?"array_nonempty":"array":"nonarray";return e.t(e.errorMessage(r),{field:e.errorLabel,data:e.data})},check(n,i,r){if(!n.validateMultiple())return!0;const s=t.boolValue(i),o=Array.isArray(n.emptyValue),a=Array.isArray(r),l=n.component.validate.required;return s?a?!l||!!r.length:!!e.isNil(r)&&!l:o||!a}},select:{key:"validate.select",message:e=>e.t(e.errorMessage("select"),{field:e.errorLabel,data:e.data}),check(n,i,r,s,o,c,h){if(!t.boolValue(i))return!0;if(!r||e.isEmpty(r))return!0;if(!h)return!0;const d=n.component,p={url:i,method:"GET",qs:{},json:!0,headers:{}};if(e.isBoolean(p.url)){if(p.url=!!p.url,!p.url||"url"!==d.dataSrc||!d.data.url||!d.searchField)return!0;p.url=d.data.url,p.qs[d.searchField]=r,d.filter&&(p.url+=(p.url.includes("?")?"&":"?")+d.filter),d.selectFields&&(p.qs.select=d.selectFields)}return!p.url||(p.url=t.interpolate(p.url,{data:n.data}),p.url+=(p.url.includes("?")?"&":"?")+e.chain(p.qs).map((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`).join("&").value(),d.data&&d.data.headers&&e.each(d.data.headers,e=>{e.key&&(p.headers[e.key]=e.value)}),d.authenticate&&this.config.token&&(p.headers["x-jwt-token"]=this.config.token),a(new u(p.url,{headers:new l(p.headers)})).then(e=>!!e.ok&&e.json()).then(e=>e&&e.length).catch(()=>!1))}},min:{key:"validate.min",message:(e,t)=>e.t(e.errorMessage("min"),{field:e.errorLabel,min:parseFloat(t),data:e.data}),check(t,n,i){const r=parseFloat(n);return!(!Number.isNaN(r)&&e.isNumber(i))||parseFloat(i)>=r}},max:{key:"validate.max",message:(e,t)=>e.t(e.errorMessage("max"),{field:e.errorLabel,max:parseFloat(t),data:e.data}),check(t,n,i){const r=parseFloat(n);return!(!Number.isNaN(r)&&e.isNumber(i))||parseFloat(i)<=r}},minSelectedCount:{key:"validate.minSelectedCount",message:(e,t)=>e.component.minSelectedCountMessage?e.component.minSelectedCountMessage:e.t(e.errorMessage("minSelectedCount"),{minCount:parseFloat(t),data:e.data}),check(e,t,n){const i=parseFloat(t);if(!i)return!0;const r=Object.keys(n).reduce((e,t)=>(n[t]&&e++,e),0);return r>=i}},maxSelectedCount:{key:"validate.maxSelectedCount",message:(e,t)=>e.component.maxSelectedCountMessage?e.component.maxSelectedCountMessage:e.t(e.errorMessage("maxSelectedCount"),{minCount:parseFloat(t),data:e.data}),check(e,t,n){const i=parseFloat(t);if(!i)return!0;const r=Object.keys(n).reduce((e,t)=>(n[t]&&e++,e),0);return r<=i}},minLength:{key:"validate.minLength",message:(e,t)=>e.t(e.errorMessage("minLength"),{field:e.errorLabel,length:t,data:e.data}),check(e,t,n){const i=parseInt(t,10);return!(i&&"string"==typeof n&&!e.isEmpty(n))||n.length>=i}},maxLength:{key:"validate.maxLength",message:(e,t)=>e.t(e.errorMessage("maxLength"),{field:e.errorLabel,length:t,data:e.data}),check(e,t,n){const i=parseInt(t,10);return!i||"string"!=typeof n||n.length<=i}},maxWords:{key:"validate.maxWords",message:(e,t)=>e.t(e.errorMessage("maxWords"),{field:e.errorLabel,length:t,data:e.data}),check(e,t,n){const i=parseInt(t,10);return!i||"string"!=typeof n||n.trim().split(/\s+/).length<=i}},minWords:{key:"validate.minWords",message:(e,t)=>e.t(e.errorMessage("minWords"),{field:e.errorLabel,length:t,data:e.data}),check(e,t,n){const i=parseInt(t,10);return!i||"string"!=typeof n||n.trim().split(/\s+/).length>=i}},email:{message:e=>e.t(e.errorMessage("invalid_email"),{field:e.errorLabel,data:e.data}),check:(e,t,n)=>!n||/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)},url:{message:e=>e.t(e.errorMessage("invalid_url"),{field:e.errorLabel,data:e.data}),check:(e,t,n)=>!n||/[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/.test(n)},date:{message:e=>e.t(e.errorMessage("invalid_date"),{field:e.errorLabel,data:e.data}),check:(e,t,n)=>"Invalid date"!==n},day:{message:e=>e.t(e.errorMessage("invalid_day"),{field:e.errorLabel,data:e.data}),check(e,t,n){if(!n)return!0;const[i,r,s]=e.dayFirst?[0,1,2]:[1,0,2],o=n.split("/").map(e=>parseInt(e,10)),a=o[i],l=o[r],u=o[s],c=function(e,t){switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 4:case 6:case 9:case 11:return 30;case 2:return function(e){return!(e%400&&(!(e%100)||e%4))}(t)?29:28;default:return 31}}(l,u);return!(a<0||a>c)&&(!(l<0||l>12)&&!(u<0||u>9999))}},pattern:{key:"validate.pattern",message:(t,n)=>t.t(e.get(t,"component.validate.patternMessage",t.errorMessage("pattern"),{field:t.errorLabel,pattern:n,data:t.data})),check(e,t,n){const i=t;if(!i)return!0;const r=new RegExp(`^${i}$`);return r.test(n)}},json:{key:"validate.json",check(e,t,n,i,r,s){if(!t)return!0;const o=e.evaluate(t,{data:i,row:s,rowIndex:r,input:n});return null===o||o}},mask:{key:"inputMask",message:e=>e.t(e.errorMessage("mask"),{field:e.errorLabel,data:e.data}),check(e,n,i){let r;if(e.isMultipleMasksField){const t=i?i.maskName:void 0,n=e.getMaskByName(t);n&&(r=n),i=i?i.value:i}else r=n;return r=r?t.getInputMask(r):null,!i||!r||t.matchInputMask(i,r)}},custom:{key:"validate.custom",message:e=>e.t(e.errorMessage("custom"),{field:e.errorLabel,data:e.data}),check(e,t,n,i,r,s){if(!t)return!0;const o=e.evaluate(t,{valid:!0,data:i,rowIndex:r,row:s,input:n},"valid",!0);return null===o||o}},maxDate:{key:"maxDate",message(e,i){const r=t.getDateSetting(i);return e.t(e.errorMessage("maxDate"),{field:e.errorLabel,maxDate:n(r).format(e.format)})},check(i,r,s){if(i.isPartialDay&&i.isPartialDay(s))return!0;const o=n(s),a=t.getDateSetting(r);return!!e.isNull(a)||(a.setHours(0,0,0,0),o.isBefore(a)||o.isSame(a))}},minDate:{key:"minDate",message(e,i){const r=t.getDateSetting(i);return e.t(e.errorMessage("minDate"),{field:e.errorLabel,minDate:n(r).format(e.format)})},check(i,r,s){if(i.isPartialDay&&i.isPartialDay(s))return!0;const o=n(s),a=t.getDateSetting(r);return!!e.isNull(a)||(a.setHours(0,0,0,0),o.isAfter(a)||o.isSame(a))}},minYear:{key:"minYear",message:(e,t)=>e.t(e.errorMessage("minYear"),{field:e.errorLabel,minYear:t}),check(e,t,n){const i=t;let r=/\d{4}$/.exec(n);return r=r?r[0]:null,!+i||!+r||+r>=+i}},maxYear:{key:"maxYear",message:(e,t)=>e.t(e.errorMessage("maxYear"),{field:e.errorLabel,maxYear:t}),check(e,t,n){const i=t;let r=/\d{4}$/.exec(n);return r=r?r[0]:null,!+i||!+r||+r<=+i}},calendar:{key:"validate.calendar",messageText:"",message(e){return e.t(e.errorMessage(this.validators.calendar.messageText),{field:e.errorLabel,maxDate:n(e.dataValue).format(e.format)})},check(e,i,r,o,a){this.validators.calendar.messageText="";const l=e.getWidget(a);if(!l)return!0;const{settings:u,enteredDate:c}=l,{minDate:h,maxDate:d,format:p}=u,f=[t.convertFormatToMoment(p)];if(f[0].match(/M{3,}/g)&&f.push(f[0].replace(/M{3,}/g,"MM")),!r&&c){const{message:e,result:t}=s.checkInvalidDate(c,f,h,d);if(!t)return this.validators.calendar.messageText=e,t}return r&&c?n(r).format()!==n(c,f,!0).format()&&c.match(/_/gi)?(this.validators.calendar.messageText=s.CALENDAR_ERROR_MESSAGES.INCOMPLETE,!1):(l.enteredDate="",!0):void 0}}}}checkValidator(e,t,n,r,s,o,a,l){let u=null;u=t.method&&"function"==typeof e[t.method]?e[t.method](n,r,s,o,a,l):t.check.call(this,e,n,r,s,o,a,l);const c=i=>"string"==typeof i?i:!i&&t.message?t.message.call(this,e,n,o,a):"";return l?i.resolve(u).then(c):c(u)}validate(t,n,r,s,o,a,l){if(!t.conditionallyVisible())return!1;const u=this.validators[n],c=e.get(t.component,u.key,null),h=this.checkValidator(t,u,c,r,s,o,a,l),d=i=>!!i&&{message:e.get(i,"message",i),level:"warning"===e.get(i,"level")?"warning":"error",path:(t.path||"").replace(/[[\]]/g,".").replace(/\.\./g,".").split(".").map(t=>e.defaultTo(e.toNumber(t),t)),context:{validator:n,setting:c,key:t.key,label:t.label,value:r}};return l?i.resolve(h).then(d):d(h)}checkComponent(t,n,r,s=!1,o=!1){const a="undefined"!=typeof process&&"node"===e.get(process,"release.name")&&!e.defaultTo(t.component.persistent,!0);if(a||!1===t.component.validate)return o?i.resolve([]):[];n=n||t.rootValue,r=r||t.data;const l=t.component.multiple&&Array.isArray(t.validationValue)?t.validationValue:[t.validationValue],u=e.get(t,"component.validations");if(u&&Array.isArray(u)){const e=this.checkValidations(t,u,n,r,l,o),a=e=>s?e:e.filter(e=>"error"===e.level);return o?i.all(e).then(a):a(e)}const c=e.get(t,"component.validate.custom"),h=e.get(t,"component.validate.customMessage"),d=e(t.validators).chain().map(i=>this.validators.hasOwnProperty(i)?"required"!==i||l.length?e.map(l,(e,s)=>this.validate(t,i,e,n,s,r,o)):[this.validate(t,i,null,n,0,r,o)]:{message:`Validator for "${i}" is not defined`,level:"warning",context:{validator:i,key:t.key,label:t.label}}).flatten().value();t.component.validate=t.component.validate||{},t.component.validate.unique=t.component.unique,d.push(this.validate(t,"unique",t.validationValue,n,0,n,o)),t.component.validate.multiple=t.component.multiple,d.push(this.validate(t,"multiple",t.validationValue,n,0,n,o));const p=i=>(i=e(i).chain().flatten().compact().value(),(h||c)&&e.each(i,e=>{e.message=t.t(h||e.message,{field:t.errorLabel,data:n,row:r,error:e})}),s?i:e.reject(i,e=>"warning"===e.level));return o?i.all(d).then(p):p(d)}checkValidations(e,t,n,i,r,s){const o=t.map(t=>this.checkRule(e,t,n,i,r,s)),a=o.reduce((e,t)=>t?[...e,...t]:e,[]).filter(e=>e),l=a.reduce((e,t)=>(e[t.context.validator]=t,e),{});return Object.values(l)}checkRule(e,t,n,i,r,s){const a=o.getRule(t.rule),l=[];if(a){const o=new a(e,t.settings,this.config);r.map((r,a)=>{const u=o.check(r,n,i,s);!0!==u&&l.push({level:t.level||"error",message:e.t(t.message||o.defaultMessage,{settings:t.settings,field:e.errorLabel,data:n,row:i,error:u}),context:{key:e.key,index:a,label:e.label,validator:t.rule}})})}return 0!==l.length&&l}get check(){return this.checkComponent}get(){e.get.call(this,arguments)}each(){e.each.call(this,arguments)}has(){e.has.call(this,arguments)}}c.config={db:null,token:null,form:null,submission:null};c.instance=new c;return c.instance}),e("skylark-formio/templates/bootstrap/address/form.ejs",[],function(){return'{% if (ctx.mode.autocomplete) { %}\n  <div class="address-autocomplete-container">\n    <input\n      ref="{{ ctx.ref.searchInput }}"\n      {% for (var attr in ctx.inputAttributes) { %}\n        {{attr}}="{{ctx.inputAttributes[attr]}}"\n      {% } %}\n      value="{{ ctx.displayValue }}"\n      autocomplete="off"\n    >\n    {% if (!ctx.component.disableClearIcon) { %}\n      <i\n        class="address-autocomplete-remove-value-icon fa fa-times"\n        tabindex="{{ ctx.inputAttributes.tabindex }}"\n        ref="{{ ctx.ref.removeValueIcon }}"\n      ></i>\n    {% } %}\n  </div>\n{% } %}\n{% if (ctx.self.manualModeEnabled) { %}\n  <div class="form-check checkbox">\n    <label class="form-check-label">\n      <input\n        ref="{{ ctx.ref.modeSwitcher }}"\n        type="checkbox"\n        class="form-check-input"\n        tabindex="{{ ctx.inputAttributes.tabindex }}"\n        {% if (ctx.mode.manual) { %}checked=true{% } %}\n        {% if (ctx.disabled) { %}disabled=true{% } %}\n      >\n      <span>{{ ctx.component.switchToManualModeLabel }}</span>\n    </label>\n  </div>\n{% } %}\n{% if (ctx.self.manualMode) { %}\n  <div ref="{{ ctx.nestedKey }}">\n    {{ ctx.children }}\n  </div>\n{% } %}\n'}),e("skylark-formio/templates/bootstrap/address/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/builder/form.ejs",[],function(){return'<div class="formio builder row formbuilder">\n  <div class="col-xs-4 col-sm-3 col-md-2 formcomponents">\n    {{ctx.sidebar}}\n  </div>\n  <div class="col-xs-8 col-sm-9 col-md-10 formarea" ref="form">\n    {{ctx.form}}\n  </div>\n</div>\n'}),e("skylark-formio/templates/bootstrap/builder/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/builderComponent/form.ejs",[],function(){return'<div class="builder-component" ref="dragComponent">\n  <div class="component-btn-group" data-noattach="true">\n    <div class="btn btn-xxs btn-danger component-settings-button component-settings-button-remove" ref="removeComponent">\n      <i class="{{ctx.iconClass(\'remove\')}}"></i>\n    </div>\n    <div class="btn btn-xxs btn-default component-settings-button component-settings-button-copy" ref="copyComponent">\n      <i class="{{ctx.iconClass(\'copy\')}}"></i>\n    </div>\n    <div class="btn btn-xxs btn-default component-settings-button component-settings-button-paste" ref="pasteComponent">\n      <i class="{{ctx.iconClass(\'save\')}}"></i>\n    </div>\n    <div class="btn btn-xxs btn-default component-settings-button component-settings-button-edit-json" ref="editJson">\n      <i class="{{ctx.iconClass(\'wrench\')}}"></i>\n    </div>\n    <div class="btn btn-xxs btn-default component-settings-button component-settings-button-move" ref="moveComponent">\n      <i class="{{ctx.iconClass(\'move\')}}"></i>\n    </div>\n    <div class="btn btn-xxs btn-secondary component-settings-button component-settings-button-edit", ref="editComponent">\n      <i class="{{ctx.iconClass(\'cog\')}}"></i>\n    </div>\n  </div>\n  {{ctx.html}}\n</div>\n'}),e("skylark-formio/templates/bootstrap/builderComponent/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/builderComponents/form.ejs",[],function(){return'<div class="builder-components drag-container formio-builder-{{ctx.type}}" ref="{{ctx.key}}-container">\n  {{ctx.html}}\n</div>\n'}),e("skylark-formio/templates/bootstrap/builderComponents/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/builderEditForm/form.ejs",[],function(){return'<div class="row">\n  <div class="col col-sm-6">\n    <p class="lead">{{ctx.t(ctx.componentInfo.title)}} {{ctx.t(\'Component\')}}</p>\n  </div>\n  <div class="col col-sm-6">\n    <div class="float-right" style="margin-right: 20px; margin-top: 10px">\n      <a href="{{ctx.t(ctx.componentInfo.documentation)}}" target="_blank">\n        <i class="{{ctx.iconClass(\'new-window\')}}"></i> {{ctx.t(\'Help\')}}\n      </a>\n    </div>\n  </div>\n</div>\n<div class="row">\n  <div class="col {% if (ctx.preview) { %}col-sm-6{% } else { %}col-sm-12{% } %}">\n    <div ref="editForm">\n        {{ctx.editForm}}\n    </div>\n    {% if (!ctx.preview) { %}\n    <div style="margin-top: 10px;">\n      <button class="btn btn-success" style="margin-right: 10px;" ref="saveButton">{{ctx.t(\'Save\')}}</button>\n      <button class="btn btn-secondary" style="margin-right: 10px;" ref="cancelButton">{{ctx.t(\'Cancel\')}}</button>\n      <button class="btn btn-danger" ref="removeButton">{{ctx.t(\'Remove\')}}</button>\n    </div>\n    {% } %}\n  </div>\n  {% if (ctx.preview) { %}\n  <div class="col col-sm-6">\n    <div class="card panel preview-panel">\n      <div class="card-header">\n        <h4 class="card-title mb-0">{{ctx.t(\'Preview\')}}</h4>\n      </div>\n      <div class="card-body">\n        <div class="component-preview" ref="preview">\n          {{ctx.preview}}\n        </div>\n      </div>\n    </div>\n    {% if (ctx.componentInfo.help) { %}\n    <div class="card card-body bg-light formio-settings-help">\n      {{ ctx.t(ctx.componentInfo.help) }}\n    </div>\n    {% } %}\n    <div style="margin-top: 10px;">\n      <button class="btn btn-success" style="margin-right: 10px;" ref="saveButton">{{ctx.t(\'Save\')}}</button>\n      <button class="btn btn-secondary" style="margin-right: 10px;" ref="cancelButton">{{ctx.t(\'Cancel\')}}</button>\n      <button class="btn btn-danger" ref="removeButton">{{ctx.t(\'Remove\')}}</button>\n    </div>\n  </div>\n  {% } %}\n</div>\n'}),e("skylark-formio/templates/bootstrap/builderEditForm/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/builderPlaceholder/form.ejs",[],function(){return'<div\n  class="drag-and-drop-alert alert alert-info no-drag"\n  style="text-align:center;"\n  role="alert"\n  data-noattach="true"\n  data-position="{{ctx.position}}"\n>\n  {{ctx.t(\'Drag and Drop a form component\')}}\n</div>\n'}),e("skylark-formio/templates/bootstrap/builderPlaceholder/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/builderSidebar/form.ejs",[],function(){return'<div id="{{ctx.groupId}}" class="accordion builder-sidebar{{ctx.scrollEnabled ? \' builder-sidebar_scroll\' : \'\'}}" ref="sidebar">\n  {% ctx.groups.forEach(function(group) { %}\n    {{ group }}\n  {% }) %}\n</div>\n'}),e("skylark-formio/templates/bootstrap/builderSidebar/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/builderSidebarGroup/form.ejs",[],function(){return'<div class="card form-builder-panel" ref="group-panel-{{ctx.groupKey}}">\n  <div class="card-header form-builder-group-header" id="heading-{{ctx.groupKey}}">\n    <h5 class="mb-0 mt-0">\n      <button\n        class="btn btn-block builder-group-button"\n        type="button"\n        data-toggle="collapse"\n        data-target="#group-{{ctx.groupKey}}"\n        data-parent="#{{ctx.groupId}}"\n        aria-expanded="{{ctx.group.default}}"\n        aria-controls="group-{{ctx.groupKey}}"\n        ref="sidebar-anchor"\n      >\n        {{ctx.t(ctx.group.title)}}\n      </button>\n    </h5>\n  </div>\n  <div\n    id="group-{{ctx.groupKey}}"\n    class="collapse {{ctx.group.default ? \' show\' : \'\'}}"\n    data-parent="#{{ctx.groupId}}"\n    data-default="{{ctx.group.default}}"\n    aria-labelledby="heading-{{ctx.groupKey}}"\n    ref="sidebar-group"\n  >\n    <div id="group-container-{{ctx.groupKey}}" class="card-body no-drop p-2" ref="sidebar-container">\n      {% !ctx.group.componentOrder || ctx.group.componentOrder.forEach(function(componentKey) { %}\n      <span\n        data-group="{{ctx.groupKey}}"\n        data-key="{{ctx.group.components[componentKey].key}}"\n        data-type="{{ctx.group.components[componentKey].schema.type}}"\n        class="btn btn-primary btn-sm btn-block formcomponent drag-copy"\n      >\n        {% if (ctx.group.components[componentKey].icon) { %}\n          <i class="{{ctx.iconClass(ctx.group.components[componentKey].icon)}}" style="margin-right: 5px;"></i>\n        {% } %}\n        {{ctx.t(ctx.group.components[componentKey].title)}}\n        </span>\n      {% }) %}\n      {{ctx.subgroups.join(\'\')}}\n    </div>\n  </div>\n</div>\n'}),e("skylark-formio/templates/bootstrap/builderSidebarGroup/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/builderWizard/form.ejs",[],function(){return'<div class="formio builder row formbuilder">\n  <div class="col-xs-4 col-sm-3 col-md-2 formcomponents">\n    {{ctx.sidebar}}\n  </div>\n  <div class="col-xs-8 col-sm-9 col-md-10 formarea">\n    <ol class="breadcrumb">\n      {% ctx.pages.forEach(function(page, pageIndex) { %}\n      <li>\n        <span title="{{page.title}}" class="mr-2 badge {% if (pageIndex === ctx.self.page) { %}badge-primary{% } else { %}badge-info{% } %} wizard-page-label" ref="gotoPage">{{page.title}}</span>\n      </li>\n      {% }) %}\n      <li>\n        <span title="{{ctx.t(\'Create Page\')}}" class="mr-2 badge badge-success wizard-page-label" ref="addPage">\n          <i class="{{ctx.iconClass(\'plus\')}}"></i> {{ctx.t(\'Page\')}}\n        </span>\n      </li>\n    </ol>\n    <div ref="form">\n      {{ctx.form}}\n    </div>\n  </div>\n</div>\n'}),e("skylark-formio/templates/bootstrap/builderWizard/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/button/form.ejs",[],function(){return'<{{ctx.input.type}}\n  ref="button"\n  {% for (var attr in ctx.input.attr) { %}\n  {{attr}}="{{ctx.input.attr[attr]}}"\n  {% } %}\n>\n{% if (ctx.component.leftIcon) { %}<span class="{{ctx.component.leftIcon}}"></span>&nbsp;{% } %}\n{{ctx.input.content}}\n{% if (ctx.component.tooltip) { %}\n  <i ref="tooltip" class="{{ctx.iconClass(\'question-sign\')}} text-muted"></i>\n{% } %}\n{% if (ctx.component.rightIcon) { %}&nbsp;<span class="{{ctx.component.rightIcon}}"></span>{% } %}\n</{{ctx.input.type}}>\n<div ref="buttonMessageContainer">\n  <span class="help-block" ref="buttonMessage"></span>\n</div>\n'}),e("skylark-formio/templates/bootstrap/button/html.ejs",[],function(){return"\n"}),e("skylark-formio/templates/bootstrap/button/index",["./form.ejs","./html.ejs"],function(e,t){"use strict";return{form:e,html:t}}),e("skylark-formio/templates/bootstrap/checkbox/form.ejs",[],function(){return'<div class="form-check checkbox">\n  <label class="{{ctx.input.labelClass}} form-check-label">\n    <{{ctx.input.type}}\n      ref="input"\n      {% for (var attr in ctx.input.attr) { %}\n      {{attr}}="{{ctx.input.attr[attr]}}"\n      {% } %}\n      {% if (ctx.checked) { %}checked=true{% } %}\n      >\n    {% if (!ctx.self.labelIsHidden()) { %}<span>{{ctx.input.label}}</span>{% } %}\n    {% if (ctx.component.tooltip) { %}\n      <i ref="tooltip" class="{{ctx.iconClass(\'question-sign\')}} text-muted"></i>\n    {% } %}\n    {{ctx.input.content}}\n    </{{ctx.input.type}}>\n  </label>\n</div>\n'}),e("skylark-formio/templates/bootstrap/checkbox/html.ejs",[],function(){return'<label class="{{ctx.input.labelClass}}">\n    {{ctx.input.content}}\n    {% if (!ctx.self.labelIsHidden()) { %}<span>{{ctx.input.label}}</span>{% } %}\n</label>\n<div ref="value">{% if (ctx.checked) { %}True{% } else { %}False{% } %}</div>\n'}),e("skylark-formio/templates/bootstrap/checkbox/index",["./form.ejs","./html.ejs"],function(e,t){"use strict";return{form:e,html:t}}),e("skylark-formio/templates/bootstrap/columns/form.ejs",[],function(){return'{% ctx.component.columns.forEach(function(column, index) { %}\n<div class="\n    col-{{column.size}}-{{column.width}}\n    col-{{column.size}}-offset-{{column.offset}}\n    col-{{column.size}}-push-{{column.push}}\n    col-{{column.size}}-pull-{{column.pull}}\n  " ref="{{ctx.columnKey}}">\n  {{ctx.columnComponents[index]}}\n</div>\n{% }) %}\n'}),e("skylark-formio/templates/bootstrap/columns/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/component/form.ejs",[],function(){return'<div id="{{ctx.id}}" class="{{ctx.classes}}"{% if (ctx.styles) { %} styles="{{ctx.styles}}"{% } %} ref="component">\n  {% if (ctx.visible) { %}\n  {{ctx.children}}\n  <div ref="messageContainer" class="formio-errors invalid-feedback"></div>\n  {% } %}\n</div>\n'}),e("skylark-formio/templates/bootstrap/component/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/componentModal/form.ejs",[],function(){return'<div class="formio-component-modal-wrapper" ref="componentModalWrapper">\n  <div ref="openModalWrapper"></div>\n\n  <div class="formio-dialog formio-dialog-theme-default component-rendering-hidden" ref="modalWrapper">\n    <div class="formio-dialog-overlay" ref="modalOverlay"></div>\n    <div class="formio-dialog-content" ref="modalContents">\n      <div ref="modalContents">\n        {% if (ctx.visible) { %}\n        {{ctx.children}}\n        {% } %}\n        <div class="formio-dialog-buttons">\n          <button class="btn btn-success formio-dialog-button" ref="modalSave">Save</button>\n        </div>\n      </div>\n      <button class="formio-dialog-close float-right btn btn-secondary btn-sm" aria-label="close" ref="modalClose"></button>\n    </div>\n  </div>\n</div>\n'}),e("skylark-formio/templates/bootstrap/componentModal/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/components/form.ejs",[],function(){return"{{ ctx.children.join('') }}\n"}),e("skylark-formio/templates/bootstrap/components/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/container/form.ejs",[],function(){return'<div ref="{{ctx.nestedKey}}">\n  {{ctx.children}}\n</div>\n'}),e("skylark-formio/templates/bootstrap/container/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/datagrid/form.ejs",[],function(){return'<table class="table datagrid-table table-bordered\n    {{ ctx.component.striped ? \'table-striped\' : \'\'}}\n    {{ ctx.component.hover ? \'table-hover\' : \'\'}}\n    {{ ctx.component.condensed ? \'table-sm\' : \'\'}}\n    " {% if (ctx.component.layoutFixed) { %}style="table-layout: fixed;"{% } %}>\n  {% if (ctx.hasHeader) { %}\n  <thead>\n    <tr>\n      {% if (ctx.component.reorder) { %}<th></th>{% } %}\n      {% ctx.columns.forEach(function(col) { %}\n        <th class="{{col.validate && col.validate.required ? \'field-required\' : \'\'}}">\n          {{ col.hideLabel ? \'\' : ctx.t(col.label || col.title) }}\n          {% if (col.tooltip) { %} <i ref="tooltip" data-title="{{col.tooltip}}" class="{{ctx.iconClass(\'question-sign\')}} text-muted"></i>{% } %}\n        </th>\n      {% }) %}\n      {% if (ctx.hasExtraColumn) { %}\n      <th>\n        {% if (!ctx.builder && ctx.hasAddButton && ctx.hasTopSubmit) { %}\n        <button class="btn btn-primary formio-button-add-row" ref="{{ctx.datagridKey}}-addRow">\n          <i class="{{ctx.iconClass(\'plus\')}}"></i>{{ctx.t(ctx.component.addAnother || \'Add Another\')}}\n        </button>\n        {% } %}\n      </th>\n      {% } %}\n    </tr>\n  </thead>\n  {% } %}\n  <tbody ref="{{ctx.datagridKey}}-tbody">\n    {% ctx.rows.forEach(function(row, index) { %}\n    {% if (ctx.hasGroups && ctx.groups[index]) { %}\n    <tr ref="{{ctx.datagridKey}}-group-header" class="datagrid-group-header{{ctx.hasToggle ? \' clickable\' : \'\'}}">\n      <td\n        ref="{{ctx.datagridKey}}-group-label"\n        colspan="{{ctx.numColumns}}"\n        class="datagrid-group-label">{{ctx.groups[index].label}}</td>\n    </tr>\n    {% } %}\n    <tr ref="{{ctx.datagridKey}}-row">\n      {% if (ctx.component.reorder) { %}\n        <td>\n          <button type="button" class="formio-drag-button btn btn-default fa fa-bars"></button>\n        </td>\n      {% } %}\n      {% ctx.columns.forEach(function(col) { %}\n        <td ref="{{ctx.datagridKey}}">\n          {{row[col.key]}}\n        </td>\n      {% }) %}\n      {% if (ctx.hasExtraColumn) { %}\n        {% if (!ctx.builder && ctx.hasRemoveButtons) { %}\n        <td>\n          <button type="button" class="btn btn-secondary formio-button-remove-row" ref="{{ctx.datagridKey}}-removeRow">\n            <i class="{{ctx.iconClass(\'remove-circle\')}}"></i>\n          </button>\n        </td>\n        {% } %}\n        {% if (ctx.canAddColumn) { %}\n        <td ref="{{ctx.key}}-container">\n          {{ctx.placeholder}}\n        </td>\n        {% } %}\n      {% } %}\n    </tr>\n    {% }) %}\n  </tbody>\n  {% if (!ctx.builder && ctx.hasAddButton && ctx.hasBottomSubmit) { %}\n  <tfoot>\n    <tr>\n      <td colspan="{{ctx.numColumns + 1}}">\n        <button class="btn btn-primary formio-button-add-row" ref="{{ctx.datagridKey}}-addRow">\n          <i class="{{ctx.iconClass(\'plus\')}}"></i> {{ctx.t(ctx.component.addAnother || \'Add Another\')}}\n        </button>\n      </td>\n    </tr>\n  </tfoot>\n  {% } %}\n</table>\n'}),e("skylark-formio/templates/bootstrap/datagrid/html.ejs",[],function(){return"<table class=\"table datagrid-table table-bordered\n    {{ ctx.component.striped ? 'table-striped' : ''}}\n    {{ ctx.component.hover ? 'table-hover' : ''}}\n    {{ ctx.component.condensed ? 'table-sm' : ''}}\n    \">\n  {% if (ctx.hasHeader) { %}\n  <thead>\n    <tr>\n      {% ctx.columns.forEach(function(col) { %}\n        <th class=\"{{col.validate && col.validate.required ? 'field-required' : ''}}\">\n          {{ col.hideLabel ? '' : ctx.t(col.label || col.title) }}\n          {% if (col.tooltip) { %} <i ref=\"tooltip\" data-title=\"{{col.tooltip}}\" class=\"{{ctx.iconClass('question-sign')}} text-muted\"></i>{% } %}\n        </th>\n      {% }) %}\n    </tr>\n  </thead>\n  {% } %}\n  <tbody>\n    {% ctx.rows.forEach(function(row) { %}\n    <tr>\n      {% ctx.columns.forEach(function(col) { %}\n        <td ref=\"{{ctx.datagridKey}}\">\n          {{row[col.key]}}\n        </td>\n      {% }) %}\n    </tr>\n    {% }) %}\n  </tbody>\n</table>\n"}),e("skylark-formio/templates/bootstrap/datagrid/index",["./form.ejs","./html.ejs"],function(e,t){"use strict";return{form:e,html:t}}),e("skylark-formio/templates/bootstrap/day/form.ejs",[],function(){return'<div class="row">\n  {% if (ctx.dayFirst && ctx.showDay) { %}\n  <div class="col col-xs-3">\n    {% if (!ctx.component.hideInputLabels) { %}\n    <label for="{{ctx.component.key}}-day" class="{% if(ctx.component.fields.day.required) { %}field-required{% } %}">{{ctx.t(\'Day\')}}</label>\n    {% } %}\n    <div>{{ctx.day}}</div>\n  </div>\n  {% } %}\n  {% if (ctx.showMonth) { %}\n  <div class="col col-xs-4">\n    {% if (!ctx.component.hideInputLabels) { %}\n    <label for="{{ctx.component.key}}-month" class="{% if(ctx.component.fields.month.required) { %}field-required{% } %}">{{ctx.t(\'Month\')}}</label>\n    {% } %}\n    <div>{{ctx.month}}</div>\n  </div>\n  {% } %}\n  {% if (!ctx.dayFirst && ctx.showDay) { %}\n  <div class="col col-xs-3">\n    {% if (!ctx.component.hideInputLabels) { %}\n    <label for="{{ctx.component.key}}-day" class="{% if(ctx.component.fields.day.required) { %}field-required{% } %}">{{ctx.t(\'Day\')}}</label>\n    {% } %}\n    <div>{{ctx.day}}</div>\n  </div>\n  {% } %}\n  {% if (ctx.showYear) { %}\n  <div class="col col-xs-5">\n    {% if (!ctx.component.hideInputLabels) { %}\n    <label for="{{ctx.component.key}}-year" class="{% if(ctx.component.fields.year.required) { %}field-required{% } %}">{{ctx.t(\'Year\')}}</label>\n    {% } %}\n    <div>{{ctx.year}}</div>\n  </div>\n  {% } %}\n</div>\n<input name="ctx.data[day]" type="hidden" class="form-control" lang="en" value="" ref="input">\n'}),e("skylark-formio/templates/bootstrap/day/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/dialog/form.ejs",[],function(){return'<div class="formio-dialog formio-dialog-theme-default component-settings">\n  <div class="formio-dialog-overlay" ref="dialogOverlay"></div>\n  <div class="formio-dialog-content" ref="dialogContents">\n    <div ref="dialogContents"></div>\n    <button class="formio-dialog-close float-right btn btn-secondary btn-sm" aria-label="close" ref="dialogClose"></button>\n  </div>\n</div>\n'}),e("skylark-formio/templates/bootstrap/dialog/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/editgrid/form.ejs",[],function(){return'<ul class="editgrid-listgroup list-group\n    {{ ctx.component.striped ? \'table-striped\' : \'\'}}\n    {{ ctx.component.bordered ? \'table-bordered\' : \'\'}}\n    {{ ctx.component.hover ? \'table-hover\' : \'\'}}\n    {{ ctx.component.condensed ? \'table-sm\' : \'\'}}\n    ">\n  {% if (ctx.header) { %}\n  <li class="list-group-item list-group-header">\n    {{ctx.header}}\n  </li>\n  {% } %}\n  {% ctx.rows.forEach(function(row, rowIndex) { %}\n  <li class="list-group-item" ref="{{ctx.ref.row}}">\n    {{row}}\n    {% if (ctx.openRows[rowIndex] && !ctx.readOnly) { %}\n    <div class="editgrid-actions">\n      <button class="btn btn-primary" ref="{{ctx.ref.saveRow}}">{{ctx.t(ctx.component.saveRow || \'Save\')}}</button>\n      {% if (ctx.component.removeRow) { %}\n      <button class="btn btn-danger" ref="{{ctx.ref.cancelRow}}">{{ctx.t(ctx.component.removeRow || \'Cancel\')}}</button>\n      {% } %}\n    </div>\n    {% } %}\n    <div class="has-error">\n      <div class="editgrid-row-error help-block">\n        {{ctx.errors[rowIndex]}}\n      </div>\n    </div>\n  </li>\n  {% }) %}\n  {% if (ctx.footer) { %}\n  <li class="list-group-item list-group-footer">\n    {{ctx.footer}}\n  </li>\n  {% } %}\n</ul>\n{% if (!ctx.readOnly && ctx.hasAddButton) { %}\n<button class="btn btn-primary" ref="{{ctx.ref.addRow}}">\n  <i class="{{ctx.iconClass(\'plus\')}}"></i> {{ctx.t(ctx.component.addAnother || \'Add Another\')}}\n</button>\n{% } %}\n'}),e("skylark-formio/templates/bootstrap/editgrid/html.ejs",[],function(){return'<ul class="editgrid-listgroup list-group\n    {{ ctx.component.striped ? \'table-striped\' : \'\'}}\n    {{ ctx.component.bordered ? \'table-bordered\' : \'\'}}\n    {{ ctx.component.hover ? \'table-hover\' : \'\'}}\n    {{ ctx.component.condensed ? \'table-sm\' : \'\'}}\n    ">\n  {% if (ctx.header) { %}\n  <li class="list-group-item list-group-header">\n    {{ctx.header}}\n  </li>\n  {% } %}\n  {% ctx.rows.forEach(function(row, rowIndex) { %}\n  <li class="list-group-item" ref="{{ctx.ref.row}}">\n    {{row}}\n    {% if (ctx.openRows[rowIndex] && !ctx.readOnly) { %}\n    <div class="editgrid-actions">\n      <button class="btn btn-primary" ref="{{ctx.ref.saveRow}}">{{ctx.t(ctx.component.saveRow || \'Save\')}}</button>\n      {% if (ctx.component.removeRow) { %}\n      <button class="btn btn-danger" ref="{{ctx.ref.cancelRow}}">{{ctx.t(ctx.component.removeRow || \'Cancel\')}}</button>\n      {% } %}\n    </div>\n    {% } %}\n    <div class="has-error">\n      <div class="editgrid-row-error help-block">\n        {{ctx.errors[rowIndex]}}\n      </div>\n    </div>\n  </li>\n  {% }) %}\n  {% if (ctx.footer) { %}\n  <li class="list-group-item list-group-footer">\n    {{ctx.footer}}\n  </li>\n  {% } %}\n</ul>\n'}),e("skylark-formio/templates/bootstrap/editgrid/index",["./form.ejs","./html.ejs"],function(e,t){"use strict";return{form:e,html:t}}),e("skylark-formio/templates/bootstrap/field/form.ejs",[],function(){return"{% if (!ctx.label.hidden && ctx.label.labelPosition !== 'bottom') { %}\n  {{ ctx.labelMarkup }}\n{% } %}\n\n{% if (ctx.label.hidden && ctx.label.className && ctx.component.validate.required) { %}\n  <label class=\"{{ctx.label.className}}\"></label>\n{% } %}\n\n{{ctx.element}}\n\n{% if (!ctx.label.hidden && ctx.label.labelPosition === 'bottom') { %}\n  {{ ctx.labelMarkup }}\n{% } %}\n{% if (ctx.component.description) { %}\n  <div class=\"form-text text-muted\">{{ctx.t(ctx.component.description)}}</div>\n{% } %}\n"}),e("skylark-formio/templates/bootstrap/field/align.ejs",[],function(){return'<div class="field-wrapper\n  {{ctx.isRightPosition ? \'field-wrapper--reverse\' : \'\'}}">\n  {% if (!ctx.label.hidden) { %}\n    <div class="field-label\n      {{ctx.isRightAlign ? \'field-label--right\' : \'\'}}"\n      style="{{ctx.labelStyles}}">\n    {{ ctx.labelMarkup }}\n    </div>\n  {% } %}\n\n  {% if (ctx.label.hidden && ctx.label.className && ctx.component.validate.required) { %}\n    <div class="field-label\n      {{ctx.isRightAlign ? \'field-label--right\' : \'\'}}"\n      style="{{ctx.labelStyles}}">\n      <label class="{{ctx.label.className}}"></label>\n    </div>\n  {% } %}\n\n  <div class="filed-content" style="{{ctx.contentStyles}}">\n    {{ctx.element}}\n  </div>\n</div>\n\n{% if (ctx.component.description) { %}\n  <div class="form-text text-muted">{{ctx.t(ctx.component.description)}}</div>\n{% } %}\n'}),e("skylark-formio/templates/bootstrap/field/index",["./form.ejs","./align.ejs"],function(e,t){"use strict";return{form:e,align:t}}),e("skylark-formio/templates/bootstrap/fieldset/form.ejs",[],function(){return'<fieldset>\n  {% if (ctx.component.legend) { %}\n  <legend ref="header" class="{{ctx.component.collapsible ? \'formio-clickable\' : \'\'}}">\n    {{ctx.t(ctx.component.legend)}}\n    {% if (ctx.component.tooltip) { %}\n      <i ref="tooltip" class="{{ctx.iconClass(\'question-sign\')}} text-muted"></i>\n    {% } %}\n  </legend>\n  {% } %}\n  {% if (!ctx.collapsed) { %}\n  <div class="fieldset-body" ref="{{ctx.nestedKey}}">\n    {{ctx.children}}\n  </div>\n  {% } %}\n</fieldset>\n'}),e("skylark-formio/templates/bootstrap/fieldset/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/file/form.ejs",[],function(){return'{% if (!ctx.self.imageUpload) { %}\n  <ul class="list-group list-group-striped">\n    <li class="list-group-item list-group-header hidden-xs hidden-sm">\n      <div class="row">\n        {% if (!ctx.disabled) { %}\n          <div class="col-md-1"></div>\n        {% } %}\n        <div class="col-md-{% if (ctx.self.hasTypes) { %}7{% } else { %}9{% } %}"><strong>{{ctx.t(\'File Name\')}}</strong></div>\n        <div class="col-md-2"><strong>{{ctx.t(\'Size\')}}</strong></div>\n        {% if (ctx.self.hasTypes) { %}\n          <div class="col-md-2"><strong>{{ctx.t(\'Type\')}}</strong></div>\n        {% } %}\n      </div>\n    </li>\n    {% ctx.files.forEach(function(file) { %}\n      <li class="list-group-item">\n        <div class="row">\n          {% if (!ctx.disabled) { %}\n            <div class="col-md-1"><i class="{{ctx.iconClass(\'remove\')}}" ref="removeLink"></i></div>\n          {% } %}\n          <div class="col-md-{% if (ctx.self.hasTypes) { %}7{% } else { %}9{% } %}">\n            {% if (ctx.component.uploadOnly) { %}\n              {{file.originalName || file.name}}\n            {% } else { %}\n              <a href="{{file.url || \'#\'}}" target="_blank" ref="fileLink">{{file.originalName || file.name}}</a>\n            {% } %}\n          </div>\n          <div class="col-md-2">{{ctx.fileSize(file.size)}}</div>\n          {% if (ctx.self.hasTypes && !ctx.disabled) { %}\n            <div class="col-md-2">\n              <select class="file-type" ref="fileType">\n                {% ctx.component.fileTypes.map(function(type) { %}\n                  <option class="test" value="{{ type.value }}" {% if (type.label === file.fileType) { %}selected="selected"{% } %}>{{ type.label }}</option>\n                {% }); %}\n              </select>\n            </div>\n          {% } %}\n          {% if (ctx.self.hasTypes && ctx.disabled) { %}\n          <div class="col-md-2">{{file.fileType}}</div>\n          {% } %}\n        </div>\n      </li>\n    {% }) %}\n  </ul>\n{% } else { %}\n  <div>\n    {% ctx.files.forEach(function(file) { %}\n      <div>\n        <span>\n          <img ref="fileImage" src="" alt="{{file.originalName || file.name}}" style="width:{{ctx.component.imageSize}}px">\n          {% if (!ctx.disabled) { %}\n            <i class="{{ctx.iconClass(\'remove\')}}" ref="removeLink"></i>\n          {% } %}\n        </span>\n      </div>\n    {% }) %}\n  </div>\n{% } %}\n{% if (!ctx.disabled && (ctx.component.multiple || !ctx.files.length)) { %}\n  {% if (ctx.self.useWebViewCamera) { %}\n    <div class="fileSelector">\n      <button class="btn btn-primary" ref="galleryButton"><i class="fa fa-book"></i> {{ctx.t(\'Gallery\')}}</button>\n      <button class="btn btn-primary" ref="cameraButton"><i class="fa fa-camera"></i> {{ctx.t(\'Camera\')}}</button>\n    </div>\n  {% } else if (!ctx.self.cameraMode) { %}\n    <div class="fileSelector" ref="fileDrop">\n      <i class="{{ctx.iconClass(\'cloud-upload\')}}"></i> {{ctx.t(\'Drop files to attach,\')}}\n        {% if (ctx.self.imageUpload) { %}\n          <a href="#" ref="toggleCameraMode"><i class="fa fa-camera"></i> {{ctx.t(\'Use Camera,\')}}</a>\n        {% } %}\n        {{ctx.t(\'or\')}} <a href="#" ref="fileBrowse" class="browse">{{ctx.t(\'browse\')}}</a>\n    </div>\n  {% } else { %}\n    <div>\n      <video class="video" autoplay="true" ref="videoPlayer"></video>\n    </div>\n    <button class="btn btn-primary" ref="takePictureButton"><i class="fa fa-camera"></i> {{ctx.t(\'Take Picture\')}}</button>\n    <button class="btn btn-primary" ref="toggleCameraMode">{{ctx.t(\'Switch to file upload\')}}</button>\n  {% } %}\n{% } %}\n{% ctx.statuses.forEach(function(status) { %}\n  <div class="file {{ctx.statuses.status === \'error\' ? \' has-error\' : \'\'}}">\n    <div class="row">\n      <div class="fileName col-form-label col-sm-10">{{status.originalName}} <i class="{{ctx.iconClass(\'remove\')}}" ref="fileStatusRemove"></i></div>\n      <div class="fileSize col-form-label col-sm-2 text-right">{{ctx.fileSize(status.size)}}</div>\n    </div>\n    <div class="row">\n      <div class="col-sm-12">\n        {% if (status.status === \'progress\') { %}\n          <div class="progress">\n            <div class="progress-bar" role="progressbar" aria-valuenow="{{status.progress}}" aria-valuemin="0" aria-valuemax="100" style="width: {{status.progress}}%">\n              <span class="sr-only">{{status.progress}}% {{ctx.t(\'Complete\')}}</span>\n            </div>\n          </div>\n        {% } else { %}\n          <div class="bg-{{status.status}}">{{ctx.t(status.message)}}</div>\n        {% } %}\n      </div>\n    </div>\n  </div>\n{% }) %}\n{% if (!ctx.component.storage || ctx.support.hasWarning) { %}\n  <div class="alert alert-warning">\n    {% if (!ctx.component.storage) { %}\n      <p>{{ctx.t(\'No storage has been set for this field. File uploads are disabled until storage is set up.\')}}</p>\n    {% } %}\n    {% if (!ctx.support.filereader) { %}\n      <p>{{ctx.t(\'File API & FileReader API not supported.\')}}</p>\n    {% } %}\n    {% if (!ctx.support.formdata) { %}\n      <p>{{ctx.t("XHR2\'s FormData is not supported.")}}</p>\n    {% } %}\n    {% if (!ctx.support.progress) { %}\n      <p>{{ctx.t("XHR2\'s upload progress isn\'t supported.")}}</p>\n    {% } %}\n  </div>\n{% } %}\n'}),e("skylark-formio/templates/bootstrap/file/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/html/form.ejs",[],function(){return'<{{ctx.tag}} class="{{ ctx.component.className }}" ref="html"\n  {% ctx.attrs.forEach(function(attr) { %}\n    {{attr.attr}}="{{attr.value}}"\n  {% }) %}\n>{{ctx.content}}{% if (!ctx.singleTags || ctx.singleTags.indexOf(ctx.tag) === -1) { %}</{{ctx.tag}}>{% } %}\n'}),e("skylark-formio/templates/bootstrap/html/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/icon/form.ejs",[],function(){return'<i ref="{{ctx.ref}}" class="{{ctx.className}}" style="{{ctx.styles}}">{{ctx.content}}</i>\n'}),e("skylark-formio/templates/bootstrap/icon/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/iconClass",[],function(){"use strict";return(e,t,n)=>{if("fa"===e)switch(t){case"save":t="download";break;case"zoom-in":t="search-plus";break;case"zoom-out":t="search-minus";break;case"question-sign":t="question-circle";break;case"remove-circle":t="times-circle-o";break;case"new-window":t="window-restore";break;case"move":t="arrows";break;case"time":t="clock-o"}return n?`${e} ${e}-${t} ${e}-spin`:`${e} ${e}-${t}`}}),e("skylark-formio/templates/bootstrap/input/form.ejs",[],function(){return'{% if (ctx.component.prefix || ctx.component.suffix) { %}\n<div class="input-group">\n{% } %}\n{% if (ctx.component.prefix) { %}\n<div class="input-group-prepend" ref="prefix">\n  <span class="input-group-text">\n    {{ctx.component.prefix}}\n  </span>\n</div>\n{% } %}\n<{{ctx.input.type}}\n  ref="{{ctx.input.ref ? ctx.input.ref : \'input\'}}"\n  {% for (var attr in ctx.input.attr) { %}\n  {{attr}}="{{ctx.input.attr[attr]}}"\n  {% } %}\n>{{ctx.input.content}}</{{ctx.input.type}}>\n{% if (ctx.component.showCharCount) { %}\n<span class="text-muted pull-right" ref="charcount"></span>\n{% } %}\n{% if (ctx.component.showWordCount) { %}\n<span class="text-muted pull-right" ref="wordcount"></span>\n{% } %}\n{% if (ctx.component.suffix) { %}\n<div class="input-group-append" ref="suffix">\n  <span class="input-group-text">\n    {{ctx.component.suffix}}\n  </span>\n</div>\n{% } %}\n{% if (ctx.component.prefix || ctx.component.suffix) { %}\n</div>\n{% } %}\n'}),e("skylark-formio/templates/bootstrap/input/html.ejs",[],function(){return'<div ref="value">{% if (ctx.value) { %}{{ctx.value}}{% } else { %}-{% } %}</div>\n'}),e("skylark-formio/templates/bootstrap/input/index",["./form.ejs","./html.ejs"],function(e,t){"use strict";return{form:e,html:t}}),e("skylark-formio/templates/bootstrap/label/form.ejs",[],function(){return'<label class="col-form-label {{ctx.label.className}}">\n  {{ ctx.t(ctx.component.label) }}\n  {% if (ctx.component.tooltip) { %}\n    <i ref="tooltip" class="{{ctx.iconClass(\'question-sign\')}} text-muted"></i>\n  {% } %}\n</label>\n'}),e("skylark-formio/templates/bootstrap/label/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/loader/form.ejs",[],function(){return'<div class="formio-loader">\n  <div class="loader-wrapper">\n    <div class="loader text-center"></div>\n  </div> \n</div>\n'}),e("skylark-formio/templates/bootstrap/loader/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/loading/form.ejs",[],function(){return"Loading...\n"}),e("skylark-formio/templates/bootstrap/loading/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/map/form.ejs",[],function(){return'<div id="{{ctx.mapId}}" style="min-height: 300px; height: calc(100vh - 600px);" ref="gmapElement"></div>\n'}),e("skylark-formio/templates/bootstrap/map/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/message/form.ejs",[],function(){return'<div class="form-text {{ctx.level}}">{{ctx.message}}</div>\n'}),e("skylark-formio/templates/bootstrap/message/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/multipleMasksInput/form.ejs",[],function(){return'<div\n  class="input-group formio-multiple-mask-container"\n  ref="{{ctx.input.ref ? ctx.input.ref : \'input\'}}"\n>\n  <select\n    class="form-control formio-multiple-mask-select"\n    id="{{ctx.key}}-mask"\n    ref="select">\n    {% ctx.selectOptions.forEach(function(option) { %}\n    <option value="{{option.value}}">{{option.label}}</option>\n    {% }); %}\n  </select>\n  <input\n    ref="mask"\n    {% for (var attr in ctx.input.attr) { %}\n    {{attr}}="{{ctx.input.attr[attr]}}"\n    {% } %}\n  >\n</div>\n'}),e("skylark-formio/templates/bootstrap/multipleMasksInput/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/multiValueRow/form.ejs",[],function(){return'<tr ref="row">\n  <td>\n    {{ctx.element}}\n  </td>\n  {% if (!ctx.disabled) { %}\n  <td>\n    <button type="button" class="btn btn-secondary" ref="removeRow">\n      <i class="{{ctx.iconClass(\'remove-circle\')}}"></i>\n    </button>\n  </td>\n  {% } %}\n</tr>\n'}),e("skylark-formio/templates/bootstrap/multiValueRow/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/multiValueTable/form.ejs",[],function(){return'<table class="table table-bordered">\n  <tbody>\n  {{ctx.rows}}\n  {% if (!ctx.disabled) { %}\n  <tr>\n    <td colspan="2">\n      <button class="btn btn-primary formio-button-add-another" ref="addButton"><i class="{{ctx.iconClass(\'plus\')}}"></i> {{ctx.t(ctx.addAnother)}}</button>\n    </td>\n  </tr>\n  {% } %}\n  </tbody>\n</table>\n'}),e("skylark-formio/templates/bootstrap/multiValueTable/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/panel/form.ejs",[],function(){return'<div class="mb-2 card border">\n  <div class="card-header {{ctx.transform(\'class\', \'bg-\' + ctx.component.theme)}}" ref="header">\n    <span class="mb-0 card-title">\n      {% if (ctx.component.collapsible) { %}\n        <i class="formio-collapse-icon {{ctx.iconClass(ctx.collapsed ? \'plus-square-o\' : \'minus-square-o\')}} text-muted" data-title="Collapse Panel"></i>\n      {% } %}\n      {{ctx.t(ctx.component.title)}}\n      {% if (ctx.component.tooltip) { %}\n        <i ref="tooltip" class="{{ctx.iconClass(\'question-sign\')}} text-muted"></i>\n      {% } %}\n    </span>\n  </div>\n  {% if (!ctx.collapsed || ctx.builder) { %}\n  <div class="card-body" ref="{{ctx.nestedKey}}">\n    {{ctx.children}}\n  </div>\n  {% } %}\n</div>\n'}),e("skylark-formio/templates/bootstrap/panel/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/pdf/form.ejs",[],function(){return'<div class="{{ctx.classes}}" ref="webform">\n\t<span data-noattach="true" ref="zoomIn" style="position:absolute;right:10px;top:10px;cursor:pointer;" class="btn btn-default btn-secondary no-disable">\n\t\t<i class="{{ ctx.iconClass(\'zoom-in\') }}"></i>\n\t</span>\n\t<span data-noattach="true" ref="zoomOut" style="position:absolute;right:10px;top:60px;cursor:pointer;" class="btn btn-default btn-secondary no-disable">\n\t\t<i class="{{ ctx.iconClass(\'zoom-out\') }}"></i>\n\t</span>\n  <div data-noattach="true" ref="iframeContainer"></div>\n  <button type="button" class="btn btn-primary" ref="submitButton">{{ctx.t(\'Submit\')}}</button>\n</div>\n'}),e("skylark-formio/templates/bootstrap/pdf/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/pdfBuilder/form.ejs",[],function(){return'<div class="formio builder row formbuilder">\n  <div class="col-xs-4 col-sm-3 col-md-2 formcomponents">\n    {{ctx.sidebar}}\n  </div>\n  <div class="col-xs-8 col-sm-9 col-md-10 formarea" ref="form">\n\t  <div class="formio-drop-zone" ref="iframeDropzone"></div>\n    {{ctx.form}}\n  </div>\n</div>\n'}),e("skylark-formio/templates/bootstrap/pdfBuilder/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/pdfBuilderUpload/form.ejs",[],function(){return'<div class="pdf-upload formio-component-file">\n  <h3 class="label">{{ctx.t(\'Upload a PDF File\')}}</h3>\n  <input type="file" style="opacity: 0; position: absolute;" tabindex="-1" accept=".pdf" ref="hiddenFileInputElement">\n  <div class="fileSelector" ref="fileDrop">\n    <i class="{{ctx.iconClass(\'cloud-upload\')}}"></i>{{ctx.t(\'Drop pdf to start, or\')}} <a href="#" ref="fileBrowse" class="browse">{{ctx.t(\'browse\')}}</a>\n  </div>\n  <div class="alert alert-danger" ref="uploadError">\n\n  </div>\n</div>\n\n'}),e("skylark-formio/templates/bootstrap/pdfBuilderUpload/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/radio/form.ejs",[],function(){return'<div class="form-radio radio">\n  {% ctx.values.forEach(function(item) { %}\n  <div class="form-check{{ctx.inline ? \'-inline\' : \'\'}}" ref="wrapper">\n    <label class="form-check-label label-position-{{ ctx.component.optionsLabelPosition }}" for="{{ctx.id}}{{ctx.row}}-{{item.value}}">\n      {% if (ctx.component.optionsLabelPosition === \'left\' || ctx.component.optionsLabelPosition === \'top\') { %}\n      <span>{{ctx.t(item.label)}}</span>\n      {% } %}\n      <{{ctx.input.type}}\n        ref="input"\n        {% for (var attr in ctx.input.attr) { %}\n        {{attr}}="{{ctx.input.attr[attr]}}"\n        {% } %}\n        value="{{item.value}}"\n        {% if (ctx.value && (ctx.value === item.value || (typeof ctx.value === \'object\' && ctx.value.hasOwnProperty(item.value) && ctx.value[item.value]))) { %}\n          checked=true\n        {% } %}\n        {% if (item.disabled) { %}\n          disabled=true\n        {% } %}\n        id="{{ctx.id}}{{ctx.row}}-{{item.value}}"\n      >\n      {% if (!ctx.component.optionsLabelPosition || ctx.component.optionsLabelPosition === \'right\' || ctx.component.optionsLabelPosition === \'bottom\') { %}\n      <span>{{ctx.t(item.label)}}</span>\n      {% } %}\n    </label>\n  </div>\n  {% }) %}\n</div>\n'}),e("skylark-formio/templates/bootstrap/radio/html.ejs",[],function(){return"<div ref=\"value\">\n  {% var filtered = ctx.values.filter(function(item) {return ctx.value === item.value || (typeof ctx.value === 'object' && ctx.value.hasOwnProperty(item.value) && ctx.value[item.value])}).map(function(item) { return ctx.t(item.label)}).join(', ') %}\n  {{ filtered }}\n  </div>\n"}),e("skylark-formio/templates/bootstrap/radio/index",["./form.ejs","./html.ejs"],function(e,t){"use strict";return{form:e,html:t}}),e("skylark-formio/templates/bootstrap/resourceAdd/form.ejs",[],function(){return'<table class="table table-bordered">\n  <tbody>\n    <tr>\n      <td>\n        {{ctx.element}}\n      </td>\n    </tr>\n    <tr>\n      <td colspan="2">\n        <button class="btn btn-primary formio-button-add-resource" ref="addResource">\n          <i class="{{ctx.iconClass(\'plus\')}}"></i>\n          {{ctx.t(ctx.component.addResourceLabel || \'Add Resource\')}}\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'}),e("skylark-formio/templates/bootstrap/resourceAdd/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/select/form.ejs",[],function(){return'<select\n  ref="{{ctx.input.ref ? ctx.input.ref : \'selectContainer\'}}"\n  {{ ctx.input.multiple ? \'multiple\' : \'\' }}\n  {% for (var attr in ctx.input.attr) { %}\n  {{attr}}="{{ctx.input.attr[attr]}}"\n  {% } %}\n>{{ctx.selectOptions}}</select>\n<input type="text"\n       class="formio-select-autocomplete-input"\n       ref="autocompleteInput"\n       {% if (ctx.input.attr.autocomplete) { %}\n       autocomplete="{{ctx.input.attr.autocomplete}}"\n       {% } %}\n       tabindex="-1"\n/>\n'}),e("skylark-formio/templates/bootstrap/select/html.ejs",[],function(){return'<div ref="value">{% if (ctx.value) { %}{{ ctx.self.itemValueForHTMLMode(ctx.value) }}{% } else { %}-{% } %}</div>\n'}),e("skylark-formio/templates/bootstrap/select/index",["./form.ejs","./html.ejs"],function(e,t){"use strict";return{form:e,html:t}}),e("skylark-formio/templates/bootstrap/selectOption/form.ejs",[],function(){return'<option {{ ctx.selected ? \'selected="selected"\' : \'\' }}\n  value="{{ctx.useId ? ctx.id : ctx.option.value}}"\n  {% for (var attr in ctx.attrs) { %}\n  {{attr}}="{{ctx.attrs[attr]}}"\n  {% } %}\n  >\n  {{ctx.t(ctx.option.label)}}\n</option>\n'}),e("skylark-formio/templates/bootstrap/selectOption/html.ejs",[],function(){return"{% if (ctx.selected) { %}{{ctx.t(ctx.option.label)}}{% } %}\n"}),e("skylark-formio/templates/bootstrap/selectOption/index",["./form.ejs","./html.ejs"],function(e,t){"use strict";return{form:e,html:t}}),e("skylark-formio/templates/bootstrap/signature/form.ejs",[],function(){return'{{ctx.element}}\n<div\n  class="signature-pad-body"\n  style="width: {{ctx.component.width}};height: {{ctx.component.height}};padding:0;margin:0;"\n  tabindex="{{ctx.component.tabindex || 0}}"\n  ref="padBody"\n>\n  <a class="btn btn-sm btn-light signature-pad-refresh" ref="refresh">\n    <i class="{{ctx.iconClass(\'refresh\')}}"></i>\n  </a>\n  <canvas class="signature-pad-canvas" height="{{ctx.component.height}}" ref="canvas"></canvas>\n  {% if (ctx.required) { %}\n  <span class="form-control-feedback field-required-inline text-danger">\n    <i class="{{ctx.iconClass(\'asterisk\')}}"></i>\n  </span>\n  {% } %}\n  <img style="width: 100%;display: none;" ref="signatureImage">\n</div>\n{% if (ctx.component.footer) { %}\n  <div class="signature-pad-footer">\n    {{ctx.t(ctx.component.footer)}}\n  </div>\n{% } %}\n'}),e("skylark-formio/templates/bootstrap/signature/html.ejs",[],function(){return'<img style="width: 100%;" ref="signatureImage">\n'}),e("skylark-formio/templates/bootstrap/signature/index",["./form.ejs","./html.ejs"],function(e,t){"use strict";return{form:e,html:t}}),e("skylark-formio/templates/bootstrap/survey/form.ejs",[],function(){return'<table class="table table-striped table-bordered">\n  <thead>\n    <tr>\n      <th></th>\n      {% ctx.component.values.forEach(function(value) { %}\n      <th style="text-align: center;">{{ctx.t(value.label)}}</th>\n      {% }) %}\n    </tr>\n  </thead>\n  <tbody>\n    {% ctx.component.questions.forEach(function(question) { %}\n    <tr>\n      <td>{{ctx.t(question.label)}}</td>\n      {% ctx.component.values.forEach(function(value) { %}\n      <td style="text-align: center;">\n        <input type="radio" name="{{ ctx.self.getInputName(question) }}" value="{{value.value}}" id="{{ctx.key}}-{{question.value}}-{{value.value}}" ref="input">\n      </td>\n      {% }) %}\n    </tr>\n    {% }) %}\n  </tbody>\n</table>\n'}),e("skylark-formio/templates/bootstrap/survey/html.ejs",[],function(){return'<table class="table table-striped table-bordered">\n  <tbody>\n    {% ctx.component.questions.forEach(function(question) { %}\n    <tr>\n      <th>{{ctx.t(question.label)}}</th>\n      <td>\n      {% ctx.component.values.forEach(function(item) { %}\n        {% if (ctx.value && ctx.value.hasOwnProperty(question.value) && ctx.value[question.value] === item.value) { %}\n          {{ctx.t(item.label)}}\n        {% } %}\n      {% }) %}\n      </td>\n    </tr>\n    {% }) %}\n  </tbody>\n</table>\n'}),e("skylark-formio/templates/bootstrap/survey/index",["./form.ejs","./html.ejs"],function(e,t){"use strict";return{form:e,html:t}}),e("skylark-formio/templates/bootstrap/tab/flat.ejs",[],function(){return'{% ctx.component.components.forEach(function(tab, index) { %}\n  <div class="mb-2 card border">\n    <div class="card-header bg-default">\n      <h4 class="mb-0 card-title">{{ ctx.t(tab.label) }}</h4>\n    </div>\n    <div class="card-body">\n      {{ ctx.tabComponents[index] }}\n    </div>\n  </div>\n{% }) %}\n'}),e("skylark-formio/templates/bootstrap/tab/form.ejs",[],function(){return'<div class="card">\n  <div class="card-header">\n    <ul class="nav nav-tabs card-header-tabs">\n      {% ctx.component.components.forEach(function(tab, index) { %}\n      <li class="nav-item{{ ctx.currentTab === index ? \' active\' : \'\'}}" role="presentation" ref="{{ctx.tabLikey}}">\n        <a class="nav-link{{ ctx.currentTab === index ? \' active\' : \'\'}}" href="#{{tab.key}}" ref="{{ctx.tabLinkKey}}">{{ctx.t(tab.label)}}</a>\n      </li>\n      {% }) %}\n    </ul>\n  </div>\n  {% ctx.component.components.forEach(function(tab, index) { %}\n  <div\n    role="tabpanel"\n    class="card-body tab-pane{{ ctx.currentTab === index ? \' active\' : \'\'}}"\n    style="display: {{ctx.currentTab === index ? \'block\' : \'none\'}}"\n    ref="{{ctx.tabKey}}"\n  >\n    {{ctx.tabComponents[index]}}\n  </div>\n  {% }) %}\n</div>\n'}),e("skylark-formio/templates/bootstrap/tab/index",["./flat.ejs","./form.ejs"],function(e,t){"use strict";return{flat:e,form:t}}),e("skylark-formio/templates/bootstrap/table/form.ejs",[],function(){return"<table class=\"table\n    {{ ctx.component.striped ? 'table-striped' : ''}}\n    {{ ctx.component.bordered ? 'table-bordered' : ''}}\n    {{ ctx.component.hover ? 'table-hover' : ''}}\n    {{ ctx.component.condensed ? 'table-sm' : ''}}\n  \">\n  {% if (ctx.component.header && ctx.component.header.length > 0) { %}\n  <thead>\n    <tr>\n      {% ctx.component.header.forEach(function(header) { %}\n      <th>{{ctx.t(header)}}</th>\n      {% }) %}\n    </tr>\n  </thead>\n  {% } %}\n  <tbody>\n    {% ctx.tableComponents.forEach(function(row, rowIndex) { %}\n    <tr ref=\"row-{{ctx.id}}\">\n      {% row.forEach(function(column, colIndex) { %}\n      <td ref=\"{{ctx.tableKey}}-{{rowIndex}}\"{% if (ctx.cellClassName) { %} class=\"{{ctx.cellClassName}}\"{% } %}>{{column}}</td>\n      {% }) %}\n    </tr>\n    {% }) %}\n  </tbody>\n</table>\n"}),e("skylark-formio/templates/bootstrap/table/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/tree/form.ejs",[],function(){return'{% if (ctx.node.isRoot) { %}\n  <div ref="root" class="list-group-item">\n{% } else { %}\n  <li ref="node" class="list-group-item col-sm-12 tree__level tree__level_{{ ctx.odd ? \'odd\' : \'even\' }}">\n{% } %}\n  {% if (ctx.content) { %}\n    <div ref="content" class="tree__node-content">\n      {{ ctx.content }}\n    </div>\n  {% } %}\n  {% if (ctx.childNodes && ctx.childNodes.length) { %}\n    <ul ref="childNodes" class="tree__node-children list-group row">\n      {{ ctx.childNodes.join(\'\') }}\n    </ul>\n  {% } %}\n{% if (ctx.node.isRoot) { %}\n  </div>\n{% } else { %}\n  </li>\n{% } %}\n'}),e("skylark-formio/templates/bootstrap/tree/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/tree/partials/edit.ejs",[],function(){return'<div class="node-edit">\n  <div ref="nodeEdit">{{ ctx.children }}</div>\n  {% if (!ctx.readOnly) { %}\n    <div class="node-actions">\n      <button ref="saveNode" class="btn btn-primary saveNode">{{ ctx.t(\'Save\') }}</button>\n      <button ref="cancelNode" class="btn btn-danger cancelNode">{{ ctx.t(\'Cancel\') }}</button>\n    </div>\n  {% } %}\n</div>\n'}),e("skylark-formio/templates/bootstrap/tree/partials/view.ejs",[],function(){return'<div class="row">\n  {% ctx.values.forEach(function(value) { %}\n    <div class="col-sm-2">\n      {{ value }}\n    </div>\n  {% }) %}\n  <div class="col-sm-3">\n    <div class="btn-group pull-right">\n      {% if (ctx.node.hasChildren) { %}\n        <button ref="toggleNode" class="btn btn-default btn-sm toggleNode">{{ ctx.t(ctx.node.collapsed ? \'Expand\' : \'Collapse\') }}</button>\n      {% } %}\n      {% if (!ctx.readOnly) { %}\n        <button ref="addChild" class="btn btn-default btn-sm addChild">{{ ctx.t(\'Add\') }}</button>\n        <button ref="editNode" class="btn btn-default btn-sm editNode">{{ ctx.t(\'Edit\') }}</button>\n        <button ref="removeNode" class="btn btn-danger btn-sm removeNode">{{ ctx.t(\'Delete\') }}</button>\n        {% if (ctx.node.revertAvailable) { %}\n          <button ref="revertNode" class="btn btn-danger btn-sm revertNode">{{ ctx.t(\'Revert\') }}</button>\n        {% } %}\n      {% } %}\n    </div>\n  </div>\n</div>\n'}),e("skylark-formio/templates/bootstrap/tree/partials/index",["./edit.ejs","./view.ejs"],function(e,t){"use strict";return{treeView:{form:t},treeEdit:{form:e}}}),e("skylark-formio/templates/bootstrap/webform/form.ejs",[],function(){return'<div class="{{ctx.classes}}" ref="webform" novalidate>{{ctx.children}}</div>\n'}),e("skylark-formio/templates/bootstrap/webform/builder.ejs",[],function(){return'<div class="text-muted text-center p-2">{{ ctx.t(ctx.component.title) }}</div>\n'}),e("skylark-formio/templates/bootstrap/webform/index",["./form.ejs","./builder.ejs"],function(e,t){"use strict";return{form:e,builder:t}}),e("skylark-formio/templates/bootstrap/well/form.ejs",[],function(){return'<div class="card card-body bg-light">\n  <div ref="{{ctx.nestedKey}}">\n    {{ctx.children}}\n  </div>\n</div>\n'}),e("skylark-formio/templates/bootstrap/well/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/wizard/form.ejs",[],function(){return'<div class="{{ctx.className}}">\n  <div style="position: relative;">\n    {{ ctx.wizardHeader }}\n    <div class="wizard-page" ref="{{ctx.wizardKey}}">\n      {{ctx.components}}\n    </div>\n    {{ ctx.wizardNav }}\n  </div>\n</div>'}),e("skylark-formio/templates/bootstrap/wizard/builder.ejs",[],function(){return'<div class="text-muted text-center p-2">{{ ctx.t(ctx.component.title) }}</div>\n'}),e("skylark-formio/templates/bootstrap/wizard/index",["./form.ejs","./builder.ejs"],function(e,t){"use strict";return{form:e,builder:t}}),e("skylark-formio/templates/bootstrap/wizardHeader/form.ejs",[],function(){return'<nav aria-label="navigation" id="{{ ctx.wizardKey }}-header">\n  <ul class="pagination">\n    {% ctx.panels.forEach(function(panel, index) { %}\n    <li class="page-item{{ctx.currentPage === index ? \' active\' : \'\'}}" style="">\n      <span class="page-link" ref="{{ctx.wizardKey}}-link">{{panel.title}}</span>\n    </li>\n    {% }) %}\n  </ul>\n</nav>\n'}),e("skylark-formio/templates/bootstrap/wizardHeader/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/wizardNav/form.ejs",[],function(){return'<ul class="list-inline" id="{{ ctx.wizardKey }}-nav">\n  {% if (ctx.buttons.cancel) { %}\n  <li class="list-inline-item">\n    <button class="btn btn-secondary btn-wizard-nav-cancel" ref="{{ctx.wizardKey}}-cancel">{{ctx.t(\'cancel\')}}</button>\n  </li>\n  {% } %}\n  {% if (ctx.buttons.previous) { %}\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-previous" ref="{{ctx.wizardKey}}-previous">{{ctx.t(\'previous\')}}</button>\n  </li>\n  {% } %}\n  {% if (ctx.buttons.next) { %}\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-next" ref="{{ctx.wizardKey}}-next">{{ctx.t(\'next\')}}</button>\n  </li>\n  {% } %}\n  {% if (ctx.buttons.submit) { %}\n  <li class="list-inline-item">\n    <button class="btn btn-primary btn-wizard-nav-submit" ref="{{ctx.wizardKey}}-submit">{{ctx.t(\'submit\')}}</button>\n  </li>\n  {% } %}\n</ul>\n'}),e("skylark-formio/templates/bootstrap/wizardNav/index",["./form.ejs"],function(e){"use strict";return{form:e}}),e("skylark-formio/templates/bootstrap/cssClasses",[],function(){"use strict";return{"border-default":"","formio-tab-panel-active":"active","formio-tab-link-active":"active","formio-tab-link-container-active":"active"}}),e("skylark-formio/templates/bootstrap/index",["./address/index","./builder/index","./builderComponent/index","./builderComponents/index","./builderEditForm/index","./builderPlaceholder/index","./builderSidebar/index","./builderSidebarGroup/index","./builderWizard/index","./button/index","./checkbox/index","./columns/index","./component/index","./componentModal/index","./components/index","./container/index","./datagrid/index","./day/index","./dialog/index","./editgrid/index","./field/index","./fieldset/index","./file/index","./html/index","./icon/index","./iconClass","./input/index","./label/index","./loader/index","./loading/index","./map/index","./message/index","./multipleMasksInput/index","./multiValueRow/index","./multiValueTable/index","./panel/index","./pdf/index","./pdfBuilder/index","./pdfBuilderUpload/index","./radio/index","./resourceAdd/index","./select/index","./selectOption/index","./signature/index","./survey/index","./tab/index","./table/index","./tree/index","./tree/partials/index","./webform/index","./well/index","./wizard/index","./wizardHeader/index","./wizardNav/index","./cssClasses"],function(e,t,n,i,r,s,o,a,l,u,c,h,d,p,f,m,g,y,v,b,k,w,x,_,C,E,S,A,M,T,D,O,P,L,I,R,F,V,N,j,z,U,$,H,B,q,Y,W,K,G,J,Z,X,Q,ee){"use strict";return{transform(e,t){if(!t)return t;switch(e){case"class":return this.cssClasses.hasOwnProperty(t.toString())?this.cssClasses[t.toString()]:t}return t},defaultIconset:"fa",iconClass:E,cssClasses:ee,address:e,builder:t,builderComponent:n,builderComponents:i,builderEditForm:r,builderPlaceholder:s,builderSidebar:o,builderSidebarGroup:a,builderWizard:l,button:u,checkbox:c,columns:h,component:d,componentModal:p,components:f,container:m,datagrid:g,day:y,dialog:v,editgrid:b,field:k,fieldset:w,file:x,html:_,icon:C,input:S,label:A,loader:M,loading:T,map:D,message:O,multipleMasksInput:P,multiValueRow:L,multiValueTable:I,panel:R,pdf:F,pdfBuilder:V,pdfBuilderUpload:N,radio:j,resourceAdd:z,select:U,selectOption:$,signature:H,survey:B,tab:q,table:Y,tree:W,...K,webform:G,well:J,wizard:Z,wizardHeader:X,wizardNav:Q}}),e("skylark-formio/templates/index",["./bootstrap/index"],function(e,t,n){"use strict";return{bootstrap:e}}),e("skylark-formio/templates/Templates",["./index","skylark-lodash"],function(e,t){"use strict";return class n{static get templates(){return n._templates||(n._templates=e),n._templates}static addTemplate(e,t){n.templates[e]=t}static extendTemplate(e,i){n.templates[e]=t.merge({},n.templates[e],i)}static setTemplate(e,t){n.addTemplate(e,t)}static set current(e){const i=n.current;n._current=t.merge({},i,e)}static get current(){return n._current?n._current:n.defaultTemplates}static get defaultTemplates(){return n.templates.bootstrap}static set framework(e){n.templates.hasOwnProperty(e)&&(n._framework=e,n._current=n.templates[e])}static get framework(){return n._framework}}}),e("skylark-i18next/logger",[],function(){"use strict";const e={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class t{constructor(e,t={}){this.init(e,t)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||e,this.options=n,this.debug=n.debug}setDebug(e){this.debug=e}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new t(this.logger,{...{prefix:`${this.prefix}:${e}:`},...this.options})}}return new t}),e("skylark-i18next/EventEmitter",[],function(){"use strict";return class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)}),this}off(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(e=>e!==t):delete this.observers[e])}emit(e,...t){if(this.observers[e]){const n=[].concat(this.observers[e]);n.forEach(e=>{e(...t)})}if(this.observers["*"]){const n=[].concat(this.observers["*"]);n.forEach(n=>{n.apply(n,[e,...t])})}}}}),e("skylark-i18next/utils",[],function(){"use strict";function e(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}const s="string"!=typeof t?[].concat(t):t.split(".");for(;s.length>1;){if(r())return{};const t=i(s.shift());!e[t]&&n&&(e[t]=new n),e=e[t]}return r()?{}:{obj:e,k:i(s.shift())}}function t(t,n){const{obj:i,k:r}=e(t,n);if(i)return i[r]}var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const i="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;return{defer:function(){let e,t;const n=new Promise((n,i)=>{e=n,t=i});return n.resolve=e,n.reject=t,n},makeString:function(e){return null==e?"":""+e},copy:function(e,t,n){e.forEach(e=>{t[e]&&(n[e]=t[e])})},setPath:function(t,n,i){const{obj:r,k:s}=e(t,n,Object);r[s]=i},pushPath:function(t,n,i,r){const{obj:s,k:o}=e(t,n,Object);s[o]=s[o]||[],r&&(s[o]=s[o].concat(i));r||s[o].push(i)},getPath:t,getPathWithDefaults:function(e,n,i){const r=t(e,i);if(void 0!==r)return r;return t(n,i)},deepExtend:function e(t,n,i){for(const r in n)"__proto__"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof n[r]||n[r]instanceof String?i&&(t[r]=n[r]):e(t[r],n[r],i):t[r]=n[r]);return t},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},escape:function(e){if("string"==typeof e)return e.replace(/[&<>"'\/]/g,e=>n[e]);return e},isIE10:i}}),e("skylark-i18next/ResourceStore",["./EventEmitter","./utils"],function(e,t){"use strict";return class extends e{constructor(n,i={ns:["translation"],defaultNS:"translation"}){super(),t.isIE10&&e.call(this),this.data=n||{},this.options=i,void 0===this.options.keySeparator&&(this.options.keySeparator=".")}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,n,i,r={}){const s=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let o=[e,n];return i&&"string"!=typeof i&&(o=o.concat(i)),i&&"string"==typeof i&&(o=o.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(o=e.split(".")),t.getPath(this.data,o)}addResource(e,n,i,r,s={silent:!1}){let o=this.options.keySeparator;void 0===o&&(o=".");let a=[e,n];i&&(a=a.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(a=e.split("."),r=n,n=a[1]),this.addNamespaces(n),t.setPath(this.data,a,r),s.silent||this.emit("added",e,n,i,r)}addResources(e,t,n,i={silent:!1}){for(const i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,n,i,r,s,o={silent:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),r=i,i=n,n=a[1]),this.addNamespaces(n);let l=t.getPath(this.data,a)||{};r?t.deepExtend(l,i,s):l={...l,...i},t.setPath(this.data,a,l),o.silent||this.emit("added",e,n,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...{},...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}toJSON(){return this.data}}}),e("skylark-i18next/postProcessor",[],function(){"use strict";return{processors:{},addPostProcessor(module){this.processors[module.name]=module},handle(e,t,n,i,r){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,r))}),t}}}),e("skylark-i18next/Translator",["./logger","./EventEmitter","./postProcessor","./utils"],function(e,t,n,i){"use strict";const r={};return class extends t{constructor(n,r={}){super(),i.isIE10&&t.call(this),i.copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=r,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=e.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:r};const s=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(s[0])>-1)&&(r=s.shift()),e=s.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:r,namespaces:s}=this.extractFromKey(e[e.length-1],t),o=s[s.length-1],a=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a&&"cimode"===a.toLowerCase()){if(l){const e=t.nsSeparator||this.options.nsSeparator;return o+e+r}return r}const u=this.resolve(e,t);let c=u&&u.res;const h=u&&u.usedKey||r,d=u&&u.exactUsedKey||r,p=Object.prototype.toString.apply(c),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,g="string"!=typeof c&&"boolean"!=typeof c&&"number"!=typeof c;if(m&&c&&g&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0&&("string"!=typeof f||"[object Array]"!==p)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,c,t):`key '${r} (${this.language})' returned an object instead of string.`;if(i){const e="[object Array]"===p,n=e?[]:{};let r=e?d:h;for(const e in c)if(Object.prototype.hasOwnProperty.call(c,e)){const o=`${r}${i}${e}`;n[e]=this.translate(o,{...t,...{joinArrays:!1,ns:s}}),n[e]===o&&(n[e]=c[e])}c=n}}else if(m&&"string"==typeof f&&"[object Array]"===p)(c=c.join(f))&&(c=this.extendTranslation(c,e,t,n));else{let s=!1,l=!1;if(!this.isValidLookup(c)&&void 0!==t.defaultValue){if(s=!0,void 0!==t.count){const e=this.pluralResolver.getSuffix(a,t.count);c=t[`defaultValue${e}`]}c||(c=t.defaultValue)}this.isValidLookup(c)||(l=!0,c=r);const h=t.defaultValue&&t.defaultValue!==c&&this.options.updateMissing;if(l||s||h){if(this.logger.log(h?"updateKey":"missingKey",a,o,r,h?t.defaultValue:c),i){const e=this.resolve(r,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const s=(e,n)=>{this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,n,h?t.defaultValue:c,h,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,n,h?t.defaultValue:c,h,t),this.emit("missingKey",e,o,n,c)};if(this.options.saveMissing){const n=void 0!==t.count&&"string"!=typeof t.count;this.options.saveMissingPlurals&&n?e.forEach(e=>{const t=this.pluralResolver.getPluralFormsOfKey(e,r);t.forEach(t=>s([e],t))}):s(e,r)}}c=this.extendTranslation(c,e,t,u,n),l&&c===r&&this.options.appendNamespaceToMissingKey&&(c=`${o}:${r}`),l&&this.options.parseMissingKeyHandler&&(c=this.options.parseMissingKeyHandler(c))}return c}extendTranslation(e,t,i,r,s){if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,i,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,...{interpolation:{...this.options.interpolation,...i.interpolation}}});const n=i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;let r;if(n){const t=e.match(this.interpolator.nestingRegexp);r=t&&t.length}let o=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),e=this.interpolator.interpolate(e,o,i.lng||this.language,i),n){const t=e.match(this.interpolator.nestingRegexp),n=t&&t.length;r<n&&(i.nest=!1)}!1!==i.nest&&(e=this.interpolator.nest(e,(...e)=>s&&s[0]===e[0]?(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null):this.translate(...e,t),i)),i.interpolation&&this.interpolator.reset()}const o=i.postProcess||this.options.postProcess,a="string"==typeof o?[o]:o;return void 0!==e&&null!==e&&a&&a.length&&!1!==i.applyPostProcessor&&(e=n.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:r,...i}:i,this)),e}resolve(e,t={}){let n,i,s,o,a;return"string"==typeof e&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(n))return;const l=this.extractFromKey(e,t),u=l.key;i=u;let c=l.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const h=void 0!==t.count&&"string"!=typeof t.count,d=void 0!==t.context&&"string"==typeof t.context&&""!==t.context,p=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);c.forEach(e=>{this.isValidLookup(n)||(a=e,!r[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(r[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(i=>{if(this.isValidLookup(n))return;o=i;let r=u;const a=[r];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(a,u,i,e,t);else{let e;h&&(e=this.pluralResolver.getSuffix(i,t.count)),h&&d&&a.push(r+e),d&&a.push(r+=`${this.options.contextSeparator}${t.context}`),h&&a.push(r+=e)}let l;for(;l=a.pop();)this.isValidLookup(n)||(s=l,n=this.getResource(i,e,l,t))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n,i={}){return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}}),e("skylark-i18next/LanguageUtils",["./logger"],function(e){"use strict";function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}return class{constructor(t){this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=e.create("languageUtils")}getScriptPartFromCode(e){if(!e||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(e=>e.toLowerCase()):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=t(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=t(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=t(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isWhitelisted(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;let n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>{if(0===e.indexOf(n))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),n.forEach(e=>{i.indexOf(e)<0&&r(this.formatLanguageCode(e))}),i}}}),e("skylark-i18next/PluralResolver",["./logger"],function(e){"use strict";let t=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],n={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};return class{constructor(i,r={}){this.languageUtils=i,this.options=r,this.logger=e.create("pluralResolver"),this.rules=function(){const e={};return t.forEach(t=>{t.lngs.forEach(i=>{e[i]={numbers:t.nr,plurals:n[t.fc]}})}),e}()}addRule(e,t){this.rules[e]=t}getRule(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){const t=this.getRule(e);return t&&t.numbers.length>1}getPluralFormsOfKey(e,t){const n=[],i=this.getRule(e);return i?(i.numbers.forEach(i=>{const r=this.getSuffix(e,i);n.push(`${t}${r}`)}),n):n}getSuffix(e,t){const n=this.getRule(e);if(n){const e=n.noAbs?n.plurals(t):n.plurals(Math.abs(t));let i=n.numbers[e];this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:r():"v2"===this.options.compatibilityJSON?r():this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]?r():this.options.prepend&&e.toString()?this.options.prepend+e.toString():e.toString()}return this.logger.warn(`no plural rule found for: ${e}`),""}}}),e("skylark-i18next/Interpolator",["./utils","./logger"],function(e,t){"use strict";return class{constructor(e={}){this.logger=t.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const n=t.interpolation;this.escape=void 0!==n.escape?n.escape:e.escape,this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.useRawValueToEscape=void 0!==n.useRawValueToEscape&&n.useRawValueToEscape,this.prefix=n.prefix?e.regexEscape(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?e.regexEscape(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?e.regexEscape(n.nestingPrefix):n.nestingPrefixEscaped||e.regexEscape("$t("),this.nestingSuffix=n.nestingSuffix?e.regexEscape(n.nestingSuffix):n.nestingSuffixEscaped||e.regexEscape(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=void 0!==n.alwaysFormat&&n.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(t,"g");const n=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(n,"g")}interpolate(t,n,i,r){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}const c=t=>{if(t.indexOf(this.formatSeparator)<0){const r=e.getPathWithDefaults(n,l,t);return this.alwaysFormat?this.format(r,void 0,i):r}const s=t.split(this.formatSeparator),o=s.shift().trim(),a=s.join(this.formatSeparator).trim();return this.format(e.getPathWithDefaults(n,l,o),a,i,r)};this.resetRegExp();const h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,p=[{regex:this.regexpUnescape,safeValue:e=>u(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?u(this.escape(e)):u(e)}];return p.forEach(n=>{for(a=0;s=n.regex.exec(t);){if(void 0===(o=c(s[1].trim())))if("function"==typeof h){const e=h(t,s,r);o="string"==typeof e?e:""}else{if(d){o=s[0];continue}this.logger.warn(`missed to pass in variable ${s[1]} for interpolating ${t}`),o=""}else"string"==typeof o||this.useRawValueToEscape||(o=e.makeString(o));if(t=t.replace(s[0],n.safeValue(o)),n.regex.lastIndex=0,++a>=this.maxReplaces)break}}),t}nest(t,n,i={}){let r,s,o={...i};function a(e,t){const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const i=e.split(new RegExp(`${n}[ ]*{`));let r=`{${i[1]}`;e=i[0],r=(r=this.interpolate(r,o)).replace(/'/g,'"');try{o=JSON.parse(r),t&&(o={...t,...o})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${r}`}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;r=this.nestingRegexp.exec(t);){let l=[],u=!1;if(r[0].includes(this.formatSeparator)&&!/{.*}/.test(r[1])){const e=r[1].split(this.formatSeparator).map(e=>e.trim());r[1]=e.shift(),l=e,u=!0}if((s=n(a.call(this,r[1].trim(),o),o))&&r[0]===t&&"string"!=typeof s)return s;"string"!=typeof s&&(s=e.makeString(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${t}`),s=""),u&&(s=l.reduce((e,t)=>this.format(e,t,i.lng,i),s.trim())),t=t.replace(r[0],s),this.regexp.lastIndex=0}return t}}}),e("skylark-i18next/BackendConnector",["./utils","./logger","./EventEmitter"],function(e,t,n){"use strict";return class extends n{constructor(i,r,s,o={}){super(),e.isIE10&&n.call(this),this.backend=i,this.store=r,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=t.create("backendConnector"),this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,o.backend,o)}queueLoad(e,t,n,i){const r=[],s=[],o=[],a=[];return e.forEach(e=>{let i=!0;t.forEach(t=>{const o=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[o]=2:this.state[o]<0||(1===this.state[o]?s.indexOf(o)<0&&s.push(o):(this.state[o]=1,i=!1,s.indexOf(o)<0&&s.push(o),r.indexOf(o)<0&&r.push(o),a.indexOf(t)<0&&a.push(t)))}),i||o.push(e)}),(r.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:i}),{toLoad:r,pending:s,toLoadLanguages:o,toLoadNamespaces:a}}loaded(t,n,i){const r=t.split("|"),s=r[0],o=r[1];n&&this.emit("failedLoading",s,o,n),i&&this.store.addResourceBundle(s,o,i),this.state[t]=n?-1:2;const a={};this.queue.forEach(i=>{e.pushPath(i.loaded,[s],o),function(e,t){let n=e.indexOf(t);for(;-1!==n;)e.splice(n,1),n=e.indexOf(t)}(i.pending,t),n&&i.errors.push(n),0!==i.pending.length||i.done||(Object.keys(i.loaded).forEach(e=>{a[e]||(a[e]=[]),i.loaded[e].length&&i.loaded[e].forEach(t=>{a[e].indexOf(t)<0&&a[e].push(t)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n,i=0,r=350,s){return e.length?this.backend[n](e,t,(o,a)=>{o&&a&&i<5?setTimeout(()=>{this.read.call(this,e,t,n,i+1,2*r,s)},r):s(o,a)}):s(null,{})}prepareLoading(e,t,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(n,s)=>{n&&this.logger.warn(`${t}loading namespace ${r} for language ${i} failed`,n),!n&&s&&this.logger.log(`${t}loaded namespace ${r} for language ${i}`,s),this.loaded(e,n,s)})}saveMissing(e,t,n,i,r,s={}){this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,{...s,isUpdate:r}),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}}),e("skylark-i18next/defaults",[],function(){"use strict";return{get:function(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){var n=e[3]||e[2];Object.keys(n).forEach(function(e){t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:(e,t,n,i)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}},transformOptions:function(e){"string"==typeof e.ns&&(e.ns=[e.ns]);"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]);"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]);e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist);e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist);e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"]));return e}}}),e("skylark-i18next/i18next",["./logger","./EventEmitter","./ResourceStore","./Translator","./LanguageUtils","./PluralResolver","./Interpolator","./BackendConnector","./defaults","./postProcessor","./utils"],function(e,t,n,i,r,s,o,a,l,u,c){"use strict";function h(){}class d extends t{constructor(n={},i){if(super(),c.isIE10&&t.call(this),this.options=l.transformOptions(n),this.services={},this.logger=e,this.modules={external:[]},i&&!this.isInitialized&&!n.isClone){if(!this.options.initImmediate)return this.init(n,i),this;setTimeout(()=>{this.init(n,i)},0)}}init(t={},u){function d(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(u=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options={...l.get(),...this.options,...l.transformOptions(t)},this.format=this.options.interpolation.format,u||(u=h),!this.options.isClone){this.modules.logger?e.init(d(this.modules.logger),this.options):e.init(null,this.options);const t=new r(this.options);this.store=new n(this.options.resources,this.options);const l=this.services;l.logger=e,l.resourceStore=this.store,l.languageUtils=t,l.pluralResolver=new s(t,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l.interpolator=new o(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new a(d(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(l.languageDetector=d(this.modules.languageDetector),l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=d(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new i(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}this.modules.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=((...t)=>this.store[e](...t))});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=((...t)=>(this.store[e](...t),this))});const p=c.defer(),f=()=>{this.changeLanguage(this.options.lng,(e,t)=>{this.isInitialized=!0,this.logger.log("initialized",this.options),this.emit("initialized",this.options),p.resolve(t),u(e,t)})};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),p}loadResources(e,t=h){let n=t,i="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();const e=[],t=t=>{if(!t)return;const n=this.services.languageUtils.toResolveHierarchy(t);n.forEach(t=>{e.indexOf(t)<0&&e.push(t)})};if(i)t(i);else{const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.forEach(e=>t(e))}this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,n)}else n(null)}reloadResources(e,t,n){const i=c.defer();return e||(e=this.languages),t||(t=this.options.ns),n||(n=h),this.services.backendConnector.reload(e,t,e=>{i.resolve(),n(e)}),i}use(module){if(!module)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!module.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===module.type&&(this.modules.backend=module),("logger"===module.type||module.log&&module.warn&&module.error)&&(this.modules.logger=module),"languageDetector"===module.type&&(this.modules.languageDetector=module),"i18nFormat"===module.type&&(this.modules.i18nFormat=module),"postProcessor"===module.type&&u.addPostProcessor(module),"3rdParty"===module.type&&this.modules.external.push(module),this}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=c.defer();this.emit("languageChanging",e);const i=(e,i)=>{i?(this.language=i,this.languages=this.services.languageUtils.toResolveHierarchy(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,n.resolve((...e)=>this.t(...e)),t&&t(e,(...e)=>this.t(...e))},r=e=>{const t="string"==typeof e?e:this.services.languageUtils.getBestMatchFromCodes(e);t&&(this.language||(this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t)),this.translator.language||this.translator.changeLanguage(t),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(t)),this.loadResources(t,e=>{i(e,t)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),n}getFixedT(e,t){const n=(e,t,...i)=>{let r;return(r="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(i)):{...t}).lng=r.lng||n.lng,r.lngs=r.lngs||n.lngs,r.ns=r.ns||n.ns,this.t(e,r)};return"string"==typeof e?n.lng=e:n.lngs=e,n.ns=t,n}t(...e){return this.translator&&this.translator.translate(...e)}exists(...e){return this.translator&&this.translator.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const s=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||2===n};if(t.precheck){const e=t.precheck(this,s);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!this.services.backendConnector.backend||!(!s(n,e)||i&&!s(r,e)))}loadNamespaces(e,t){const n=c.defer();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=c.defer();"string"==typeof e&&(e=[e]);const i=this.options.preload||[],r=e.filter(e=>i.indexOf(e)<0);return r.length?(this.options.preload=i.concat(r),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}createInstance(e={},t){return new d(e,t)}cloneInstance(e={},t=h){const n={...this.options,...e,...{isClone:!0}},r=new d(n);return["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new i(r.services,r.options),r.translator.on("*",(e,...t)=>{r.emit(e,...t)}),r.init(n,t),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}}return new d}),e("skylark-i18next/main",["./i18next"],function(e){"use strict";return e}),e("skylark-i18next",["skylark-i18next/main"],function(e){return e}),e("skylark-formio/vendors/vanilla-text-mask/adjustCaretPosition",[],function(){const e=[],t="";return function({previousConformedValue:n=t,previousPlaceholder:i=t,currentCaretPosition:r=0,conformedValue:s,rawValue:o,placeholderChar:a,placeholder:l,indexesOfPipedChars:u=e,caretTrapIndexes:c=e}){if(0===r||!o.length)return 0;const h=o.length,d=n.length,p=l.length,f=s.length,m=h-d,g=m>0;if(m>1&&!g&&0!==d)return r;let y,v,b=0;if(!g||n!==s&&s!==l){const e=s.toLowerCase(),n=o.toLowerCase(),c=n.substr(0,r).split(t),h=c.filter(t=>-1!==e.indexOf(t));v=h[h.length-1];const d=i.substr(0,h.length).split(t).filter(e=>e!==a).length,p=l.substr(0,h.length).split(t).filter(e=>e!==a).length,m=p!==d,k=void 0!==i[h.length-1]&&void 0!==l[h.length-2]&&i[h.length-1]!==a&&i[h.length-1]!==l[h.length-1]&&i[h.length-1]===l[h.length-2];!g&&(m||k)&&d>0&&l.indexOf(v)>-1&&void 0!==o[r]&&(y=!0,v=o[r]);const w=u.map(t=>e[t]),x=w.filter(e=>e===v).length,_=h.filter(e=>e===v).length,C=l.substr(0,l.indexOf(a)).split(t).filter((e,t)=>e===v&&o[t]!==e).length,E=C+_+x+(y?1:0);let S=0;for(let t=0;t<f;t++){const n=e[t];if(b=t+1,n===v&&S++,S>=E)break}}else b=r-m;if(g){let e=b;for(let t=b;t<=p;t++)if(l[t]===a&&(e=t),l[t]===a||-1!==c.indexOf(t)||t===p)return e}else if(y){for(let e=b-1;e>=0;e--)if(s[e]===v||-1!==c.indexOf(e)||0===e)return e}else for(let e=b;e>=0;e--)if(l[e-1]===a||-1!==c.indexOf(e)||0===e)return e}}),e("skylark-formio/vendors/vanilla-text-mask/createTextMaskInputElement",["./utilities","./constants","./adjustCaretPosition","./conformToMask"],function(e,t,n,i){const{convertMaskToPlaceholder:r,isArray:s,processCaretTraps:o,isString:a,isNumber:l}=e,{strFunction:u}=t,c=t.placeholderChar,h="",d="none",p="object",f="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(e){const t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update(s,{inputElement:g,mask:y,guide:v,pipe:b,placeholderChar:k=c,keepCharPositions:w=!1,showMask:x=!1}=e){if(void 0===s&&(s=g.value),s===t.previousConformedValue)return;let _,C;if(typeof y===p&&void 0!==y.pipe&&void 0!==y.mask&&(b=y.pipe,y=y.mask),y instanceof Array&&(_=r(y,k)),!1===y)return;const E=function(e){if(a(e))return e;if(l(e))return String(e);if(void 0===e||null===e)return h;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value "+`received was:\n\n ${JSON.stringify(e)}`)}(s),{selectionEnd:S}=g,{previousConformedValue:A,previousPlaceholder:M}=t;let T;if(typeof y===u){if(!1===(C=y(E,{currentCaretPosition:S,previousConformedValue:A,placeholderChar:k})))return;const{maskWithoutCaretTraps:e,indexes:t}=o(C);T=t,_=r(C=e,k)}else C=y;const D={previousConformedValue:A,guide:v,placeholderChar:k,pipe:b,placeholder:_,currentCaretPosition:S,keepCharPositions:w},{conformedValue:O}=i(E,C,D),P=typeof b===u;let L={};P&&(!1===(L=b(O,{rawValue:E,...D}))?L={value:A,rejected:!0}:a(L)&&(L={value:L}));const I=P?L.value:O,R=n({previousConformedValue:A,previousPlaceholder:M,conformedValue:I,placeholder:_,rawValue:E,currentCaretPosition:S,placeholderChar:k,indexesOfPipedChars:L.indexesOfPipedChars,caretTrapIndexes:T}),F=I===_&&0===R,V=x?_:h,N=F?V:I;var j,z;(t.previousConformedValue=N,t.previousPlaceholder=_,g.value!==N)&&(g.value=N,j=g,z=R,document.activeElement===j&&(f?m(()=>j.setSelectionRange(z,z,d),0):j.setSelectionRange(z,z,d)))}}}}),e("skylark-formio/vendors/vanilla-text-mask/maskInput",["./createTextMaskInputElement"],function(e){return function(t){const{inputElement:n}=t,i=e(t),r=({target:{value:e}})=>i.update(e);return n.addEventListener("input",r),i.update(n.value),{textMaskInputElement:i,destroy(){n.removeEventListener("input",r)}}}}),e("skylark-formio/Element",["skylark-langx","./EventEmitter","./Formio","./utils/utils","skylark-i18next","skylark-moment","./vendors/vanilla-text-mask/maskInput"],function(e,t,n,i,r,s,o){"use strict";return class{constructor(e){this.options=Object.assign({language:"en",highlightErrors:!0,componentErrorClass:"formio-error-wrapper",componentWarningClass:"formio-warning-wrapper",row:"",namespace:"formio"},e||{}),this.id=i.getRandomComponentId(),this.eventHandlers=[],this.i18next=this.options.i18next||r,this.events=e&&e.events?e.events:new t({wildcard:!1,maxListeners:0}),this.defaultMask=null}on(e,t,n,i=!1){if(!this.events)return;const r=`${this.options.namespace}.${e}`;return t.id=this.id,t.internal=n,this.events[i?"once":"on"](r,t)}once(e,t,n){return this.on(e,t,n,!0)}onAny(e){if(this.events)return this.events.onAny(e)}off(t){if(!this.events)return;const n=`${this.options.namespace}.${t}`;e.forEach(this.events.listeners(n),e=>{e&&e.id===this.id&&this.events.off(n,e)})}emit(e,...t){this.events&&this.events.emit(`${this.options.namespace}.${e}`,...t)}addEventListener(e,t,n,i){if(e)return i||this.eventHandlers.push({id:this.id,obj:e,type:t,func:n}),"addEventListener"in e?e.addEventListener(t,n,!1):"attachEvent"in e&&e.attachEvent(`on${t}`,n),this}removeEventListener(t,n,i=null){const r=[];return this.eventHandlers.forEach((e,s)=>{e.id!==this.id||!t.removeEventListener||e.type!==n||i&&e.func!==i||(t.removeEventListener(n,e.func),r.push(s))}),r.length&&e.pullAt(this.eventHandlers,r),this}removeEventListeners(){this.eventHandlers.forEach(e=>{this.id===e.id&&e.type&&e.obj&&e.obj.removeEventListener&&e.obj.removeEventListener(e.type,e.func)}),this.eventHandlers=[]}removeAllEvents(t){e.forEach(this.events._events,(n,i)=>{e.forEach(n,e=>{e&&this.id===e.id&&(t||e.internal)&&this.events.off(i,e)})})}destroy(){this.removeEventListeners(),this.removeAllEvents()}appendTo(e,t){return t.appendChild(e),this}prependTo(e,t){if(t)if(t.firstChild)try{t.insertBefore(e,t.firstChild)}catch(n){console.warn(n),t.appendChild(e)}else t.appendChild(e);return this}removeChildFrom(e,t){if(t&&t.contains(e))try{t.removeChild(e)}catch(e){console.warn(e)}return this}ce(e,t,n=null){const i=document.createElement(e);return t&&this.attr(i,t),this.appendChild(i,n),i}appendChild(e,t){return Array.isArray(t)?t.forEach(t=>this.appendChild(e,t)):t instanceof HTMLElement||t instanceof Text?e.appendChild(t):t&&e.appendChild(this.text(t.toString())),this}maskPlaceholder(e){return e.map(e=>e instanceof RegExp?"_":e).join("")}setInputMask(e,t,n){if(e&&t){const r=i.getInputMask(t);this.defaultMask=r;try{e.mask&&e.mask.destroy(),e.mask=o({inputElement:e,mask:r})}catch(e){console.warn(e)}r.numeric&&e.setAttribute("pattern","\\d*"),n&&e.setAttribute("placeholder",this.maskPlaceholder(r))}}t(e,t){(t=t||{}).nsSeparator="::",t.keySeparator=".|.",t.pluralSeparator="._.",t.contextSeparator="._.";const n=this.i18next.t(e,t);return n||e}text(e){return document.createTextNode(this.t(e))}attr(t,n){t&&e.forEach(n,(e,n)=>{void 0!==e&&(0===n.indexOf("on")?this.addEventListener(t,n.substr(2).toLowerCase(),e):t.setAttribute(n,e))})}hasClass(e,t){return!!e&&(t=` ${t} `,` ${e.className} `.replace(/[\n\t\r]/g," ").indexOf(t)>-1)}addClass(e,t){if(!e)return this;const n=e.getAttribute("class");return n.includes(t)||e.setAttribute("class",`${n} ${t}`),this}removeClass(e,t){if(!e||!t)return this;let n=e.getAttribute("class");return n&&(n=n.replace(new RegExp(` ${t}`,"g"),""),e.setAttribute("class",n)),this}empty(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}evalContext(t){return Object.assign({_:e,utils:i,util:i,user:n.getUser(),moment:s,instance:this,self:this,token:n.getToken({decode:!0}),config:this.root&&this.root.form&&this.root.form.config?this.root.form.config:{}},t,e.get(this.root,"options.evalContext",{}))}interpolate(e,t){return i.interpolate(e,this.evalContext(t))}evaluate(e,t,n,r){return i.evaluate(e,this.evalContext(t),n,r)}hook(){const e=arguments[0];if(this.options&&this.options.hooks&&this.options.hooks[e])return this.options.hooks[e].apply(this,Array.prototype.slice.call(arguments,1));{const e="function"==typeof arguments[arguments.length-1]?arguments[arguments.length-1]:null;return e?e(null,arguments[1]):arguments[1]}}}}),e("skylark-formio/components/_classes/componentModal/ComponentModal",[],function(){"use strict";return class{static render(e,t,n){const i=e.renderTemplate("component",t,n);return e.renderTemplate("componentModal",{...t,children:i})}constructor(e,t){this.component=e,this.modal=t,this.currentValue=this.component.dataValue,this.dataLoaded=!1,this.init()}get refs(){return this.component.refs}init(){this.loadRefs()}setValue(e){this.dataLoaded||(this.currentValue=e,this.dataLoaded=!0,this.updateView())}setOpenModalElement(e){this.openModalTemplate=e,this.component.setContent(this.refs.openModalWrapper,e),this.loadRefs(),this.setEventListeners()}loadRefs(){this.component.loadRefs(this.modal,{modalOverlay:"single",modalContents:"single",modalClose:"single",openModalWrapper:"single",openModal:"single",modalSave:"single",modalWrapper:"single"})}setEventListeners(){this.component.addEventListener(this.refs.openModal,"click",this.openModalHandler.bind(this)),this.component.addEventListener(this.refs.modalOverlay,"click",this.closeModalHandler.bind(this)),this.component.addEventListener(this.refs.modalClose,"click",this.closeModalHandler.bind(this)),this.component.addEventListener(this.refs.modalSave,"click",this.saveModalValueHandler.bind(this))}setOpenEventListener(){this.component.loadRefs(this.modal,{openModal:"single"}),this.component.addEventListener(this.refs.openModal,"click",this.openModalHandler.bind(this))}openModalHandler(e){e.preventDefault(),this.refs.modalWrapper.classList.remove("component-rendering-hidden")}updateView(){const e=this.currentValue===this.component.defaultValue?this.openModalTemplate:this.component.getModalPreviewTemplate();this.component.setContent(this.refs.openModalWrapper,e),this.setOpenEventListener()}closeModal(){this.refs.modalWrapper.classList.add("component-rendering-hidden"),this.updateView()}closeModalHandler(e){e.preventDefault(),this.component.setValue(this.currentValue),this.closeModal()}saveModalValueHandler(e){e.preventDefault(),this.currentValue=this.component.dataValue,this.closeModal()}}}),e("skylark-formio/components/_classes/component/Component",["skylark-langx","../../../vendors/vanilla-text-mask/conformToMask","../../../vendors/getify/npo","../../../vendors/tooltip-js/Tooltip","skylark-lodash","../../../vendors/ismobilejs/isMobile","../../../Formio","../../../utils/utils","../../../validator/Validator","../../../templates/Templates","../../../utils/utils","../../../Element","../componentModal/ComponentModal"],function(e,t,n,i,r,s,o,a,l,u,c,h,d){"use strict";const p="https://cdn.form.io/quill/1.3.7";return class f extends h{static schema(...t){return e.mixin({input:!0,key:"",placeholder:"",prefix:"",customClass:"",suffix:"",multiple:!1,defaultValue:null,protected:!1,unique:!1,persistent:!0,hidden:!1,clearOnHide:!0,refreshOn:"",redrawOn:"",tableView:!1,modalEdit:!1,label:"",labelPosition:"top",description:"",errorLabel:"",tooltip:"",hideLabel:!1,tabindex:"",disabled:!1,autofocus:!1,dbIndex:!1,customDefaultValue:"",calculateValue:"",widget:null,attributes:{},validateOn:"change",validate:{required:!1,custom:"",customPrivate:!1,strictDateValidation:!1,multiple:!1,unique:!1},conditional:{show:null,when:null,eq:""},overlay:{style:"",left:"",top:"",width:"",height:""},allowCalculateOverride:!1,encrypted:!1,showCharCount:!1,showWordCount:!1,properties:{},allowMultipleMasks:!1},...t)}static tableView(e,t){}constructor(t,n,i){super(Object.assign({renderMode:"form",attachMode:"full"},n||{})),this._hasCondition=null,this.refs={},t&&this.options.components&&this.options.components[t.type]&&e.mixin(t,this.options.components[t.type]),this.validator=l,this.path="",this.component=this.mergeSchema(t||{}),this.originalComponent=c.fastCloneDeep(this.component),this.attached=!1,this.rendered=!1,this._data=i||{},this.component.id=this.id,this.error="",this.tooltip="",this.row=this.options.row,this._disabled=!!c.boolValue(this.component.disabled)&&this.component.disabled,this.root=this.options.root,this.pristine=!0,this.parent=this.options.parent,this.options.name=this.options.name||"data",this.validators=["required","minLength","maxLength","minWords","maxWords","custom","pattern","json","mask"],this._path="",this._parentVisible=!this.options.hasOwnProperty("parentVisible")||this.options.parentVisible,this._visible=this._parentVisible&&this.conditionallyVisible(null,i),this._parentDisabled=!1;let r=null,s=[];const o=e.debounce((...t)=>(this.root&&(this.root.changing=!1),s=[],!t[1]&&r&&(t[1]=r),e.isEmpty(t[0])&&r&&(t[0]=r.flags),r=null,this.onChange(...t)),100);this.triggerChange=((...e)=>(e[1]&&(r=e[1]),this.root&&(this.root.changing=!0),e.length&&(s=e),o(...s))),this.triggerRedraw=e.debounce(this.redraw.bind(this),100),this.tooltips=[],this.invalid=!1,this.component&&(this.type=this.component.type,this.allowData&&this.key&&(this.options.name+=`[${this.key}]`,!this.visible&&this.component.clearOnHide||(this.hasValue()?this.dataValue=this.dataValue:this.dataValue=this.defaultValue)),this.info=this.elementInfo()),this.hook("component"),this.options.skipInit||this.init()}get data(){return this._data}set data(e){this._data=e}mergeSchema(e={}){return r.defaultsDeep(e,this.defaultSchema)}get ready(){return n.resolve(this)}get labelInfo(){const e={};return e.hidden=this.labelIsHidden(),e.className="",e.labelPosition=this.component.labelPosition,e.tooltipClass=`${this.iconClass("question-sign")} text-muted`,this.hasInput&&this.component.validate&&c.boolValue(this.component.validate.required)&&(e.className+=" field-required"),e.hidden&&(e.className+=" control-label--hidden"),this.info.attr.id&&(e.for=this.info.attr.id),e}init(){this.disabled=this.shouldDisabled}destroy(){super.destroy(),this.detach()}get shouldDisabled(){return this.options.readOnly||this.component.disabled||this.options.hasOwnProperty("disabled")&&this.options.disabled[this.key]}get isInputComponent(){return!this.component.hasOwnProperty("input")||this.component.input}get allowData(){return this.hasInput}get hasInput(){return this.isInputComponent||this.refs.input&&this.refs.input.length}get defaultSchema(){return f.schema()}get key(){return e.get(this.component,"key","")}set parentVisible(e){this._parentVisible!==e&&(this._parentVisible=e,this.clearOnHide(),this.redraw())}get parentVisible(){return this._parentVisible}set parentDisabled(e){this._parentDisabled!==e&&(this._parentDisabled=e,this.clearOnHide(),this.redraw())}get parentDisabled(){return this._parentDisabled}set visible(e){this._visible!==e&&(this._visible=e,this.clearOnHide(),this.redraw())}get visible(){return!(!this.builderMode&&!this.options.showHiddenFields)||(!this.options.hide||!this.options.hide[this.component.key])&&(!(!this.options.show||!this.options.show[this.component.key])||this._visible&&this._parentVisible)}get currentForm(){return this._currentForm}set currentForm(e){this._currentForm=e}get fullMode(){return"full"===this.options.attachMode}get builderMode(){return"builder"===this.options.attachMode}get calculatedPath(){if(this._path)return this._path;if(this._path=this.key,!this.root)return this._path;let e=this.parent;for(;e&&e.id!==this.root.id;)(["datagrid","container","editgrid"].includes(e.type)||e.tree)&&(this._path=`${e.key}.${this._path}`),e=e.parent;return this._path}get labelPosition(){return this.component.labelPosition}get labelWidth(){return this.component.labelWidth||30}get labelMargin(){return this.component.labelMargin||3}get isAdvancedLabel(){return["left-left","left-right","right-left","right-right"].includes(this.labelPosition)}get labelPositions(){return this.labelPosition.split("-")}rightDirection(e){return"right"===e}getLabelInfo(){const e=this.rightDirection(this.labelPositions[0]),t=this.rightDirection(this.labelPositions[1]),n=`\n      flex: ${this.labelWidth};\n      ${e?"margin-left":"margin-right"}:${this.labelMargin}%;\n    `,i=`\n      flex: ${100-this.labelWidth-this.labelMargin};\n    `;return{isRightPosition:e,isRightAlign:t,labelStyles:n,contentStyles:i}}getModifiedSchema(t,n,i){const r={};return n?(e.forEach(t,(t,s)=>{if(!e.isArray(t)&&e.isObject(t)&&n.hasOwnProperty(s)){const i=this.getModifiedSchema(t,n[s],!0);e.isEmpty(i)||(r[s]=i)}else e.isArray(t)?0!==t.length&&(r[s]=t):(!i&&"type"===s||!i&&"key"===s||!i&&"label"===s||!i&&"input"===s||!i&&"tableView"===s||""!==t&&!n.hasOwnProperty(s)||""!==t&&t!==n[s])&&(r[s]=t)}),r):t}get schema(){return c.fastCloneDeep(this.getModifiedSchema(r.omit(this.component,"id"),this.defaultSchema))}t(e,t){if(!e)return"";(t=t||{}).data=this.rootValue,t.row=this.data,t.component=this.component,t.nsSeparator="::",t.keySeparator=".|.",t.pluralSeparator="._.",t.contextSeparator="._.";const n=this.i18next.t(e,t);return n||e}labelIsHidden(){return!this.component.label||!this.inDataGrid&&this.component.hideLabel||this.inDataGrid&&!this.component.dataGridLabel||this.options.inputsOnly}get transform(){return u.current.hasOwnProperty("transform")?u.current.transform.bind(u.current):(e,t)=>t}getTemplate(e,t){t=Array.isArray(t)?t:[t],e=Array.isArray(e)?e:[e],t.includes("form")||t.push("form");let n=null;if(this.options.templates&&(n=this.checkTemplate(this.options.templates,e,t)))return n;const i=this.options.template?u.templates[this.options.template]:u.current;if(n=this.checkTemplate(i,e,t))return n;const r=e[e.length-1],s=u.defaultTemplates[r];if(!s)return`Unknown template: ${r}`;const o=this.checkTemplateMode(s,t);return o||s.form}checkTemplate(e,t,n){for(const i of t){const t=e[i];if(t){const e=this.checkTemplateMode(t,n);if(e)return e}}return null}checkTemplateMode(e,t){for(const n of t){const t=e[n];if(t)return t}return null}renderTemplate(e,t={},n){const i=n||this.options.renderMode||"form";t.component=this.component,t.self=this,t.options=this.options,t.readOnly=this.options.readOnly,t.iconClass=this.iconClass.bind(this),t.t=this.t.bind(this),t.transform=this.transform,t.id=t.id||this.id,t.key=t.key||this.key,t.value=t.value||this.dataValue,t.disabled=this.disabled,t.builder=this.builderMode,t.render=((...e)=>(console.warn("Form.io 'render' template function is deprecated.\n      If you need to render template (template A) inside of another template (template B),\n      pass pre-compiled template A (use this.renderTemplate('template_A_name') as template context variable for template B"),this.renderTemplate(...e))),t.label=this.labelInfo,t.tooltip=this.interpolate(this.component.tooltip||"").replace(/(?:\r\n|\r|\n)/g,"<br />");const r=[`${e}-${this.component.type}-${this.key}`,`${e}-${this.component.type}`,`${e}-${this.key}`,`${e}`];return this.hook(`render${e.charAt(0).toUpperCase()+e.substring(1,e.length)}`,this.interpolate(this.getTemplate(r,i),t),t,i)}sanitize(e){return a.sanitize(e,this.options)}renderString(e,t){return e?this.interpolate(e,t):""}performInputMapping(e){return e}getBrowserLanguage(){const e=window.navigator,t=["language","browserLanguage","systemLanguage","userLanguage"];let n;if(Array.isArray(e.languages))for(let t=0;t<e.languages.length;t++)if((n=e.languages[t])&&n.length)return n.split(";")[0];for(let i=0;i<t.length;i++)if((n=e[t[i]])&&n.length)return n.split(";")[0];return null}beforePage(){return n.resolve(!0)}beforeNext(){return this.beforePage(!0)}beforeSubmit(){return n.resolve(!0)}get submissionTimezone(){return this.options.submissionTimezone=this.options.submissionTimezone||e.get(this.root,"options.submissionTimezone"),this.options.submissionTimezone}loadRefs(e,t){for(const n in t)"single"===t[n]?this.refs[n]=e.querySelector(`[ref="${n}"]`):this.refs[n]=e.querySelectorAll(`[ref="${n}"]`)}setOpenModalElement(){const e=`\n      <label class="control-label">${this.component.label}</label><br>\n      <button lang='en' class='btn btn-light btn-md open-modal-button' ref='openModal'>Click to set value</button>\n    `;this.componentModal.setOpenModalElement(e)}getModalPreviewTemplate(){return`\n      <label class="control-label">${this.component.label}</label><br>\n      <button lang='en' class='btn btn-light btn-md open-modal-button' ref='openModal'>${this.getValueAsString(this.dataValue)}</button>`}build(e){return e=e||this.element,this.empty(e),this.setContent(e,this.render()),this.attach(e)}render(e=`Unknown component: ${this.component.type}`,t=!1){const n=this.visible;return this.rendered=!0,!this.builderMode&&this.component.modalEdit?d.render(this,{visible:n,id:this.id,classes:this.className,styles:this.customStyle,children:e},t):this.renderTemplate("component",{visible:n,id:this.id,classes:this.className,styles:this.customStyle,children:e},t)}attach(e){!this.builderMode&&this.component.modalEdit&&(this.componentModal=new d(this,e),this.setOpenModalElement()),this.attached=!0,this.element=e,e.component=this,this.element.id&&(this.id=this.element.id),this.loadRefs(e,{messageContainer:"single",tooltip:"multiple"}),this.refs.tooltip.forEach((e,t)=>{const n=this.interpolate(e.getAttribute("data-title")||this.t(this.component.tooltip)).replace(/(?:\r\n|\r|\n)/g,"<br />");this.tooltips[t]=new i(e,{trigger:"hover click focus",placement:"right",html:!0,title:n,template:'\n          <div class="tooltip" style="opacity: 1;" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner"></div>\n          </div>'})}),this.attachLogic(),this.autofocus(),this.hook("attachComponent",e,this);const t=this.component.type;return t&&this.hook(`attach${t.charAt(0).toUpperCase()+t.substring(1,t.length)}`,e,this),n.resolve()}addShortcut(e,t){e&&this.root&&this.root!==this&&(t||(t=this.component.shortcut),this.root.addShortcut(e,t))}removeShortcut(e,t){e&&this.root!==this&&(t||(t=this.component.shortcut),this.root.removeShortcut(e,t))}detach(){this.refs={},this.removeEventListeners(),this.detachLogic(),this.tooltip&&this.tooltip.dispose()}checkRefresh(t,n){const i=e.get(n,"instance.calculatedPath",!1);i&&this.calculatedPath===i||("data"===t?this.refresh(this.data):i&&i===t&&n&&n.instance&&this.inContext(n.instance)&&this.refresh(n.value))}checkRefreshOn(e){const t=this.component.refreshOn||this.component.redrawOn;t&&(Array.isArray(t)?t.forEach(t=>{this.checkRefresh(t,e)}):this.checkRefresh(t,e))}refresh(t){this.hasOwnProperty("refreshOnValue")?this.refreshOnChanged=!e.isEqual(t,this.refreshOnValue):this.refreshOnChanged=!0,this.refreshOnValue=c.fastCloneDeep(t),this.refreshOnChanged&&(this.component.clearOnRefresh&&this.setValue(null),this.triggerRedraw())}inContext(e){if(e.data===this.data)return!0;let t=this.parent;for(;t;){if(t.data===e.data)return!0;t=t.parent}return!1}get viewOnly(){return this.options.readOnly&&this.options.viewAsHtml}createViewOnlyElement(){return this.element=this.ce("dl",{id:this.id}),this.element&&(this.element.component=this),this.element}get defaultViewOnlyValue(){return"-"}getWidgetValueAsString(e){const t=!this.refs.input||!this.refs.input[0]||!this.refs.input[0].widget;if(!e||t)return e;if(Array.isArray(e)){const t=[];return e.forEach((e,n)=>{const i=this.refs.input[n]&&this.refs.input[n].widge;i&&t.push(i.getValueAsString(e))}),t}const n=this.refs.input[0].widget;return n.getValueAsString(e)}getValueAsString(t){return t?(t=this.getWidgetValueAsString(t),Array.isArray(t)?t.join(", "):e.isPlainObject(t)?JSON.stringify(t):null===t||void 0===t?"":t.toString()):""}getView(e){return this.component.protected?"--- PROTECTED ---":this.getValueAsString(e)}updateItems(...e){this.restoreValue(),this.onChange(...e)}itemValue(t,n=!1){if(e.isObject(t)){if(this.valueProperty)return e.get(t,this.valueProperty);if(n)return t.value}return t}itemValueForHTMLMode(e){if(Array.isArray(e)){const t=e.map(e=>Array.isArray(e)?this.itemValueForHTMLMode(e):this.itemValue(e));return t.join(", ")}return this.itemValue(e)}createModal(e,t){const n=this.ce("div",t||{});this.setContent(n,this.renderTemplate("dialog")),n.refs={},this.loadRefs.call(n,n,{dialogOverlay:"single",dialogContents:"single",dialogClose:"single"}),n.refs.dialogContents.appendChild(e),document.body.appendChild(n),document.body.classList.add("modal-open"),n.close=(()=>{document.body.classList.remove("modal-open"),n.dispatchEvent(new CustomEvent("close"))}),this.addEventListener(n,"close",()=>this.removeChildFrom(n,document.body));const i=e=>{e.preventDefault(),n.close()};return this.addEventListener(n.refs.dialogOverlay,"click",i),this.addEventListener(n.refs.dialogClose,"click",i),n}get className(){let e=this.hasInput?"form-group has-feedback ":"";return e+=`formio-component formio-component-${this.component.type} `,this.key&&(e+=`formio-component-${this.key} `),this.component.multiple&&(e+="formio-component-multiple "),this.component.customClass&&(e+=this.component.customClass),this.hasInput&&this.component.validate&&c.boolValue(this.component.validate.required)&&(e+=" required"),this.labelIsHidden()&&(e+=" formio-component-label-hidden"),this.visible||(e+=" formio-hidden"),e}get customStyle(){let t="";return e.forEach(this.component.style,(e,n)=>{""!==e&&(t+=`${n}:${e};`)}),t}get isMobile(){return s()}getElement(){return this.element}evalContext(e){return super.evalContext(Object.assign({component:this.component,row:this.data,rowIndex:this.rowIndex,data:this.rootValue,iconClass:this.iconClass.bind(this),submission:this.root?this.root._submission:{},form:this.root?this.root._form:{}},e))}setPristine(e){this.pristine=e}removeValue(e){this.splice(e),this.redraw(),this.restoreValue(),this.triggerRootChange()}iconClass(e,t){const n=this.options.iconset||u.current.defaultIconset||"fa";return u.current.hasOwnProperty("iconClass")?u.current.iconClass(n,e,t):"fa"===this.options.iconset?u.defaultTemplates.iconClass(n,e,t):e}get name(){return this.t(this.component.label||this.component.placeholder||this.key)}get errorLabel(){return this.t(this.component.errorLabel||this.component.label||this.component.placeholder||this.key)}errorMessage(e){return this.component.errors&&this.component.errors[e]?this.component.errors[e]:e}setContent(e,t){return e instanceof HTMLElement&&(e.innerHTML=this.sanitize(t),!0)}redraw(){if(!this.element||!this.element.parentNode)return n.resolve();this.clear();const e=this.element.parentNode,t=Array.prototype.indexOf.call(e.children,this.element);return this.element.outerHTML=this.sanitize(this.render()),this.element=e.children[t],this.attach(this.element)}rebuild(){return this.destroy(),this.init(),this.redraw()}removeEventListeners(){super.removeEventListeners(),this.tooltips.forEach(e=>e.dispose()),this.tooltips=[],this.refs.input=[]}hasClass(e,t){if(e)return super.hasClass(e,this.transform("class",t))}addClass(e,t){if(e)return super.addClass(e,this.transform("class",t))}removeClass(e,t){if(e)return super.removeClass(e,this.transform("class",t))}hasCondition(){return null!==this._hasCondition?this._hasCondition:(this._hasCondition=a.hasCondition(this.component),this._hasCondition)}conditionallyVisible(e,t){return e=e||this.rootValue,t=t||this.data,this.builderMode||!this.hasCondition()?!this.component.hidden:(e=e||(this.root?this.root.data:{}),this.checkCondition(t,e))}checkCondition(e,t){return a.checkCondition(this.component,e||this.data,t||this.rootValue,this.root?this.root._form:{},this)}checkComponentConditions(e,t,n){e=e||this.rootValue,t=t||{},n=n||this.data,!this.builderMode&&this.fieldLogic(e,n)&&this.redraw();const i=this.conditionallyVisible(e,n);return this.visible!==i&&(this.visible=i),i}checkConditions(e,t,n){return e=e||this.rootValue,t=t||{},n=n||this.data,this.checkComponentConditions(e,t,n)}get logic(){return this.component.logic||[]}fieldLogic(t,n){t=t||this.rootValue,n=n||this.data;const i=this.logic;if(0===i.length)return;const r=c.fastCloneDeep(this.originalComponent);let s=i.reduce((e,i)=>{const s=a.checkTrigger(r,i.trigger,n,t,this.root?this.root._form:{},this);return!!s&&this.applyActions(r,i.actions,s,n,t)||e},!1);return e.isEqual(this.component,r)||(this.component=r,this.disabled=this.shouldDisabled,s=!0),s}isIE(){const e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);const n=e.indexOf("Trident/");if(n>0){const t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}const i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)}applyActions(t,n,i,r,s){return s=s||this.rootValue,r=r||this.data,n.reduce((n,o)=>{switch(o.type){case"property":{a.setActionProperty(t,o,i,r,s,this);const l=o.property.value;e.isEqual(e.get(this.component,l),e.get(t,l))||(n=!0);break}case"value":{const a=this.getValue(),l=this.evaluate(o.value,{value:e.clone(a),data:s,row:r,component:t,result:i},"value");e.isEqual(a,l)||(this.setValue(l),this.viewOnly&&(this.dataValue=l),n=!0);break}case"mergeComponentSchema":{const a=this.evaluate(o.schemaDefinition,{value:e.clone(this.getValue()),data:s,row:r,component:t,result:i},"schema");e.mixin(t,a),e.isEqual(this.component,t)||(n=!0);break}}return n},!1)}addInputError(e,t,n){this.addMessages(e),this.setErrorClasses(n,t,!!e)}removeInputError(e){this.setErrorClasses(e,!0,!1)}addMessages(e){e&&("string"==typeof e&&(e={messages:e,level:"error"}),Array.isArray(e)||(e=[e]),this.refs.messageContainer&&this.setContent(this.refs.messageContainer,e.map(e=>this.renderTemplate("message",e)).join("")))}setErrorClasses(e,t,n,i){this.clearErrorClasses(),e.forEach(e=>this.removeClass(this.performInputMapping(e),"is-invalid")),n&&(e.forEach(e=>this.addClass(this.performInputMapping(e),"is-invalid")),t&&this.options.highlightErrors?this.addClass(this.element,this.options.componentErrorClass):this.addClass(this.element,"has-error")),i&&this.addClass(this.element,"has-message")}clearOnHide(){this.rootPristine||!1===this.component.clearOnHide||this.options.readOnly||this.options.showHiddenFields||(this.visible?this.hasValue()||this.setValue(this.defaultValue,{noUpdateEvent:!0}):this.deleteValue())}triggerRootChange(...e){this.options.onChange?this.options.onChange(...e):this.root&&this.root.triggerChange(...e)}onChange(e,t){(e=e||{}).modified&&(this.pristine=!1,this.addClass(this.getElement(),"formio-modified")),"blur"!==this.component.validateOn||this.errors.length||(e.noValidate=!0),this.component.onChange&&this.evaluate(this.component.onChange,{flags:e});const n={instance:this,component:this.component,value:this.dataValue,flags:e};this.emit("componentChange",n);let i=!1;return e.modified&&(i=!0,delete e.modified),t||this.triggerRootChange(e,n,i),n}get wysiwygDefault(){return{quill:{theme:"snow",placeholder:this.t(this.component.placeholder),modules:{toolbar:[[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike",{script:"sub"},{script:"super"},"clean"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{align:[]}],["blockquote","code-block"],["link","image","video","formula","source"]]}},ace:{theme:"ace/theme/xcode",maxLines:12,minLines:12,tabSize:2,mode:"javascript",placeholder:this.t(this.component.placeholder)},ckeditor:{image:{toolbar:["imageTextAlternative","|","imageStyle:full","imageStyle:alignLeft","imageStyle:alignCenter","imageStyle:alignRight"],styles:["full","alignLeft","alignCenter","alignRight"]}},tiny:{theme:"silver"},default:{}}}addCKE(t,i,r){return(i=e.isEmpty(i)?{}:i).base64Upload=!0,i.mediaEmbed={previewsInData:!0},i=e.mixin(this.wysiwygDefault.ckeditor,e.get(this.options,"editors.ckeditor.settings",{}),i),o.requireLibrary("ckeditor","ClassicEditor",e.get(this.options,"editors.ckeditor.src","https://cdn.form.io/ckeditor/16.0.0/ckeditor.js"),!0).then(()=>t.parentNode?ClassicEditor.create(t,i).then(e=>(e.model.document.on("change",()=>r(e.data.get())),e)):n.reject())}addQuill(e,t,i){return t=r.isEmpty(t)?this.wysiwygDefault.quill:t,t=r.merge(this.wysiwygDefault.quill,r.get(this.options,"editors.quill.settings",{}),t),o.requireLibrary(`quill-css-${t.theme}`,"Quill",[{type:"styles",src:`${p}/quill.${t.theme}.css`}],!0),o.requireLibrary("quill","Quill",r.get(this.options,"editors.quill.src",`${p}/quill.min.js`),!0).then(()=>{if(!e.parentNode)return n.reject();this.quill=new Quill(e,t);const r=document.createElement("textarea");r.setAttribute("class","quill-source-code"),this.quill.addContainer("ql-custom").appendChild(r);const s=e.parentNode.querySelector(".ql-source");s&&this.addEventListener(s,"click",e=>{e.preventDefault(),"inherit"===r.style.display&&this.quill.setContents(this.quill.clipboard.convert(r.value)),r.style.display="none"===r.style.display?"inherit":"none"}),this.addEventListener(e,"click",()=>this.quill.focus());const o=document.querySelectorAll(".ql-formats > button");for(let e=0;e<o.length;e++)o[e].setAttribute("tabindex","-1");return this.quill.on("text-change",()=>{r.value=this.quill.root.innerHTML,i(r)}),this.quill})}addAce(t,n,i){n=e.mixin(this.wysiwygDefault.ace,e.get(this.options,"editors.ace.settings",{}),n||{});var r=new e.Deferred;return require(["skylark-ace"],function(e){let s=e.edit(t);s.removeAllListeners("change"),s.setOptions(n),s.getSession().setMode(`ace/mode/${n.mode}`),s.on("change",()=>i(s.getValue())),r.resolve(s)},function(e){r.reject(e)}),r.promise}addTiny(e,t,n){return o.requireLibrary("tinymce","tinymce","https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js".replace("no-api-key",t.tinyApiKey),!0).then(i=>i.init({...t,target:e,init_instance_callback:e=>{e.on("Change",()=>n(e.getContent()))}}))}get tree(){return this.component.tree||!1}get emptyValue(){return null}hasValue(e){return r.has(e||this.data,this.key)}get rootValue(){return this.root?this.root.data:this.data}get rootPristine(){return e.get(this,"root.pristine",!1)}get dataValue(){if(!this.key||!this.visible&&this.component.clearOnHide&&!this.rootPristine)return this.emptyValue;if(!this.hasValue()){const e=this.component.multiple?[]:this.emptyValue;return this.rootPristine||(this.dataValue=e),e}return e.get(this._data,this.key)}set dataValue(e){return this.allowData&&this.key&&(this.visible||!this.component.clearOnHide||this.rootPristine)?(null!==e&&void 0!==e&&(e=this.hook("setDataValue",e,this.key,this._data)),null===e||void 0===e?(this.unset(),e):(r.set(this._data,this.key,e),e)):e}splice(t){if(this.hasValue()){const n=this.dataValue||[];e.isArray(n)&&n.hasOwnProperty(t)&&(n.splice(t,1),this.dataValue=n,this.triggerChange())}}unset(){r.unset(this._data,this.key)}deleteValue(){this.setValue(null,{noUpdateEvent:!0,noDefault:!0}),this.unset()}get defaultValue(){let n=this.emptyValue;return this.component.defaultValue&&(n=this.component.defaultValue),this.component.customDefaultValue&&!this.options.preview&&(n=this.evaluate(this.component.customDefaultValue,{value:""},"value")),this.defaultMask&&("string"==typeof n?(n=t(n,this.defaultMask).conformedValue,a.matchInputMask(n,this.defaultMask)||(n="")):n=""),e.clone(n)}getValue(){if(!this.hasInput||this.viewOnly||!this.refs.input||!this.refs.input.length)return this.dataValue;const e=[];for(const t in this.refs.input)if(this.refs.input.hasOwnProperty(t)){if(!this.component.multiple)return this.getValueAt(t);e.push(this.getValueAt(t))}return 0!==e.length||this.component.multiple?e:""}getValueAt(e){const t=this.performInputMapping(this.refs.input[e]);return t?t.value:void 0}setValue(e,t={}){const n=this.updateValue(e,t);if(this.componentModal&&t&&t.fromSubmission&&this.componentModal.setValue(e),e=this.dataValue,!this.hasInput)return n;const i=Array.isArray(e);i&&Array.isArray(this.defaultValue)&&this.refs.hasOwnProperty("input")&&this.refs.input&&this.refs.input.length!==e.length&&this.redraw();for(const n in this.refs.input)this.refs.input.hasOwnProperty(n)&&this.setValueAt(n,i?e[n]:e,t);return n}setValueAt(e,t,n={}){n.noDefault||null!==t&&void 0!==t||this.component.multiple||(t=this.defaultValue);const i=this.performInputMapping(this.refs.input[e]);i.mask?i.mask.textMaskInputElement.update(t):i.widget&&i.widget.setValue?i.widget.setValue(t):i.value=t}get hasSetValue(){return this.hasValue()&&!this.isEmpty(this.dataValue)}restoreValue(){if(this.hasSetValue)this.setValue(this.dataValue,{noUpdateEvent:!0});else if(this.defaultValue){const e=this.component.multiple&&!this.dataValue.length?[]:this.defaultValue;this.setValue(e,{noUpdateEvent:!0})}}normalizeValue(e){return this.component.multiple&&!Array.isArray(e)&&(e=e?[e]:[]),e}updateComponentValue(e,t={}){let n=t.resetValue||void 0!==e&&null!==e?e:this.getValue();const i=void 0!==(n=this.normalizeValue(n,t))&&this.hasChanged(n,this.dataValue);return i&&(this.dataValue=n,this.updateOnChange(t,i)),i}updateValue(...e){return this.updateComponentValue(...e)}getIcon(e,t,n,i="icon"){return this.renderTemplate("icon",{className:this.iconClass(e),ref:i,styles:n,content:t})}resetValue(){this.setValue(this.emptyValue,{noUpdateEvent:!0,noValidate:!0,resetValue:!0}),this.unset()}hasChanged(t,n){return(void 0!==t&&null!==t||void 0!==n&&null!==n&&!this.isEmpty(n))&&(void 0!==t&&null!==t&&!this.hasValue()||!e.isEqual(t,n))}updateOnChange(e={},t=!1){return!(e.noUpdateEvent||!t)&&(this.triggerChange(e),!0)}convertNumberOrBoolToString(e){return"number"==typeof e||"boolean"==typeof e?e.toString():e}calculateComponentValue(t,n,i){if(!this.component.calculateValue||(!this.visible||this.component.hidden)&&this.component.clearOnHide&&!this.rootPristine)return!1;const r=this.component.allowCalculateOverride;let s=!1;const o=this.dataValue;if(void 0===this.calculatedValue&&(s=!0,this.calculatedValue=null),r&&this.calculatedValue&&!e.isEqual(o,this.convertNumberOrBoolToString(this.calculatedValue)))return!1;const a=this.evaluate(this.component.calculateValue,{value:o,data:t,row:i||this.data},"value");if(r&&s&&!this.isEmpty(o)&&!e.isEqual(o,this.convertNumberOrBoolToString(a)))return this.calculatedValue=a,!0;const l=this.setValue(a,n);return this.calculatedValue=this.dataValue,l}calculateValue(e,t,n){return e=e||this.rootValue,t=t||{},n=n||this.data,this.calculateComponentValue(e,t,n)}get label(){return this.component.label}set label(e){this.component.label=e,this.labelElement&&(this.labelElement.innerText=e)}getRoot(){return this.root}invalidMessage(t,n,i,r){return i||this.checkCondition(r,t)?this.invalid?this.invalid:!this.hasInput||!n&&this.pristine?"":e.map(l.checkComponent(this,t),"message").join("\n\n"):""}isValid(e,t){return!this.invalidMessage(e,t)}setComponentValidity(e,t){const n=!!e.filter(e=>"error"===e.level).length;return!e.length||!t&&this.pristine?this.setCustomValidity(""):this.setCustomValidity(e,t),!n}checkComponentValidity(e,t,i,r=!1){if(e=e||this.rootValue,i=i||this.data,this.shouldSkipValidation(e,t,i))return this.setCustomValidity(""),!r||n.resolve(!0);const s=l.checkComponent(this,e,i,!0,r);return r?s.then(e=>this.setComponentValidity(e,t)):this.setComponentValidity(s,t)}checkValidity(e,t,n){return e=e||this.rootValue,n=n||this.data,this.checkComponentValidity(e,t,n)}checkAsyncValidity(e,t,i){return n.resolve(this.checkComponentValidity(e,t,i,!0))}checkData(e,t,n){if(e=e||this.rootValue,t=t||{},n=n||this.data,this.checkRefreshOn(t.changed),t.noCheck)return!0;if(this.calculateComponentValue(e,t,n),this.checkComponentConditions(e,t,n),t.noValidate)return!0;let i=!this.builderMode&&!this.options.preview&&!this.isEmpty(this.defaultValue)&&this.isEqual(this.defaultValue,this.dataValue);return(this.options.alwaysDirty||t.dirty)&&(i=!0),t.fromSubmission&&this.hasValue(e)&&(i=!0),this.checkComponentValidity(e,i,n)}get validationValue(){return this.dataValue}isEmpty(t=this.dataValue){const n=!(!e.isArray(t)||1!==t.length)&&e.isEqual(t[0],this.emptyValue);return null==t||0===t.length||e.isEqual(t,this.emptyValue)||n}isEqual(t,n=this.dataValue){return this.isEmpty(t)&&this.isEmpty(n)||e.isEqual(t,n)}validateMultiple(){return!0}get errors(){return this.error?[this.error]:[]}clearErrorClasses(){this.removeClass(this.element,this.options.componentErrorClass),this.removeClass(this.element,"alert alert-danger"),this.removeClass(this.element,"has-error"),this.removeClass(this.element,"has-message")}setCustomValidity(e,t,n){"string"==typeof e&&e&&(e={level:"error",message:e}),Array.isArray(e)||(e=e?[e]:[]);const i=!!e.filter(e=>"error"===e.level).length;e.length?(this.refs.messageContainer&&this.empty(this.refs.messageContainer),this.error={component:this.component,message:e[0].message,messages:e,external:!!n},this.emit("componentError",this.error),this.addMessages(e,t,this.refs.input),this.refs.input&&this.setErrorClasses(this.refs.input,t,i,!!e.length)):this.error&&this.error.external===!!n&&(this.refs.messageContainer&&this.empty(this.refs.messageContainer),this.error=null,this.refs.input&&this.setErrorClasses(this.refs.input,t,i,!!e.length),this.clearErrorClasses())}isValueHidden(){return!(!this.root||!this.root.hasOwnProperty("editing"))&&(!(!this.root||!this.root.editing)&&(this.component.protected||!this.component.persistent||"client-only"===this.component.persistent))}shouldSkipValidation(e,t,n){const i=[()=>this.shouldDisabled,()=>this.isValueHidden(),()=>!this.visible,()=>!this.checkCondition(n,e)];return i.some(e=>e())}whenReady(){return console.warn("The whenReady() method has been deprecated. Please use the dataReady property instead."),this.dataReady}get dataReady(){return n.resolve()}asString(e){return e=e||this.getValue(),(Array.isArray(e)?e:[e]).map(r.toString).join(", ")}get disabled(){return this._disabled||this.parentDisabled}set disabled(e){this._disabled=e}setDisabled(e,t){e&&(e.disabled=t,t?e.setAttribute("disabled","disabled"):e.removeAttribute("disabled"))}setLoading(e,t){e&&e.loading!==t&&(e.loading=t,!e.loader&&t&&(e.loader=this.ce("i",{class:`${this.iconClass("refresh",!0)} button-icon-right`})),e.loader&&(t?this.appendTo(e.loader,e):this.removeChildFrom(e.loader,e)))}selectOptions(t,n,i,r){e.forEach(i,e=>{const n={value:e.value};void 0!==r&&e.value===r&&(n.selected="selected");const i=this.ce("option",n);i.appendChild(this.text(e.label)),t.appendChild(i)})}setSelectValue(t,n){const i=t.querySelectorAll("option");e.forEach(i,e=>{e.value===n?e.setAttribute("selected","selected"):e.removeAttribute("selected")}),t.onchange&&t.onchange(),t.onselect&&t.onselect()}clear(){this.detach(),this.empty(this.getElement())}append(e){this.appendTo(e,this.element)}prepend(e){this.prependTo(e,this.element)}removeChild(e){this.removeChildFrom(e,this.element)}detachLogic(){this.logic.forEach(e=>{if("event"===e.trigger.type){const t=this.interpolate(e.trigger.event);this.off(t)}})}attachLogic(){this.builderMode||this.logic.forEach(t=>{if("event"===t.trigger.type){const n=this.interpolate(t.trigger.event);this.on(n,(...n)=>{const i=c.fastCloneDeep(this.originalComponent);this.applyActions(i,t.actions,n)&&(e.isEqual(this.component,i)||(this.component=i),this.redraw())},!0)}})}elementInfo(){const e={name:this.options.name,type:this.component.inputType||"text",class:"form-control",lang:this.options.language};return this.component.placeholder&&(e.placeholder=this.t(this.component.placeholder)),this.component.tabindex&&(e.tabindex=this.component.tabindex),this.disabled&&(e.disabled="disabled"),r.defaults(e,this.component.attributes),{type:"input",component:this.component,changeEvent:"change",attr:e}}autofocus(){this.component.autofocus&&!this.builderMode&&this.on("render",()=>this.focus(),!0)}focus(){this.refs.input&&this.refs.input[0]&&this.refs.input[0].focus()}}}),e("skylark-formio/components/_classes/field/Field",["../component/Component"],function(e){"use strict";return class extends e{render(e){return this.noField?super.render(e):this.isAdvancedLabel?super.render(this.renderTemplate("field",{...this.getLabelInfo(),labelMarkup:this.renderTemplate("label"),element:e},"align")):super.render(this.renderTemplate("field",{labelMarkup:this.renderTemplate("label"),element:e}))}}}),e("skylark-formio/components/Components",["./_classes/component/Component","skylark-lodash"],function(e,t){"use strict";class n{static get components(){return n._components||(n._components={}),n._components}static setComponents(e){e.base&&(e.base.tableView=function(e,t){const i=n.create(t.component,t.options||{},t.data||{},!0);return i.getView(e)}),t.assign(n.components,e)}static addComponent(e,t){return n.setComponent(e,t)}static setComponent(e,t){n.components[e]=t}static create(t,i,r){let s=null;return s=t.type&&n.components.hasOwnProperty(t.type)?new n.components[t.type](t,i,r):Array.isArray(t.components)?new n.NestedComponent(t,i,r):new e(t,i,r)}}return n}),e("skylark-formio/components/_classes/nested/NestedComponent",["skylark-lodash","../field/Field","../../Components","../../../vendors/getify/npo"],function(e,t,n,i){"use strict";class r extends t{static schema(...e){return t.schema({tree:!1},...e)}constructor(e,t,n){super(e,t,n),this.type="components",this._collapsed=!!this.component.collapsed}get defaultSchema(){return r.schema()}get schema(){const t=super.schema,n=e.uniqBy(this.getComponents(),"component.key");return t.components=e.map(n,"schema"),t}get collapsed(){return this._collapsed}set collapsed(e){this._collapsed=e,this.redraw()}set visible(e){super.visible=e;const t=this.visible,n=this.options.show&&this.options.show[this.component.key],i=this.options.hide&&this.options.hide[this.component.key];this.components.forEach(e=>{const r=e.conditionallyVisible();n||r?e.visible=!0:!i&&t&&r||(e.visible=!1),e.visible||(e.error=""),e.parentVisible=t})}get visible(){return super.visible}set parentVisible(e){super.parentVisible=e,this.components.forEach(e=>{e.parentVisible=this.visible})}get parentVisible(){return super.parentVisible}get disabled(){return super.disabled}set disabled(e){super.disabled=e,this.components.forEach(t=>t.parentDisabled=e)}set parentDisabled(e){super.parentDisabled=e,this.components.forEach(e=>{e.parentDisabled=this.disabled})}get parentDisabled(){return super.parentDisabled}get ready(){return i.all(this.getComponents().map(e=>e.ready))}get currentForm(){return super.currentForm}set currentForm(e){super.currentForm=e,this.getComponents().forEach(t=>{t.currentForm=e})}get rowIndex(){return this._rowIndex}set rowIndex(e){this._rowIndex=e,this.eachComponent(t=>{t.rowIndex=e})}componentContext(){return this._data}get data(){return this._data}set data(e){this._data=e,this.eachComponent(e=>{e.data=this.componentContext(e)})}getComponents(){return this.components||[]}everyComponent(t){const n=this.getComponents();e.each(n,(e,i)=>!1!==t(e,n,i)&&(("function"!=typeof e.everyComponent||!1!==e.everyComponent(t))&&void 0))}hasComponent(e){let t=!1;return this.everyComponent(n=>{if(n===e)return t=!0,!1}),t}flattenComponents(){const e={};return this.everyComponent(t=>{e[t.component.flattenAs||t.key]=t}),e}eachComponent(t){e.each(this.getComponents(),(e,n)=>{if(!1===t(e,n))return!1})}getComponent(t,n){t=Array.isArray(t)?t:[t];const[i,...r]=t;let s=null;return e.isString(i)?(this.everyComponent((e,t)=>{if(e.component.key===i)return s=e,r.length>0&&"getComponent"in e?s=e.getComponent(r,n):n&&n(e,t),!1}),s):s}getComponentById(e,t){let n=null;return this.everyComponent((i,r)=>{if(i.id===e)return n=i,t&&t(i,r),!1}),n}createComponent(t,i,r,s){if(!t)return;i=i||this.options,r=r||this.data,i.parent=this,i.parentVisible=this.visible,i.root=this.root||this,i.skipInit=!0;const o=n.create(t,i,r,!0);if(t.key){let e=this;for(;e&&!e.allowData&&e.parent;)e=e.parent;o.path=e.path?`${e.path}.`:"",o.path+=t.key}if(o.init(),t.internal)return o;if(s){const t=e.findIndex(this.components,{id:s.id});-1!==t?this.components.splice(t,0,o):this.components.push(o)}else this.components.push(o);return o}getContainer(){return this.element}get componentComponents(){return this.component.components||[]}get nestedKey(){return`nested-${this.key}`}get templateName(){return"container"}init(){return this.components=this.components||[],this.addComponents(),super.init()}addComponents(e,t){if(e=e||this.data,(t=t||this.options).components)this.components=t.components;else{const t=this.hook("addComponents",this.componentComponents,this)||[];t.forEach(t=>this.addComponent(t,e))}}addComponent(e,t,n,i){t=t||this.data,e=this.hook("addComponent",e,t,n,i);const r=this.createComponent(e,this.options,t,n||null);return r}render(e){return super.render(e||this.renderTemplate(this.templateName,{children:this.renderComponents(),nestedKey:this.nestedKey,collapsed:this.collapsed}))}renderComponents(e){const t=(e=e||this.getComponents()).map(e=>e.render());return this.renderTemplate("components",{children:t,components:e})}attach(e){const t=super.attach(e);this.loadRefs(e,{header:"single",collapsed:this.collapsed,[this.nestedKey]:"single"});let n=i.resolve();return this.refs[this.nestedKey]&&(n=this.attachComponents(this.refs[this.nestedKey])),this.component.collapsible&&this.refs.header&&this.addEventListener(this.refs.header,"click",()=>{this.collapsed=!this.collapsed}),i.all([t,n])}attachComponents(e,t,n){if(t=t||this.components,n=n||this.component.components,!(e=this.hook("attachComponents",e,t,n,this)))return new i(()=>{});let r=0;const s=[];return Array.prototype.slice.call(e.children).forEach(e=>{!e.getAttribute("data-noattach")&&t[r]&&(s.push(t[r].attach(e)),r++)}),i.all(s)}removeComponent(t,n){n=n||this.components,t.destroy(),e.remove(n,{id:t.id})}removeComponentByKey(e,t){const n=this.getComponent(e,(e,n)=>{this.removeComponent(e,n),t&&t(e,n)});if(!n)return t&&t(null),null}removeComponentById(e,t){const n=this.getComponentById(e,(e,n)=>{this.removeComponent(e,n),t&&t(e,n)});if(!n)return t&&t(null),null}updateValue(e,t={}){return this.components.reduce((e,n)=>n.updateValue(null,t)||e,super.updateValue(e,t))}shouldSkipValidation(e,t,n){return!this.component.input||super.shouldSkipValidation(e,t,n)}checkData(e,t,n,i){return!!this.builderMode||(e=e||this.rootValue,t=t||{},n=n||this.data,(i=i||this.getComponents()).reduce((i,r)=>r.checkData(e,t,n)&&i,super.checkData(e,t,n)))}checkConditions(e,t,n){return this.getComponents().forEach(i=>i.checkConditions(e,t,n)),super.checkConditions(e,t,n)}clearOnHide(e){super.clearOnHide(e),this.component.clearOnHide&&(this.allowData&&!this.hasValue()&&(this.dataValue=this.defaultValue),this.hasValue()&&this.restoreComponentsContext()),this.getComponents().forEach(t=>t.clearOnHide(e))}restoreComponentsContext(){this.getComponents().forEach(e=>e.data=this.dataValue)}beforePage(e){return i.all(this.getComponents().map(t=>t.beforePage(e)))}beforeSubmit(){return i.all(this.getComponents().map(e=>e.beforeSubmit()))}calculateValue(e,t,n){return!!this.conditionallyVisible()&&this.getComponents().reduce((i,r)=>r.calculateValue(e,t,n)||i,super.calculateValue(e,t,n))}isLastPage(){return this.pages.length-1===this.page}isValid(e,t){return this.getComponents().reduce((n,i)=>i.isValid(e,t)&&n,super.isValid(e,t))}checkValidity(e,t,n){return this.checkCondition(n,e)?this.getComponents().reduce((i,r)=>r.checkValidity(e,t,n)&&i,super.checkValidity(e,t,n)):(this.setCustomValidity(""),!0)}checkAsyncValidity(e,t,n){const r=[super.checkAsyncValidity(e,t,n)];return this.eachComponent(i=>r.push(i.checkAsyncValidity(e,t,n))),i.all(r).then(e=>e.reduce((e,t)=>e&&t,!0))}setPristine(e){super.setPristine(e),this.getComponents().forEach(t=>t.setPristine(e))}detach(){this.components.forEach(e=>{e.detach()}),super.detach()}destroy(){this.destroyComponents(),super.destroy()}destroyComponents(){const e=this.getComponents().slice();e.forEach(e=>this.removeComponent(e,this.components)),this.components=[]}get errors(){const e=this.error?[this.error]:[];return this.getComponents().reduce((e,t)=>e.concat(t.errors||[]),e)}getValue(){return this.data}resetValue(){this.getComponents().forEach(e=>e.resetValue()),this.unset(),this.setPristine(!0)}get dataReady(){return i.all(this.getComponents().map(e=>e.dataReady))}setNestedValue(t,n,i={}){return t._data=this.componentContext(t),"button"!==t.type&&("components"===t.type?t.setValue(n,i):n&&t.hasValue(n)?t.setValue(e.get(n,t.key),i):!this.rootPristine||t.visible?(i.noValidate=!i.dirty,i.resetValue=!0,t.setValue(t.defaultValue,i)):void 0)}setValue(e,t={}){return!!e&&this.getComponents().reduce((n,i)=>this.setNestedValue(i,e,t,n)||n,!1)}}return n.NestedComponent=r,r}),e("skylark-formio/components/_classes/nesteddata/NestedDataComponent",["../component/Component","../nested/NestedComponent","skylark-lodash"],function(e,t,n){"use strict";return class extends t{hasChanged(e,t){return void 0!==e&&null!==e&&!this.hasValue()||!n.isEqual(e,t)}get allowData(){return!0}getValueAsString(){return"[Complex Data]"}getValue(){return this.dataValue}updateValue(t,n={}){return e.prototype.updateValue.call(this,t,n)}}}),e("skylark-formio/components/container/Container",["skylark-lodash","../_classes/component/Component","../_classes/nesteddata/NestedDataComponent"],function(e,t,n){"use strict";return class i extends n{static schema(...e){return n.schema({label:"Container",type:"container",key:"container",clearOnHide:!0,input:!0,tree:!0,hideLabel:!0,components:[]},...e)}static get builderInfo(){return{title:"Container",icon:"folder-open",group:"data",documentation:"http://help.form.io/userguide/#container",weight:10,schema:i.schema()}}constructor(...e){super(...e),this.type="container"}addComponents(e,t){return super.addComponents(this.dataValue,t)}get defaultSchema(){return i.schema()}get emptyValue(){return{}}get templateName(){return"container"}componentContext(){return this.dataValue}setValue(t,n={}){let i=!1;const r=this.hasValue();return r&&e.isEmpty(this.dataValue)&&(n.noValidate=!0),t&&e.isObject(t)&&r||(i=!0,this.dataValue=this.defaultValue),i=super.setValue(t,n)||i,this.updateOnChange(n,i),i}checkData(e,n,i,r){return e=e||this.rootValue,n=n||{},i=i||this.data,(r=r||this.getComponents()).reduce((t,i)=>i.checkData(e,n,this.dataValue)&&t,t.prototype.checkData.call(this,e,n,i))}}}),e("skylark-formio/components/address/Address",["skylark-langx","../../vendors/kraaden/autocomplete","skylark-lodash","../../Formio","../../providers/address/GoogleAddressProvider","../_classes/field/Field","../_classes/nested/NestedComponent","../container/Container"],function(e,t,n,i,r,s,o,a){"use strict";const l={Autocomplete:"autocomplete",Manual:"manual"},u="show = _.get(instance, 'parent.manualMode', false);";return class n extends a{static schema(...e){return a.schema({type:"address",label:"Address",key:"address",switchToManualModeLabel:"Can't find address? Switch to manual mode.",provider:"",providerOptions:{},manualModeViewString:"",hideLabel:!1,disableClearIcon:!1,enableManualMode:!1,components:[{label:"Address 1",tableView:!1,key:"address1",type:"textfield",input:!0,customConditional:u},{label:"Address 2",tableView:!1,key:"address2",type:"textfield",input:!0,customConditional:u},{label:"City",tableView:!1,key:"city",type:"textfield",input:!0,customConditional:u},{label:"State",tableView:!1,key:"state",type:"textfield",input:!0,customConditional:u},{label:"Country",tableView:!1,key:"country",type:"textfield",input:!0,customConditional:u},{label:"Zip Code",tableView:!1,key:"zip",type:"textfield",input:!0,customConditional:u}]},...e)}static get builderInfo(){return{title:"Address",group:"advanced",icon:"home",documentation:"http://help.form.io/userguide/#address",weight:35,schema:n.schema()}}mergeSchema(t={}){let{defaultSchema:n}=this;return t.components&&(n=e.omit(n,"components")),e.defaults(t,n)}init(){if(this.components=this.components||[],(this.builderMode||this.manualModeEnabled)&&o.prototype.addComponents.call(this,this.manualMode?this.address:{}),s.prototype.init.call(this),!this.builderMode)if(this.component.provider){const{provider:e,providerOptions:t}=this.component;this.provider=this.initializeProvider(e,t)}else if(this.component.map){this.component.provider=r.name,this.component.providerOptions=this.component.providerOptions||{};const{map:t,provider:n,providerOptions:i}=this.component,{key:s,region:o}=t;s&&e.set(i,"params.key",s),o&&e.set(i,"params.region",o),this.provider=this.initializeProvider(n,i)}}initializeProvider(e,t={}){const n=i.Providers.getProvider("address",e);return new n(t)}get emptyValue(){return this.manualModeEnabled?{mode:l.Autocomplete,address:{}}:{}}get mode(){return this.manualModeEnabled?this.dataValue?this.dataValue.mode:this.dataValue:l.Autocomplete}set mode(e){this.manualModeEnabled&&(this.dataValue.mode=e)}get autocompleteMode(){return this.mode===l.Autocomplete}get manualMode(){return this.mode===l.Manual}get manualModeEnabled(){return Boolean(this.component.enableManualMode)}restoreComponentsContext(){this.getComponents().forEach(e=>{e.data=this.address,e.setValue(e.dataValue,{noUpdateEvent:!0})})}get address(){return this.manualModeEnabled&&this.dataValue?this.dataValue.address:this.dataValue}set address(e){this.manualModeEnabled?this.dataValue.address=e:this.dataValue=e}get defaultSchema(){return n.schema()}isValueInLegacyFormat(e){return e&&!e.mode}normalizeValue(e){return this.manualModeEnabled&&this.isValueInLegacyFormat(e)?{mode:l.Autocomplete,address:e}:e}setValue(e,t={}){const n=s.prototype.setValue.call(this,e,t);return this.manualMode&&this.restoreComponentsContext(),n&&this.redraw(),n}static get modeSwitcherRef(){return"modeSwitcher"}static get removeValueIconRef(){return"removeValueIcon"}static get searchInputRef(){return"searchInput"}get modeSwitcher(){return this.refs&&this.refs[n.modeSwitcherRef]||null}get removeValueIcon(){return this.refs&&this.refs[n.removeValueIconRef]||null}get searchInput(){return this.refs&&this.refs[n.searchInputRef]||null}get searchInputAttributes(){const t={name:this.options.name,type:"text",class:"form-control",lang:this.options.language,tabindex:this.component.tabindex||0};return this.component.placeholder&&(t.placeholder=this.t(this.component.placeholder)),this.disabled&&(t.disabled="disabled"),e.defaults(t,this.component.attributes),t}get templateName(){return"address"}render(){return super.render(this.renderTemplate(this.templateName,{children:this.builderMode||this.manualModeEnabled?this.renderComponents():"",nestedKey:this.nestedKey,inputAttributes:this.searchInputAttributes,ref:{modeSwitcher:n.modeSwitcherRef,removeValueIcon:n.removeValueIconRef,searchInput:n.searchInputRef},displayValue:this.getDisplayValue(),mode:{autocomplete:this.autocompleteMode,manual:this.manualMode}}))}attach(e){const i=(this.builderMode||this.manualMode?super.attach:s.prototype.attach).call(this,e);if(!this.builderMode&&!this.provider&&this.component.provider){const{provider:e,providerOptions:t}=this.component;this.provider=this.initializeProvider(e,t)}if(this.loadRefs(e,{[n.modeSwitcherRef]:"single",[n.removeValueIconRef]:"single",[n.searchInputRef]:"single"}),!this.builderMode&&this.searchInput&&this.provider&&(t({input:this.searchInput,debounceWaitMs:300,fetch:(e,t)=>{const n=e;this.provider.search(n).then(t)},render:e=>{const t=this.ce("div");return t.textContent=this.getDisplayValue(e),t},onSelect:e=>{this.address=e,this.triggerChange({modified:!0}),this.searchInput&&(this.searchInput.value=this.getDisplayValue()),this.updateRemoveIcon()}}),this.addEventListener(this.searchInput,"blur",()=>{this.searchInput&&this.searchInput.value&&(this.searchInput.value=this.getDisplayValue())}),this.addEventListener(this.searchInput,"keyup",()=>{this.searchInput&&(this.searchInput.value||this.clearAddress())})),this.modeSwitcher&&this.addEventListener(this.modeSwitcher,"change",()=>{this.modeSwitcher&&(this.dataValue=this.emptyValue,this.mode=this.modeSwitcher.checked?l.Manual:l.Autocomplete,this.builderMode||(this.manualMode&&this.restoreComponentsContext(),this.triggerChange({modified:!0})),this.redraw())}),!this.builderMode&&this.removeValueIcon){this.updateRemoveIcon();const e=()=>{this.clearAddress(),this.focus()};this.addEventListener(this.removeValueIcon,"click",e),this.addEventListener(this.removeValueIcon,"keydown",({key:t})=>{"Enter"===t&&e()})}return i}addChildComponent(e){e.customConditional=u}redraw(){const e=this.modeSwitcher&&document.activeElement===this.modeSwitcher;return super.redraw().then(t=>(e&&this.modeSwitcher&&this.modeSwitcher.focus(),t))}clearAddress(){this.isEmpty()||this.triggerChange(),this.dataValue=this.emptyValue,this.searchInput&&(this.searchInput.value=""),this.updateRemoveIcon()}getDisplayValue(e=this.address){return this.provider&&!this.manualMode?this.provider.getDisplayValue(e):""}validateMultiple(){return!1}updateRemoveIcon(){this.removeValueIcon&&(this.isEmpty()||this.disabled?this.addClass(this.removeValueIcon,"address-autocomplete-remove-value-icon--hidden"):this.removeClass(this.removeValueIcon,"address-autocomplete-remove-value-icon--hidden"))}getValueAsString(t){if(!t)return"";const n=this.normalizeValue(t),{address:i,mode:r}=this.manualModeEnabled?n:{address:n,mode:l.Autocomplete},s=r===l.Manual;return this.provider&&!s?this.getDisplayValue(i):s?this.component.manualModeViewString?this.interpolate(this.component.manualModeViewString,{address:i,data:this.data,component:this.component}):this.getComponents().filter(e=>e.hasValue(i)).map(t=>[t,e.get(i,t.key)]).filter(([e,t])=>!e.isEmpty(t)).map(([e,t])=>e.getValueAsString(t)).join(", "):super.getValueAsString(i)}focus(){this.searchInput&&this.searchInput.focus()}}}),e("skylark-formio/components/_classes/multivalue/Multivalue",["../field/Field","skylark-lodash"],function(e,t){"use strict";return class extends e{get dataValue(){const e=super.dataValue;return!e&&this.component.multiple?[]:e}set dataValue(e){super.dataValue=e}get defaultValue(){let e=super.defaultValue;return this.component.multiple&&(e=t.isArray(e)?e.length?e:[super.emptyValue]:[e]),e}get addAnother(){return this.t(this.component.addAnother||" Add Another")}useWrapper(){return this.component.hasOwnProperty("multiple")&&this.component.multiple}render(){if(!this.useWrapper())return super.render(`<div ref="element">${this.renderElement(this.dataValue)}</div>`);let e=this.dataValue;return Array.isArray(e)||(e=e?[e]:[]),super.render(this.renderTemplate("multiValueTable",{rows:e.map(this.renderRow.bind(this)).join(""),disabled:this.disabled,addAnother:this.addAnother}))}renderElement(){return""}renderRow(e,t){return this.renderTemplate("multiValueRow",{index:t,disabled:this.disabled,element:`${this.renderElement(e,t)}`})}attach(e){const t=super.attach(e);if(this.loadRefs(e,{addButton:"multiple",input:"multiple",removeRow:"multiple",mask:"multiple",select:"multiple"}),this.refs.input.forEach(this.attachElement.bind(this)),this.component.multiple)return this.refs.removeRow.forEach((e,t)=>{this.addEventListener(e,"click",e=>{e.preventDefault(),this.removeValue(t)})}),this.refs.addButton.forEach(e=>{this.addEventListener(e,"click",e=>{e.preventDefault(),this.addValue()})}),t}detach(){this.refs.input&&this.refs.input.length&&this.refs.input.forEach(e=>{e.mask&&e.mask.destroy(),e.widget&&e.widget.destroy()}),this.refs.mask&&this.refs.mask.length&&this.refs.mask.forEach(e=>{e.mask&&e.mask.destroy()}),super.detach()}attachElement(e,n){this.addEventListener(e,this.inputInfo.changeEvent,()=>{const i=t.get(this.component,"case","mixed");if("mixed"!==i){const{selectionStart:t,selectionEnd:n}=e;"uppercase"===i&&e.value&&(e.value=e.value.toUpperCase()),"lowercase"===i&&e.value&&(e.value=e.value.toLowerCase()),e.selectionStart&&e.selectionEnd&&(e.selectionStart=t,e.selectionEnd=n)}if(!e.mask)return this.updateValue(null,{modified:"hidden"!==this.component.type},n);setTimeout(()=>this.updateValue(null,{modified:"hidden"!==this.component.type},n),1)}),this.attachMultiMask(n)||this.setInputMask(e)}onSelectMaskHandler(e){this.updateMask(e.target.maskInput,this.getMaskPattern(e.target.value))}getMaskPattern(e){if(this.multiMasks||(this.multiMasks={}),this.multiMasks[e])return this.multiMasks[e];const t=this.component.inputMasks.find(t=>t.label===e);return this.multiMasks[e]=t?t.mask:this.component.inputMasks[0].mask,this.multiMasks[e]}attachMultiMask(e){if(!(this.isMultipleMasksField&&this.component.inputMasks.length&&this.refs.input.length))return!1;const t=this.refs.select[e];return t.onchange=this.onSelectMaskHandler.bind(this),t.maskInput=this.refs.mask[e],this.setInputMask(t.maskInput,this.component.inputMasks[0].mask),!0}updateMask(e,t){t&&(this.setInputMask(e,t,!this.component.placeholder),this.updateValue())}addNewValue(e){void 0===e&&(e=this.component.defaultValue?this.component.defaultValue:this.emptyValue,Array.isArray(e)&&0===e.length&&(e=this.emptyValue));let t=this.dataValue||[];Array.isArray(t)||(t=[t]),Array.isArray(e)?t=t.concat(e):t.push(e),this.dataValue=t}addValue(){this.addNewValue(),this.redraw(),this.checkConditions(),this.isEmpty(this.dataValue)||this.restoreValue(),this.root&&this.root.onChange()}}}),e("skylark-formio/widgets/InputWidget",["skylark-lodash","../Element","../vendors/getify/npo"],function(e,t,n){"use strict";return class extends t{static get defaultSettings(){return{type:"input"}}constructor(t,n){super(t),this.namespace="formio.widget",this.component=n||{},this.settings=e.merge({},this.defaultSettings,t||{})}attach(e){return this._input=e,n.resolve()}get defaultSettings(){return{}}set disabled(e){e?this._input.setAttribute("disabled","disabled"):this._input.removeAttribute("disabled")}get input(){return this._input}getValue(){return this._input.value}getValueAsString(e){return e}validationValue(e){return e}addPrefix(){return null}addSuffix(){return null}setValue(e){this._input.value=e}}}),e("skylark-formio/vendors/flatpickr/flatpickr",[],function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},t=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],n={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},i={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year"},r=function(e){return("0"+e).slice(-2)},s=function(e){return!0===e?1:0};function o(e,t,n){var i;return void 0===n&&(n=!1),function(){var r=this,s=arguments;null!==i&&clearTimeout(i),i=window.setTimeout(function(){i=null,n||e.apply(r,s)},t),n&&!i&&e.apply(r,s)}}var a=function(e){return e instanceof Array?e:[e]};function l(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function u(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function c(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function h(e,t){var n=u("div","numInputWrapper"),i=u("input","numInput "+e),r=u("span","arrowUp"),s=u("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var o in t)i.setAttribute(o,t[o]);return n.appendChild(i),n.appendChild(r),n.appendChild(s),n}var d=function(){},p=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},f={D:d,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*s(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t){var n=parseInt(t);return new Date(e.getFullYear(),0,2+7*(n-1),0,0,0,0)},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:d,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:d,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},m={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},g={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[g.w(e,t,n)]},F:function(e,t,n){return p(g.n(e,t,n)-1,!1,t)},G:function(e,t,n){return r(g.h(e,t,n))},H:function(e){return r(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[s(e.getHours()>11)]},M:function(e,t){return p(e.getMonth(),!0,t)},S:function(e){return r(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return r(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return r(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return r(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},y=function(e){var t=e.config,r=void 0===t?n:t,s=e.l10n,o=void 0===s?i:s;return function(e,t,n){var i=n||o;return void 0!==r.formatDate?r.formatDate(e,t,i):t.split("").map(function(t,n,s){return g[t]&&"\\"!==s[n-1]?g[t](e,i,r):"\\"!==t?t:""}).join("")}},v=function(e){var t=e.config,r=void 0===t?n:t,s=e.l10n,o=void 0===s?i:s;return function(e,t,i,s){if(0===e||e){var a,l=s||o,u=e;if(e instanceof Date)a=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)a=new Date(e);else if("string"==typeof e){var c=t||(r||n).dateFormat,h=String(e).trim();if("today"===h)a=new Date,i=!0;else if(/Z$/.test(h)||/GMT$/.test(h))a=new Date(e);else if(r&&r.parseDate)a=r.parseDate(e,c);else{a=r&&r.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var d=void 0,p=[],g=0,y=0,v="";g<c.length;g++){var b=c[g],k="\\"===b,w="\\"===c[g-1]||k;if(m[b]&&!w){v+=m[b];var x=new RegExp(v).exec(e);x&&(d=!0)&&p["Y"!==b?"push":"unshift"]({fn:f[b],val:x[++y]})}else k||(v+=".");p.forEach(function(e){var t=e.fn,n=e.val;return a=t(a,n,l)||a})}a=d?a:void 0}}if(a instanceof Date&&!isNaN(a.getTime()))return!0===i&&a.setHours(0,0,0,0),a;r.errorHandler(new Error("Invalid date provided: "+u))}}};function b(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var k=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},w={DAY:864e5};"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},r=0,s=t;r<s.length;r++){var o=s[r];i(o)}return e});var x=300;function _(n,d){var f={config:e({},E.defaultConfig),l10n:i};function g(e){return e.bind(f)}function _(){var e=f.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==f.calendarContainer&&(f.calendarContainer.style.visibility="hidden",f.calendarContainer.style.display="block"),void 0!==f.daysContainer){var t=(f.days.offsetWidth+1)*e.showMonths;f.daysContainer.style.width=t+"px",f.calendarContainer.style.width=t+(void 0!==f.weekWrapper?f.weekWrapper.offsetWidth:0)+"px",f.calendarContainer.style.removeProperty("visibility"),f.calendarContainer.style.removeProperty("display")}})}function C(e){0===f.selectedDates.length&&re(),void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==f.amPM&&e.target===f.amPM&&(f.amPM.textContent=f.l10n.amPM[s(f.amPM.textContent===f.l10n.amPM[0])]);var i=parseFloat(n.getAttribute("min")),o=parseFloat(n.getAttribute("max")),a=parseFloat(n.getAttribute("step")),l=parseInt(n.value,10),u=e.delta||(t?38===e.which?1:-1:0),c=l+a*u;if(void 0!==n.value&&2===n.value.length){var h=n===f.hourElement,d=n===f.minuteElement;c<i?(c=o+c+s(!h)+(s(h)&&s(!f.amPM)),d&&V(void 0,-1,f.hourElement)):c>o&&(c=n===f.hourElement?c-o-s(!f.amPM):i,d&&V(void 0,1,f.hourElement)),f.amPM&&h&&(1===a?c+l===23:Math.abs(c-l)>a)&&(f.amPM.textContent=f.l10n.amPM[s(f.amPM.textContent===f.l10n.amPM[0])]),n.value=r(c)}}(e);var t=f._input.value;S(),be(),f._input.value!==t&&f._debouncedChange()}function S(){if(void 0!==f.hourElement&&void 0!==f.minuteElement){var e,t,n=(parseInt(f.hourElement.value.slice(-2),10)||0)%24,i=(parseInt(f.minuteElement.value,10)||0)%60,r=void 0!==f.secondElement?(parseInt(f.secondElement.value,10)||0)%60:0;void 0!==f.amPM&&(e=n,t=f.amPM.textContent,n=e%12+12*s(t===f.l10n.amPM[1]));var o=void 0!==f.config.minTime||f.config.minDate&&f.minDateHasTime&&f.latestSelectedDateObj&&0===b(f.latestSelectedDateObj,f.config.minDate,!0),a=void 0!==f.config.maxTime||f.config.maxDate&&f.maxDateHasTime&&f.latestSelectedDateObj&&0===b(f.latestSelectedDateObj,f.config.maxDate,!0);if(a){var l=void 0!==f.config.maxTime?f.config.maxTime:f.config.maxDate;(n=Math.min(n,l.getHours()))===l.getHours()&&(i=Math.min(i,l.getMinutes())),i===l.getMinutes()&&(r=Math.min(r,l.getSeconds()))}if(o){var u=void 0!==f.config.minTime?f.config.minTime:f.config.minDate;(n=Math.max(n,u.getHours()))===u.getHours()&&(i=Math.max(i,u.getMinutes())),i===u.getMinutes()&&(r=Math.max(r,u.getSeconds()))}T(n,i,r)}}function A(e){var t=e||f.latestSelectedDateObj;t&&T(t.getHours(),t.getMinutes(),t.getSeconds())}function M(){var e=f.config.defaultHour,t=f.config.defaultMinute,n=f.config.defaultSeconds;if(void 0!==f.config.minDate){var i=f.config.minDate.getHours(),r=f.config.minDate.getMinutes();(e=Math.max(e,i))===i&&(t=Math.max(r,t)),e===i&&t===r&&(n=f.config.minDate.getSeconds())}if(void 0!==f.config.maxDate){var s=f.config.maxDate.getHours(),o=f.config.maxDate.getMinutes();(e=Math.min(e,s))===s&&(t=Math.min(o,t)),e===s&&t===o&&(n=f.config.maxDate.getSeconds())}T(e,t,n)}function T(e,t,n){void 0!==f.latestSelectedDateObj&&f.latestSelectedDateObj.setHours(e%24,t,n||0,0),f.hourElement&&f.minuteElement&&!f.isMobile&&(f.hourElement.value=r(f.config.time_24hr?e:(12+e)%12+12*s(e%12==0)),f.minuteElement.value=r(t),void 0!==f.amPM&&(f.amPM.textContent=f.l10n.amPM[s(e>=12)]),void 0!==f.secondElement&&(f.secondElement.value=r(n)))}function D(e){var t=parseInt(e.target.value)+(e.delta||0);(t/1e3>1||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&X(t)}function O(e,t,n,i){return t instanceof Array?t.forEach(function(t){return O(e,t,n,i)}):e instanceof Array?e.forEach(function(e){return O(e,t,n,i)}):(e.addEventListener(t,n,i),void f._handlers.push({element:e,event:t,handler:n,options:i}))}function P(e){return function(t){1===t.which&&e(t)}}function L(){fe("onChange")}function I(){if(f.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(f.element.querySelectorAll("[data-"+e+"]"),function(t){return O(t,"click",f[e])})}),f.isMobile)!function(){var e=f.config.enableTime?f.config.noCalendar?"time":"datetime-local":"date";f.mobileInput=u("input",f.input.className+" flatpickr-mobile"),f.mobileInput.step=f.input.getAttribute("step")||"any",f.mobileInput.tabIndex=1,f.mobileInput.type=e,f.mobileInput.disabled=f.input.disabled,f.mobileInput.required=f.input.required,f.mobileInput.placeholder=f.input.placeholder,f.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",f.selectedDates.length>0&&(f.mobileInput.defaultValue=f.mobileInput.value=f.formatDate(f.selectedDates[0],f.mobileFormatStr));f.config.minDate&&(f.mobileInput.min=f.formatDate(f.config.minDate,"Y-m-d"));f.config.maxDate&&(f.mobileInput.max=f.formatDate(f.config.maxDate,"Y-m-d"));f.input.type="hidden",void 0!==f.altInput&&(f.altInput.type="hidden");try{f.input.parentNode&&f.input.parentNode.insertBefore(f.mobileInput,f.input.nextSibling)}catch(e){}O(f.mobileInput,"change",function(e){f.setDate(e.target.value,!1,f.mobileFormatStr),fe("onChange"),fe("onClose")})}();else{var e=o(ie,50);if(f._debouncedChange=o(L,x),f.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&O(f.daysContainer,"mouseover",function(e){"range"===f.config.mode&&ne(e.target)}),O(window.document.body,"keydown",te),f.config.static||O(f._input,"keydown",te),f.config.inline||f.config.static||O(window,"resize",e),void 0!==window.ontouchstart?O(window.document,"click",Z):O(window.document,"mousedown",P(Z)),O(window.document,"focus",Z,{capture:!0}),!0===f.config.clickOpens&&(O(f._input,"focus",f.open),O(f._input,"mousedown",P(f.open))),void 0!==f.daysContainer&&(O(f.monthNav,"mousedown",P(ke)),O(f.monthNav,["keyup","increment"],D),O(f.daysContainer,"mousedown",P(ce))),void 0!==f.timeContainer&&void 0!==f.minuteElement&&void 0!==f.hourElement){O(f.timeContainer,["increment"],C),O(f.timeContainer,"blur",C,{capture:!0}),O(f.timeContainer,"mousedown",P(F)),O([f.hourElement,f.minuteElement],["focus","click"],function(e){return e.target.select()}),void 0!==f.secondElement&&O(f.secondElement,"focus",function(){return f.secondElement&&f.secondElement.select()}),void 0!==f.amPM&&O(f.amPM,"mousedown",P(function(e){C(e),L()}))}}}function R(e){var t=void 0!==e?f.parseDate(e):f.latestSelectedDateObj||(f.config.minDate&&f.config.minDate>f.now?f.config.minDate:f.config.maxDate&&f.config.maxDate<f.now?f.config.maxDate:f.now);try{void 0!==t&&(f.currentYear=t.getFullYear(),f.currentMonth=t.getMonth())}catch(e){e.message="Invalid date supplied: "+t,f.config.errorHandler(e)}f.redraw()}function F(e){~e.target.className.indexOf("arrow")&&V(e,e.target.classList.contains("arrowUp")?1:-1)}function V(e,t,n){var i=e&&e.target,r=n||i&&i.parentNode&&i.parentNode.firstChild,s=me("increment");s.delta=t,r&&r.dispatchEvent(s)}function N(){var e=window.document.createDocumentFragment();if(f.calendarContainer=u("div","flatpickr-calendar"),f.calendarContainer.tabIndex=-1,!f.config.noCalendar){if(e.appendChild((f.monthNav=u("div","flatpickr-months"),f.yearElements=[],f.monthElements=[],f.prevMonthNav=u("span","flatpickr-prev-month"),f.prevMonthNav.innerHTML=f.config.prevArrow,f.nextMonthNav=u("span","flatpickr-next-month"),f.nextMonthNav.innerHTML=f.config.nextArrow,Y(),Object.defineProperty(f,"_hidePrevMonthArrow",{get:function(){return f.__hidePrevMonthArrow},set:function(e){f.__hidePrevMonthArrow!==e&&(l(f.prevMonthNav,"disabled",e),f.__hidePrevMonthArrow=e)}}),Object.defineProperty(f,"_hideNextMonthArrow",{get:function(){return f.__hideNextMonthArrow},set:function(e){f.__hideNextMonthArrow!==e&&(l(f.nextMonthNav,"disabled",e),f.__hideNextMonthArrow=e)}}),f.currentYearElement=f.yearElements[0],ye(),f.monthNav)),f.innerContainer=u("div","flatpickr-innerContainer"),f.config.weekNumbers){var t=function(){f.calendarContainer.classList.add("hasWeeks");var e=u("div","flatpickr-weekwrapper");e.appendChild(u("span","flatpickr-weekday",f.l10n.weekAbbreviation));var t=u("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,i=t.weekNumbers;f.innerContainer.appendChild(n),f.weekNumbers=i,f.weekWrapper=n}f.rContainer=u("div","flatpickr-rContainer"),f.rContainer.appendChild(W()),f.daysContainer||(f.daysContainer=u("div","flatpickr-days"),f.daysContainer.tabIndex=-1),B(),f.rContainer.appendChild(f.daysContainer),f.innerContainer.appendChild(f.rContainer),e.appendChild(f.innerContainer)}f.config.enableTime&&e.appendChild(function(){f.calendarContainer.classList.add("hasTime"),f.config.noCalendar&&f.calendarContainer.classList.add("noCalendar");f.timeContainer=u("div","flatpickr-time"),f.timeContainer.tabIndex=-1;var e=u("span","flatpickr-time-separator",":"),t=h("flatpickr-hour");f.hourElement=t.getElementsByTagName("input")[0];var n=h("flatpickr-minute");f.minuteElement=n.getElementsByTagName("input")[0],f.hourElement.tabIndex=f.minuteElement.tabIndex=-1,f.hourElement.value=r(f.latestSelectedDateObj?f.latestSelectedDateObj.getHours():f.config.time_24hr?f.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(f.config.defaultHour)),f.minuteElement.value=r(f.latestSelectedDateObj?f.latestSelectedDateObj.getMinutes():f.config.defaultMinute),f.hourElement.setAttribute("step",f.config.hourIncrement.toString()),f.minuteElement.setAttribute("step",f.config.minuteIncrement.toString()),f.hourElement.setAttribute("min",f.config.time_24hr?"0":"1"),f.hourElement.setAttribute("max",f.config.time_24hr?"23":"12"),f.minuteElement.setAttribute("min","0"),f.minuteElement.setAttribute("max","59"),f.timeContainer.appendChild(t),f.timeContainer.appendChild(e),f.timeContainer.appendChild(n),f.config.time_24hr&&f.timeContainer.classList.add("time24hr");if(f.config.enableSeconds){f.timeContainer.classList.add("hasSeconds");var i=h("flatpickr-second");f.secondElement=i.getElementsByTagName("input")[0],f.secondElement.value=r(f.latestSelectedDateObj?f.latestSelectedDateObj.getSeconds():f.config.defaultSeconds),f.secondElement.setAttribute("step",f.minuteElement.getAttribute("step")),f.secondElement.setAttribute("min","0"),f.secondElement.setAttribute("max","59"),f.timeContainer.appendChild(u("span","flatpickr-time-separator",":")),f.timeContainer.appendChild(i)}f.config.time_24hr||(f.amPM=u("span","flatpickr-am-pm",f.l10n.amPM[s((f.latestSelectedDateObj?f.hourElement.value:f.config.defaultHour)>11)]),f.amPM.title=f.l10n.toggleTitle,f.amPM.tabIndex=-1,f.timeContainer.appendChild(f.amPM));return f.timeContainer}()),l(f.calendarContainer,"rangeMode","range"===f.config.mode),l(f.calendarContainer,"animate",!0===f.config.animate),l(f.calendarContainer,"multiMonth",f.config.showMonths>1),f.calendarContainer.appendChild(e);var o=void 0!==f.config.appendTo&&void 0!==f.config.appendTo.nodeType;if((f.config.inline||f.config.static)&&(f.calendarContainer.classList.add(f.config.inline?"inline":"static"),f.config.inline&&(!o&&f.element.parentNode?f.element.parentNode.insertBefore(f.calendarContainer,f._input.nextSibling):void 0!==f.config.appendTo&&f.config.appendTo.appendChild(f.calendarContainer)),f.config.static)){var a=u("div","flatpickr-wrapper");f.element.parentNode&&f.element.parentNode.insertBefore(a,f.element),a.appendChild(f.element),f.altInput&&a.appendChild(f.altInput),a.appendChild(f.calendarContainer)}f.config.static||f.config.inline||(void 0!==f.config.appendTo?f.config.appendTo:window.document.body).appendChild(f.calendarContainer)}function j(e,t,n,i){var r=Q(t,!0),s=u("span","flatpickr-day "+e,t.getDate().toString());return s.dateObj=t,s.$i=i,s.setAttribute("aria-label",f.formatDate(t,f.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===b(t,f.now)&&(f.todayDateElem=s,s.classList.add("today"),s.setAttribute("aria-current","date")),r?(s.tabIndex=-1,ge(t)&&(s.classList.add("selected"),f.selectedDateElem=s,"range"===f.config.mode&&(l(s,"startRange",f.selectedDates[0]&&0===b(t,f.selectedDates[0],!0)),l(s,"endRange",f.selectedDates[1]&&0===b(t,f.selectedDates[1],!0)),"nextMonthDay"===e&&s.classList.add("inRange")))):s.classList.add("disabled"),"range"===f.config.mode&&function(e){return!("range"!==f.config.mode||f.selectedDates.length<2)&&b(e,f.selectedDates[0])>=0&&b(e,f.selectedDates[1])<=0}(t)&&!ge(t)&&s.classList.add("inRange"),f.weekNumbers&&1===f.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&f.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+f.config.getWeek(t)+"</span>"),fe("onDayCreate",s),s}function z(e){e.focus(),"range"===f.config.mode&&ne(e)}function U(e){for(var t=e>0?0:f.config.showMonths-1,n=e>0?f.config.showMonths:-1,i=t;i!=n;i+=e)for(var r=f.daysContainer.children[i],s=e>0?0:r.children.length-1,o=e>0?r.children.length:-1,a=s;a!=o;a+=e){var l=r.children[a];if(-1===l.className.indexOf("hidden")&&Q(l.dateObj))return l}}function $(e,t){var n=ee(document.activeElement||document.body),i=void 0!==e?e:n?document.activeElement:void 0!==f.selectedDateElem&&ee(f.selectedDateElem)?f.selectedDateElem:void 0!==f.todayDateElem&&ee(f.todayDateElem)?f.todayDateElem:U(t>0?1:-1);return void 0===i?f._input.focus():n?void function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():f.currentMonth,i=t>0?f.config.showMonths:-1,r=t>0?1:-1,s=n-f.currentMonth;s!=i;s+=r)for(var o=f.daysContainer.children[s],a=n-f.currentMonth===s?e.$i+t:t<0?o.children.length-1:0,l=o.children.length,u=a;u>=0&&u<l&&u!=(t>0?l:-1);u+=r){var c=o.children[u];if(-1===c.className.indexOf("hidden")&&Q(c.dateObj)&&Math.abs(e.$i-u)>=Math.abs(t))return z(c)}f.changeMonth(r),$(U(r),0)}(i,t):z(i)}function H(e,t){for(var n=(new Date(e,t,1).getDay()-f.l10n.firstDayOfWeek+7)%7,i=f.utils.getDaysInMonth((t-1+12)%12),r=f.utils.getDaysInMonth(t),s=window.document.createDocumentFragment(),o=f.config.showMonths>1,a=o?"prevMonthDay hidden":"prevMonthDay",l=o?"nextMonthDay hidden":"nextMonthDay",c=i+1-n,h=0;c<=i;c++,h++)s.appendChild(j(a,new Date(e,t-1,c),c,h));for(c=1;c<=r;c++,h++)s.appendChild(j("",new Date(e,t,c),c,h));for(var d=r+1;d<=42-n&&(1===f.config.showMonths||h%7!=0);d++,h++)s.appendChild(j(l,new Date(e,t+1,d%r),d,h));var p=u("div","dayContainer");return p.appendChild(s),p}function B(){if(void 0!==f.daysContainer){c(f.daysContainer),f.weekNumbers&&c(f.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<f.config.showMonths;t++){var n=new Date(f.currentYear,f.currentMonth,1);n.setMonth(f.currentMonth+t),e.appendChild(H(n.getFullYear(),n.getMonth()))}f.daysContainer.appendChild(e),f.days=f.daysContainer.firstChild,"range"===f.config.mode&&1===f.selectedDates.length&&ne()}}function q(){var e=u("div","flatpickr-month"),t=window.document.createDocumentFragment(),n=u("span","cur-month"),i=h("cur-year",{tabindex:"-1"}),r=i.getElementsByTagName("input")[0];r.setAttribute("aria-label",f.l10n.yearAriaLabel),f.config.minDate&&r.setAttribute("min",f.config.minDate.getFullYear().toString()),f.config.maxDate&&(r.setAttribute("max",f.config.maxDate.getFullYear().toString()),r.disabled=!!f.config.minDate&&f.config.minDate.getFullYear()===f.config.maxDate.getFullYear());var s=u("div","flatpickr-current-month");return s.appendChild(n),s.appendChild(i),t.appendChild(s),e.appendChild(t),{container:e,yearElement:r,monthElement:n}}function Y(){c(f.monthNav),f.monthNav.appendChild(f.prevMonthNav),f.config.showMonths&&(f.yearElements=[],f.monthElements=[]);for(var e=f.config.showMonths;e--;){var t=q();f.yearElements.push(t.yearElement),f.monthElements.push(t.monthElement),f.monthNav.appendChild(t.container)}f.monthNav.appendChild(f.nextMonthNav)}function W(){f.weekdayContainer?c(f.weekdayContainer):f.weekdayContainer=u("div","flatpickr-weekdays");for(var e=f.config.showMonths;e--;){var t=u("div","flatpickr-weekdaycontainer");f.weekdayContainer.appendChild(t)}return K(),f.weekdayContainer}function K(){var e=f.l10n.firstDayOfWeek,t=f.l10n.weekdays.shorthand.slice();e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=f.config.showMonths;n--;)f.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}function G(e,t){void 0===t&&(t=!0);var n=t?e:e-f.currentMonth;n<0&&!0===f._hidePrevMonthArrow||n>0&&!0===f._hideNextMonthArrow||(f.currentMonth+=n,(f.currentMonth<0||f.currentMonth>11)&&(f.currentYear+=f.currentMonth>11?1:-1,f.currentMonth=(f.currentMonth+12)%12,fe("onYearChange")),B(),fe("onMonthChange"),ye())}function J(e){return!(!f.config.appendTo||!f.config.appendTo.contains(e))||f.calendarContainer.contains(e)}function Z(e){if(f.isOpen&&!f.config.inline){var t=function(e){if("function"==typeof e.composedPath){var t=e.composedPath();return t[0]}return e.target}(e),n=J(t),i=t===f.input||t===f.altInput||f.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(f.input)||~e.path.indexOf(f.altInput)),r="blur"===e.type?i&&e.relatedTarget&&!J(e.relatedTarget):!i&&!n&&!J(e.relatedTarget),s=!f.config.ignoredFocusElements.some(function(e){return e.contains(t)});r&&s&&(f.close(),"range"===f.config.mode&&1===f.selectedDates.length&&(f.clear(!1),f.redraw()))}}function X(e){if(!(!e||f.config.minDate&&e<f.config.minDate.getFullYear()||f.config.maxDate&&e>f.config.maxDate.getFullYear())){var t=e,n=f.currentYear!==t;f.currentYear=t||f.currentYear,f.config.maxDate&&f.currentYear===f.config.maxDate.getFullYear()?f.currentMonth=Math.min(f.config.maxDate.getMonth(),f.currentMonth):f.config.minDate&&f.currentYear===f.config.minDate.getFullYear()&&(f.currentMonth=Math.max(f.config.minDate.getMonth(),f.currentMonth)),n&&(f.redraw(),fe("onYearChange"))}}function Q(e,t){void 0===t&&(t=!0);var n=f.parseDate(e,void 0,t);if(f.config.minDate&&n&&b(n,f.config.minDate,void 0!==t?t:!f.minDateHasTime)<0||f.config.maxDate&&n&&b(n,f.config.maxDate,void 0!==t?t:!f.maxDateHasTime)>0)return!1;if(0===f.config.enable.length&&0===f.config.disable.length)return!0;if(void 0===n)return!1;for(var i=f.config.enable.length>0,r=i?f.config.enable:f.config.disable,s=0,o=void 0;s<r.length;s++){if("function"==typeof(o=r[s])&&o(n))return i;if(o instanceof Date&&void 0!==n&&o.getTime()===n.getTime())return i;if("string"==typeof o&&void 0!==n){var a=f.parseDate(o,void 0,!0);return a&&a.getTime()===n.getTime()?i:!i}if("object"==typeof o&&void 0!==n&&o.from&&o.to&&n.getTime()>=o.from.getTime()&&n.getTime()<=o.to.getTime())return i}return!i}function ee(e){return void 0!==f.daysContainer&&(-1===e.className.indexOf("hidden")&&f.daysContainer.contains(e))}function te(e){var t=e.target===f._input,n=f.config.allowInput,i=f.isOpen&&(!n||!t),r=f.config.inline&&t&&!n;if(13===e.keyCode&&t){if(n)return f.setDate(f._input.value,!0,e.target===f.altInput?f.config.altFormat:f.config.dateFormat),e.target.blur();f.open()}else if(J(e.target)||i||r){var s=!!f.timeContainer&&f.timeContainer.contains(e.target);switch(e.keyCode){case 13:s?(C(),ue()):ce(e);break;case 27:e.preventDefault(),ue();break;case 8:case 46:t&&!f.config.allowInput&&(e.preventDefault(),f.clear());break;case 37:case 39:if(s)f.hourElement&&f.hourElement.focus();else if(e.preventDefault(),void 0!==f.daysContainer&&(!1===n||document.activeElement&&ee(document.activeElement))){var o=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),G(o),$(U(1),0)):$(void 0,o)}break;case 38:case 40:e.preventDefault();var a=40===e.keyCode?1:-1;f.daysContainer&&void 0!==e.target.$i||e.target===f.input?e.ctrlKey?(e.stopPropagation(),X(f.currentYear-a),$(U(1),0)):s||$(void 0,7*a):f.config.enableTime&&(!s&&f.hourElement&&f.hourElement.focus(),C(e),f._debouncedChange());break;case 9:if(s){var l=[f.hourElement,f.minuteElement,f.secondElement,f.amPM].filter(function(e){return e}),u=l.indexOf(e.target);if(-1!==u){var c=l[u+(e.shiftKey?-1:1)];void 0!==c?(e.preventDefault(),c.focus()):e.shiftKey&&(e.preventDefault(),f._input.focus())}}}}if(void 0!==f.amPM&&e.target===f.amPM)switch(e.key){case f.l10n.amPM[0].charAt(0):case f.l10n.amPM[0].charAt(0).toLowerCase():f.amPM.textContent=f.l10n.amPM[0],S(),be();break;case f.l10n.amPM[1].charAt(0):case f.l10n.amPM[1].charAt(0).toLowerCase():f.amPM.textContent=f.l10n.amPM[1],S(),be()}fe("onKeyDown",e)}function ne(e){if(1===f.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled"))){for(var t=e?e.dateObj.getTime():f.days.firstElementChild.dateObj.getTime(),n=f.parseDate(f.selectedDates[0],void 0,!0).getTime(),i=Math.min(t,f.selectedDates[0].getTime()),r=Math.max(t,f.selectedDates[0].getTime()),s=f.daysContainer.lastChild.lastChild.dateObj.getTime(),o=!1,a=0,l=0,u=i;u<s;u+=w.DAY)Q(new Date(u),!0)||(o=o||u>i&&u<r,u<n&&(!a||u>a)?a=u:u>n&&(!l||u<l)&&(l=u));for(var c=0;c<f.config.showMonths;c++)for(var h=f.daysContainer.children[c],d=f.daysContainer.children[c-1],p=function(i,r){var s=h.children[i],u=s.dateObj,p=u.getTime(),m=a>0&&p<a||l>0&&p>l;return m?(s.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){s.classList.remove(e)}),"continue"):o&&!m?"continue":(["startRange","inRange","endRange","notAllowed"].forEach(function(e){s.classList.remove(e)}),void(void 0!==e&&(e.classList.add(t<f.selectedDates[0].getTime()?"startRange":"endRange"),!h.contains(e)&&c>0&&d&&d.lastChild.dateObj.getTime()>=p||(n<t&&p===n?s.classList.add("startRange"):n>t&&p===n&&s.classList.add("endRange"),p>=a&&(0===l||p<=l)&&k(p,n,t)&&s.classList.add("inRange")))))},m=0,g=h.children.length;m<g;m++)p(m,g)}}function ie(){!f.isOpen||f.config.static||f.config.inline||ae()}function re(){f.setDate(void 0!==f.config.minDate?new Date(f.config.minDate.getTime()):new Date,!1),M(),be()}function se(e){return function(t){var n=f.config["_"+e+"Date"]=f.parseDate(t,f.config.dateFormat),i=f.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(f["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),f.selectedDates&&(f.selectedDates=f.selectedDates.filter(function(e){return Q(e)}),f.selectedDates.length||"min"!==e||A(n),be()),f.daysContainer&&(le(),void 0!==n?f.currentYearElement[e]=n.getFullYear().toString():f.currentYearElement.removeAttribute(e),f.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function oe(){"object"!=typeof f.config.locale&&void 0===E.l10ns[f.config.locale]&&f.config.errorHandler(new Error("flatpickr: invalid locale "+f.config.locale)),f.l10n=e({},E.l10ns.default,"object"==typeof f.config.locale?f.config.locale:"default"!==f.config.locale?E.l10ns[f.config.locale]:void 0),m.K="("+f.l10n.amPM[0]+"|"+f.l10n.amPM[1]+"|"+f.l10n.amPM[0].toLowerCase()+"|"+f.l10n.amPM[1].toLowerCase()+")",f.formatDate=y(f),f.parseDate=v({config:f.config,l10n:f.l10n})}function ae(e){if(void 0!==f.calendarContainer){fe("onPreCalendarPosition");var t=e||f._positionElement,n=Array.prototype.reduce.call(f.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),i=f.calendarContainer.offsetWidth,r=f.config.position.split(" "),s=r[0],o=r.length>1?r[1]:null,a=t.getBoundingClientRect(),u=window.innerHeight-a.bottom,c="above"===s||"below"!==s&&u<n&&a.top>n,h=window.pageYOffset+a.top+(c?-n-2:t.offsetHeight+2);if(l(f.calendarContainer,"arrowTop",!c),l(f.calendarContainer,"arrowBottom",c),!f.config.inline){var d=window.pageXOffset+a.left-(null!=o&&"center"===o?(i-a.width)/2:0),p=window.document.body.offsetWidth-a.right,m=d+i>window.document.body.offsetWidth,g=p+i>window.document.body.offsetWidth;if(l(f.calendarContainer,"rightMost",m),!f.config.static)if(f.calendarContainer.style.top=h+"px",m)if(g){var y=document.styleSheets[0];if(void 0===y)return;var v=window.document.body.offsetWidth,b=Math.max(0,v/2-i/2),k=y.cssRules.length,w="{left:"+a.left+"px;right:auto;}";l(f.calendarContainer,"rightMost",!1),l(f.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+w,k),f.calendarContainer.style.left=b+"px",f.calendarContainer.style.right="auto"}else f.calendarContainer.style.left="auto",f.calendarContainer.style.right=p+"px";else f.calendarContainer.style.left=d+"px",f.calendarContainer.style.right="auto"}}}function le(){f.config.noCalendar||f.isMobile||(ye(),B())}function ue(){f._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(f.close,0):f.close()}function ce(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){if(n(t))return t;if(t.parentNode)return e(t.parentNode,n);return}(e.target,function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")&&!e.classList.contains("notAllowed")});if(void 0!==t){var n=t,i=f.latestSelectedDateObj=new Date(n.dateObj.getTime()),r=(i.getMonth()<f.currentMonth||i.getMonth()>f.currentMonth+f.config.showMonths-1)&&"range"!==f.config.mode;if(f.selectedDateElem=n,"single"===f.config.mode)f.selectedDates=[i];else if("multiple"===f.config.mode){var s=ge(i);s?f.selectedDates.splice(parseInt(s),1):f.selectedDates.push(i)}else"range"===f.config.mode&&(2===f.selectedDates.length&&f.clear(!1,!1),f.latestSelectedDateObj=i,f.selectedDates.push(i),0!==b(i,f.selectedDates[0],!0)&&f.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(S(),r){var o=f.currentYear!==i.getFullYear();f.currentYear=i.getFullYear(),f.currentMonth=i.getMonth(),o&&fe("onYearChange"),fe("onMonthChange")}if(ye(),B(),be(),f.config.enableTime&&setTimeout(function(){return f.showTimeInput=!0},50),r||"range"===f.config.mode||1!==f.config.showMonths?void 0!==f.selectedDateElem&&void 0===f.hourElement&&f.selectedDateElem&&f.selectedDateElem.focus():z(n),void 0!==f.hourElement&&void 0!==f.hourElement&&f.hourElement.focus(),f.config.closeOnSelect){var a="single"===f.config.mode&&!f.config.enableTime,l="range"===f.config.mode&&2===f.selectedDates.length&&!f.config.enableTime;(a||l)&&ue()}L()}}f.parseDate=v({config:f.config,l10n:f.l10n}),f._handlers=[],f._bind=O,f._setHoursFromDate=A,f._positionCalendar=ae,f.changeMonth=G,f.changeYear=X,f.clear=function(e,t){void 0===e&&(e=!0);void 0===t&&(t=!0);f.input.value="",void 0!==f.altInput&&(f.altInput.value="");void 0!==f.mobileInput&&(f.mobileInput.value="");f.selectedDates=[],f.latestSelectedDateObj=void 0,!0===t&&(f.currentYear=f._initialDate.getFullYear(),f.currentMonth=f._initialDate.getMonth());f.showTimeInput=!1,!0===f.config.enableTime&&M();f.redraw(),e&&fe("onChange")},f.close=function(){f.isOpen=!1,f.isMobile||(void 0!==f.calendarContainer&&f.calendarContainer.classList.remove("open"),void 0!==f._input&&f._input.classList.remove("active"));fe("onClose")},f._createElement=u,f.destroy=function(){void 0!==f.config&&fe("onDestroy");for(var e=f._handlers.length;e--;){var t=f._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(f._handlers=[],f.mobileInput)f.mobileInput.parentNode&&f.mobileInput.parentNode.removeChild(f.mobileInput),f.mobileInput=void 0;else if(f.calendarContainer&&f.calendarContainer.parentNode)if(f.config.static&&f.calendarContainer.parentNode){var n=f.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else f.calendarContainer.parentNode.removeChild(f.calendarContainer);f.altInput&&(f.input.type="text",f.altInput.parentNode&&f.altInput.parentNode.removeChild(f.altInput),delete f.altInput);f.input&&(f.input.type=f.input._type,f.input.classList.remove("flatpickr-input"),f.input.removeAttribute("readonly"),f.input.value="");["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete f[e]}catch(e){}})},f.isEnabled=Q,f.jumpToDate=R,f.open=function(e,t){void 0===t&&(t=f._positionElement);if(!0===f.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),void 0!==f.mobileInput&&(f.mobileInput.focus(),f.mobileInput.click()),void fe("onOpen");if(f._input.disabled||f.config.inline)return;var n=f.isOpen;f.isOpen=!0,n||(f.calendarContainer.classList.add("open"),f._input.classList.add("active"),fe("onOpen"),ae(t));!0===f.config.enableTime&&!0===f.config.noCalendar&&(0===f.selectedDates.length&&re(),!1!==f.config.allowInput||void 0!==e&&f.timeContainer.contains(e.relatedTarget)||setTimeout(function(){return f.hourElement.select()},50))},f.redraw=le,f.set=function(e,n){null!==e&&"object"==typeof e?Object.assign(f.config,e):(f.config[e]=n,void 0!==he[e]?he[e].forEach(function(e){return e()}):t.indexOf(e)>-1&&(f.config[e]=a(n)));f.redraw(),be(!1)},f.setDate=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=f.config.dateFormat);if(0!==e&&!e||e instanceof Array&&0===e.length)return f.clear(t);de(e,n),f.showTimeInput=f.selectedDates.length>0,f.latestSelectedDateObj=f.selectedDates[0],f.redraw(),R(),A(),be(t),t&&fe("onChange")},f.toggle=function(e){if(!0===f.isOpen)return f.close();f.open(e)};var he={locale:[oe,K],showMonths:[Y,_,W]};function de(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return f.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[f.parseDate(e,t)];else if("string"==typeof e)switch(f.config.mode){case"single":case"time":n=[f.parseDate(e,t)];break;case"multiple":n=e.split(f.config.conjunction).map(function(e){return f.parseDate(e,t)});break;case"range":n=e.split(f.l10n.rangeSeparator).map(function(e){return f.parseDate(e,t)})}else f.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));f.selectedDates=n.filter(function(e){return e instanceof Date&&Q(e,!1)}),"range"===f.config.mode&&f.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function pe(e){return e.slice().map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?f.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:f.parseDate(e.from,void 0),to:f.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function fe(e,t){if(void 0!==f.config){var n=f.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](f.selectedDates,f.input.value,f,t);"onChange"===e&&(f.input.dispatchEvent(me("change")),f.input.dispatchEvent(me("input")))}}function me(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ge(e){for(var t=0;t<f.selectedDates.length;t++)if(0===b(f.selectedDates[t],e))return""+t;return!1}function ye(){f.config.noCalendar||f.isMobile||!f.monthNav||(f.yearElements.forEach(function(e,t){var n=new Date(f.currentYear,f.currentMonth,1);n.setMonth(f.currentMonth+t),f.monthElements[t].textContent=p(n.getMonth(),f.config.shorthandCurrentMonth,f.l10n)+" ",e.value=n.getFullYear().toString()}),f._hidePrevMonthArrow=void 0!==f.config.minDate&&(f.currentYear===f.config.minDate.getFullYear()?f.currentMonth<=f.config.minDate.getMonth():f.currentYear<f.config.minDate.getFullYear()),f._hideNextMonthArrow=void 0!==f.config.maxDate&&(f.currentYear===f.config.maxDate.getFullYear()?f.currentMonth+1>f.config.maxDate.getMonth():f.currentYear>f.config.maxDate.getFullYear()))}function ve(e){return f.selectedDates.map(function(t){return f.formatDate(t,e)}).filter(function(e,t,n){return"range"!==f.config.mode||f.config.enableTime||n.indexOf(e)===t}).join("range"!==f.config.mode?f.config.conjunction:f.l10n.rangeSeparator)}function be(e){if(void 0===e&&(e=!0),0===f.selectedDates.length)return f.clear(e);void 0!==f.mobileInput&&f.mobileFormatStr&&(f.mobileInput.value=void 0!==f.latestSelectedDateObj?f.formatDate(f.latestSelectedDateObj,f.mobileFormatStr):""),f.input.value=ve(f.config.dateFormat),void 0!==f.altInput&&(f.altInput.value=ve(f.config.altFormat)),!1!==e&&fe("onValueUpdate")}function ke(e){e.preventDefault();var t=f.prevMonthNav.contains(e.target),n=f.nextMonthNav.contains(e.target);t||n?G(t?-1:1):f.yearElements.indexOf(e.target)>=0?e.target.select():e.target.classList.contains("arrowUp")?f.changeYear(f.currentYear+1):e.target.classList.contains("arrowDown")&&f.changeYear(f.currentYear-1)}return function(){f.element=f.input=n,f.isOpen=!1,function(){var i=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=e({},d,JSON.parse(JSON.stringify(n.dataset||{}))),s={};f.config.parseDate=r.parseDate,f.config.formatDate=r.formatDate,Object.defineProperty(f.config,"enable",{get:function(){return f.config._enable},set:function(e){f.config._enable=pe(e)}}),Object.defineProperty(f.config,"disable",{get:function(){return f.config._disable},set:function(e){f.config._disable=pe(e)}});var o="time"===r.mode;r.dateFormat||!r.enableTime&&!o||(s.dateFormat=r.noCalendar||o?"H:i"+(r.enableSeconds?":S":""):E.defaultConfig.dateFormat+" H:i"+(r.enableSeconds?":S":"")),r.altInput&&(r.enableTime||o)&&!r.altFormat&&(s.altFormat=r.noCalendar||o?"h:i"+(r.enableSeconds?":S K":" K"):E.defaultConfig.altFormat+" h:i"+(r.enableSeconds?":S":"")+" K"),Object.defineProperty(f.config,"minDate",{get:function(){return f.config._minDate},set:se("min")}),Object.defineProperty(f.config,"maxDate",{get:function(){return f.config._maxDate},set:se("max")});var l=function(e){return function(t){f.config["min"===e?"_minTime":"_maxTime"]=f.parseDate(t,"H:i")}};Object.defineProperty(f.config,"minTime",{get:function(){return f.config._minTime},set:l("min")}),Object.defineProperty(f.config,"maxTime",{get:function(){return f.config._maxTime},set:l("max")}),"time"===r.mode&&(f.config.noCalendar=!0,f.config.enableTime=!0),Object.assign(f.config,s,r);for(var u=0;u<i.length;u++)f.config[i[u]]=!0===f.config[i[u]]||"true"===f.config[i[u]];t.filter(function(e){return void 0!==f.config[e]}).forEach(function(e){f.config[e]=a(f.config[e]||[]).map(g)}),f.isMobile=!f.config.disableMobile&&!f.config.inline&&"single"===f.config.mode&&!f.config.disable.length&&!f.config.enable.length&&!f.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var u=0;u<f.config.plugins.length;u++){var c=f.config.plugins[u](f)||{};for(var h in c)t.indexOf(h)>-1?f.config[h]=a(c[h]).map(g).concat(f.config[h]):void 0===r[h]&&(f.config[h]=c[h])}fe("onParseConfig")}(),oe(),f.input=f.config.wrap?n.querySelector("[data-input]"):n,f.input?(f.input._type=f.input.type,f.input.type="text",f.input.classList.add("flatpickr-input"),f._input=f.input,f.config.altInput&&(f.altInput=u(f.input.nodeName,f.input.className+" "+f.config.altInputClass),f._input=f.altInput,f.altInput.placeholder=f.input.placeholder,f.altInput.disabled=f.input.disabled,f.altInput.required=f.input.required,f.altInput.tabIndex=f.input.tabIndex,f.altInput.type="text",f.input.setAttribute("type","hidden"),!f.config.static&&f.input.parentNode&&f.input.parentNode.insertBefore(f.altInput,f.input.nextSibling)),f.config.allowInput||f._input.setAttribute("readonly","readonly"),f._positionElement=f.config.positionElement||f._input):f.config.errorHandler(new Error("Invalid input element specified")),function(){f.selectedDates=[],f.now=f.parseDate(f.config.now)||new Date;var e=f.config.defaultDate||("INPUT"!==f.input.nodeName&&"TEXTAREA"!==f.input.nodeName||!f.input.placeholder||f.input.value!==f.input.placeholder?f.input.value:null);e&&de(e,f.config.dateFormat),f._initialDate=f.selectedDates.length>0?f.selectedDates[0]:f.config.minDate&&f.config.minDate.getTime()>f.now.getTime()?f.config.minDate:f.config.maxDate&&f.config.maxDate.getTime()<f.now.getTime()?f.config.maxDate:f.now,f.currentYear=f._initialDate.getFullYear(),f.currentMonth=f._initialDate.getMonth(),f.selectedDates.length>0&&(f.latestSelectedDateObj=f.selectedDates[0]),void 0!==f.config.minTime&&(f.config.minTime=f.parseDate(f.config.minTime,"H:i")),void 0!==f.config.maxTime&&(f.config.maxTime=f.parseDate(f.config.maxTime,"H:i")),f.minDateHasTime=!!f.config.minDate&&(f.config.minDate.getHours()>0||f.config.minDate.getMinutes()>0||f.config.minDate.getSeconds()>0),f.maxDateHasTime=!!f.config.maxDate&&(f.config.maxDate.getHours()>0||f.config.maxDate.getMinutes()>0||f.config.maxDate.getSeconds()>0),Object.defineProperty(f,"showTimeInput",{get:function(){return f._showTimeInput},set:function(e){f._showTimeInput=e,f.calendarContainer&&l(f.calendarContainer,"showTimeInput",e),f.isOpen&&ae()}})}(),f.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=f.currentMonth),void 0===t&&(t=f.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:f.l10n.daysInMonth[e]}},f.isMobile||N();I(),(f.selectedDates.length||f.config.noCalendar)&&(f.config.enableTime&&A(f.config.noCalendar?f.latestSelectedDateObj||f.config.minDate:void 0),be(!1));_(),f.showTimeInput=f.selectedDates.length>0||f.config.noCalendar;var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!f.isMobile&&i&&ae();fe("onReady")}(),f}function C(e,t){for(var n=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement}),i=[],r=0;r<n.length;r++){var s=n[r];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=_(s,t||{}),i.push(s._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return C(this,e)},HTMLElement.prototype.flatpickr=function(e){return C([this],e)});var E=function(e,t){return"string"==typeof e?C(window.document.querySelectorAll(e),t):e instanceof Node?C([e],t):C(e,t)};return E.defaultConfig=n,E.l10ns={en:e({},i),default:e({},i)},E.localize=function(t){E.l10ns.default=e({},E.l10ns.default,t)},E.setDefaults=function(t){E.defaultConfig=e({},E.defaultConfig,t)},E.parseDate=v({}),E.formatDate=y({}),E.compareDates=b,"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return C(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=E),E}),e("skylark-formio/widgets/CalendarWidget",["../vendors/flatpickr/flatpickr","./InputWidget","../utils/utils","skylark-moment","skylark-lodash"],function(e,t,n,i,r){"use strict";return class s extends t{static get defaultSettings(){return{type:"calendar",altInput:!0,allowInput:!0,clickOpens:!0,enableDate:!0,enableTime:!0,mode:"single",noCalendar:!1,format:"yyyy-MM-dd hh:mm a",dateFormat:"yyyy-MM-ddTHH:mm:ssZ",useLocaleSettings:!1,language:"us-en",hourIncrement:1,minuteIncrement:5,time_24hr:!1,saveAs:"date",displayInTimezone:"",timezone:"",disable:[],minDate:"",maxDate:""}}constructor(e,t){super(e,t),this.settings.noCalendar&&(this.settings.format=this.settings.format.replace(/yyyy-MM-dd /g,"")),this.settings.enableTime?this.settings.time_24hr&&(this.settings.format=this.settings.format.replace(/hh:mm a$/g,"HH:mm")):this.settings.format=this.settings.format.replace(/ hh:mm a$/g,"")}loadZones(){const e=this.timezone;return!(n.zonesLoaded()||!n.shouldLoadZones(e))&&(n.loadZones(e).then(()=>this.emit("redraw")),!0)}attach(t){const i=super.attach(t);t&&!t.getAttribute("placeholder")&&t.setAttribute("placeholder",this.settings.format);const r=n.getLocaleDateFormatInfo(this.settings.language);return this.defaultFormat={date:r.dayFirst?"d/m/Y ":"m/d/Y ",time:"G:i K"},this.closedOn=0,this.valueFormat=this.settings.dateFormat||"yyyy-MM-ddTHH:mm:ssZ",this.valueMomentFormat=n.convertFormatToMoment(this.valueFormat),this.settings.minDate=n.getDateSetting(this.settings.minDate),this.settings.disable=this.disabledDates,this.settings.disableWeekends&&this.settings.disable.push(this.disableWeekends),this.settings.disableWeekdays&&this.settings.disable.push(this.disableWeekdays),this.settings.disableFunction&&this.settings.disable.push(this.disableFunction),this.settings.maxDate=n.getDateSetting(this.settings.maxDate),this.settings.altFormat=n.convertFormatToFlatpickr(this.settings.format),this.settings.dateFormat=n.convertFormatToFlatpickr(this.settings.dateFormat),this.settings.onChange=(()=>this.emit("update")),this.settings.onClose=(()=>{this.closedOn=Date.now(),this.calendar&&this.emit("blur")}),this.settings.formatDate=((t,i)=>this.settings.readOnly&&i===this.settings.altFormat?"text"===this.settings.saveAs||this.formatDate()?e.formatDate(t,i):n.formatOffset(e.undefined.bind(e),t,i,this.timezone):e.formatDate(t,i)),this._input&&(this.calendar=new e(this._input,this.settings),this.setInputMask(this.calendar._input,n.convertFormatToMask(this.settings.format)),this.addEventListener(this.calendar._input,"blur",()=>this.calendar.setDate(this.calendar._input.value,!0,this.settings.altFormat))),i}get disableWeekends(){return function(e){return 0===e.getDay()||6===e.getDay()}}get disableWeekdays(){return e=>!this.disableWeekends(e)}get disableFunction(){return e=>this.evaluate(`return ${this.settings.disableFunction}`,{date:e})}get timezone(){return this.settings.timezone?this.settings.timezone:"submission"===this.settings.displayInTimezone&&this.settings.submissionTimezone?this.settings.submissionTimezone:"utc"===this.settings.displayInTimezone?"UTC":n.currentTimezone()}get defaultSettings(){return s.defaultSettings}addSuffix(e){return this.addEventListener(e,"click",()=>{this.calendar&&!this.calendar.isOpen&&Date.now()-this.closedOn>200&&this.calendar.open()}),e}set disabled(e){super.disabled=e,this.calendar&&(e?this.calendar._input.setAttribute("disabled","disabled"):this.calendar._input.removeAttribute("disabled"),this.calendar.close(),this.calendar.redraw())}get input(){return this.calendar?this.calendar.altInput:null}get disabledDates(){if(this.settings.disabledDates){const e=this.settings.disabledDates.split(",");return e.map(e=>{const t=/\d{4}-\d{2}-\d{2}/g,n=e.match(t);if(n.length)return 1===n.length?e.match(t)[0]:{from:e.match(t)[0],to:e.match(t)[1]}})}return[]}get localeFormat(){let e="";return this.settings.enableDate&&(e+=this.defaultFormat.date),this.settings.enableTime&&(e+=this.defaultFormat.time),e}get dateTimeFormat(){return this.settings.useLocaleSettings?this.localeFormat:n.convertFormatToFlatpickr(this.dateFormat)}get dateFormat(){return r.get(this.settings,"format","yyyy-MM-dd hh:mm a")}getDateValue(e,t){return i(e).format(n.convertFormatToMoment(t))}getValue(){if(!this.calendar)return super.getValue();const e=this.calendar.selectedDates;return e&&e.length?e[0]instanceof Date?this.getDateValue(e[0],this.valueFormat):"Invalid Date":super.getValue()}setValue(e){if(!this.calendar)return super.setValue(e);e?"text"!==this.settings.saveAs&&this.settings.readOnly&&!this.loadZones()?this.calendar.setDate(n.momentDate(e,this.valueFormat,this.timezone).toDate(),!1):this.calendar.setDate(i(e,this.valueMomentFormat).toDate(),!1):this.calendar.clear(!1)}getValueAsString(e,t){return t=t||this.dateFormat,"text"===this.settings.saveAs?this.getDateValue(e,t):n.formatDate(e,t,this.timezone)}validationValue(e){return"string"==typeof e?new Date(e):e.map(e=>new Date(e))}destroy(){super.destroy(),this.calendar&&this.calendar.destroy()}}}),e("skylark-formio/widgets/index",["./InputWidget","./CalendarWidget"],function(e,t){"use strict";return{input:e,calendar:t}}),e("skylark-formio/components/_classes/input/Input",["skylark-langx","../multivalue/Multivalue","../../../utils/utils","../../../widgets/index","skylark-lodash"],function(e,t,n,i,r){"use strict";return class extends t{constructor(t,n,i){super(t,n,i),this.triggerUpdateValueAt=e.debounce(this.updateValueAt.bind(this),100)}static schema(...e){return t.schema({widget:{type:"input"}},...e)}get inputInfo(){const t={name:this.options.name,type:this.component.inputType||"text",class:"form-control",lang:this.options.language};return this.component.placeholder&&(t.placeholder=this.t(this.component.placeholder)),this.component.tabindex&&(t.tabindex=this.component.tabindex),this.disabled&&(t.disabled="disabled"),e.defaults(t,this.component.attributes),{id:this.key,type:"input",changeEvent:"input",content:"",attr:t}}get maskOptions(){return e.map(this.component.inputMasks,e=>({label:e.label,value:e.label}))}get isMultipleMasksField(){return this.component.allowMultipleMasks&&!!this.component.inputMasks&&!!this.component.inputMasks.length}getMaskByName(t){const n=e.find(this.component.inputMasks,e=>e.label===t);return n?n.mask:void 0}setInputMask(e,t){return super.setInputMask(e,t||this.component.inputMask,!this.component.placeholder)}getMaskOptions(){return this.component.inputMasks.map(e=>({label:e.label,value:e.label}))}get remainingWords(){const t=parseInt(e.get(this.component,"validate.maxWords"),10),n=e.words(this.dataValue).length;return t-n}renderElement(e,t){e&&"string"==typeof e&&(e=e.replace(/"/g,"&quot;"));const n=this.inputInfo;if(n.attr=n.attr||{},n.attr.value=this.getValueAsString(this.formatValue(this.parseValue(e))),this.isMultipleMasksField&&(n.attr.class+=" formio-multiple-mask-input"),this.component.widget&&"calendar"===this.component.widget.type){const e=this.renderTemplate("icon",{ref:"icon",className:this.iconClass(this.component.enableDate||this.component.widget.enableDate?"calendar":"time"),styles:"",content:""}).trim();this.component.prefix!==e&&(this.component.suffix=e)}return this.isMultipleMasksField?this.renderTemplate("multipleMasksInput",{input:n,value:e,index:t,selectOptions:this.getMaskOptions()||[]}):this.renderTemplate("input",{input:n,value:this.formatValue(this.parseValue(e)),index:t})}setCounter(e,t,n,i){if(i){const r=i-n;r>0?this.removeClass(t,"text-danger"):this.addClass(t,"text-danger"),this.setContent(t,this.t(`{{ remaining }} ${e} remaining.`,{remaining:r}))}else this.setContent(t,this.t(`{{ count }} ${e}`,{count:n}))}updateValueAt(t,n,i){if(n=n||{},e.get(this.component,"showWordCount",!1)&&this.refs.wordcount&&this.refs.wordcount[i]){const n=parseInt(e.get(this.component,"validate.maxWords",0),10);this.setCounter("words",this.refs.wordcount[i],e.words(t).length,n)}if(e.get(this.component,"showCharCount",!1)&&this.refs.charcount&&this.refs.charcount[i]){const n=parseInt(e.get(this.component,"validate.maxLength",0),10);this.setCounter("characters",this.refs.charcount[i],t.length,n)}}getValueAt(e){const t=this.performInputMapping(this.refs.input[e]);return t&&t.widget?t.widget.getValue():t?t.value:void 0}updateValue(e,t,n){t=t||{};const i=super.updateValue(e,t);return this.triggerUpdateValueAt(this.dataValue,t,n),i}parseValue(e){return e}formatValue(e){return e}attach(e){return this.loadRefs(e,{charcount:"multiple",wordcount:"multiple",prefix:"multiple",suffix:"multiple"}),super.attach(e)}getWidget(e){return e=e||0,this.refs.input&&this.refs.input[e]?this.refs.input[e].widget:null}getValueAsString(e){return super.getValueAsString(this.getWidgetValueAsString(e))}attachElement(e,t){super.attachElement(e,t),e.widget&&e.widget.destroy(),e.widget=this.createWidget(t),e.widget&&(e.widget.attach(e),this.refs.prefix&&this.refs.prefix[t]&&e.widget.addPrefix(this.refs.prefix[t]),this.refs.suffix&&this.refs.suffix[t]&&e.widget.addSuffix(this.refs.suffix[t])),this.addFocusBlurEvents(e),this.options.submitOnEnter&&this.addEventListener(e,"keypress",e=>{const t=e.keyCode||e.which;13===t&&(e.preventDefault(),e.stopPropagation(),this.emit("submitButton"))})}createWidget(e){if(!this.component.widget)return null;const t="string"==typeof this.component.widget?{type:this.component.widget}:this.component.widget;if(!i.hasOwnProperty(t.type))return null;const n=new i[t.type](t,this.component);return n.on("update",()=>this.updateValue(n.getValue(),{modified:!0},e),!0),n.on("redraw",()=>this.redraw(),!0),n}detach(){if(super.detach(),this.refs&&this.refs.input)for(let e=0;e<=this.refs.input.length;e++){const t=this.getWidget(e);t&&t.destroy()}}addFocusBlurEvents(e){this.addEventListener(e,"focus",()=>{this.root.focusedComponent!==this?(this.root.pendingBlur&&this.root.pendingBlur(),this.root.focusedComponent=this,this.emit("focus",this)):this.root.focusedComponent===this&&this.root.pendingBlur&&(this.root.pendingBlur.cancel(),this.root.pendingBlur=null)}),this.addEventListener(e,"blur",()=>{this.root.pendingBlur=n.delay(()=>{this.emit("blur",this),"blur"===this.component.validateOn&&this.root.triggerChange({},{instance:this,component:this.component,value:this.dataValue,flags:{}}),this.root.focusedComponent=null,this.root.pendingBlur=null})})}}}),e("skylark-formio/components/button/Button",["skylark-lodash","../_classes/field/Field","../_classes/input/Input","../../utils/utils"],function(e,t,n,i){"use strict";return class r extends t{static schema(...e){return n.schema({type:"button",label:"Submit",key:"submit",size:"md",leftIcon:"",rightIcon:"",block:!1,action:"submit",persistent:!1,disableOnInvalid:!1,theme:"primary",dataGridLabel:!0},...e)}static get builderInfo(){return{title:"Button",group:"basic",icon:"stop",documentation:"http://help.form.io/userguide/#button",weight:110,schema:r.schema()}}get defaultSchema(){return r.schema()}get inputInfo(){const e=super.elementInfo();return e.type="button",e.attr.type=["submit","saveState"].includes(this.component.action)?"submit":"button",this.component.theme=this.component.theme||"default",e.attr.class=`btn btn-${this.component.theme}`,this.component.size&&(e.attr.class+=` btn-${this.component.size}`),this.component.block&&(e.attr.class+=" btn-block"),this.component.customClass&&(e.attr.class+=` ${this.component.customClass}`),e.content=this.t(this.component.label),e}get labelInfo(){return{hidden:!0}}set loading(e){this.setLoading(this.refs.button,e)}createLabel(){}createInput(e){return this.refs.button=super.createInput(e),this.refs.button}get emptyValue(){return!1}getValue(){return this.dataValue}get clicked(){return this.dataValue}get defaultValue(){return!1}get className(){let e=super.className;return e+=" form-group"}render(){return(this.viewOnly||this.options.hideButtons)&&(this._visible=!1),super.render(this.renderTemplate("button",{component:this.component,input:this.inputInfo}))}attachButton(){this.addShortcut(this.refs.button);let e=null,t=null;if("submit"===this.component.action&&(this.on("submitButton",()=>{this.disabled=!0},!0),this.on("submitDone",()=>{this.loading=!1,this.disabled=!1,this.addClass(this.refs.button,"btn-success submit-success"),this.removeClass(this.refs.button,"btn-danger submit-fail"),this.addClass(this.refs.buttonMessageContainer,"has-success"),this.removeClass(this.refs.buttonMessageContainer,"has-error"),this.setContent(this.refs.buttonMessage,this.t("complete"))},!0),this.on("submitError",()=>{this.loading=!1,this.disabled=!1,this.removeClass(this.refs.button,"btn-success submit-success"),this.addClass(this.refs.button,"btn-danger submit-fail"),this.removeClass(this.refs.buttonMessageContainer,"has-success"),this.addClass(this.refs.buttonMessageContainer,"has-error"),this.setContent(this.refs.buttonMessage,this.t(this.errorMessage("error")))},!0),e=((e,t)=>{this.removeClass(this.refs.button,"btn-success submit-success"),this.removeClass(this.refs.button,"btn-danger submit-fail"),t&&this.hasError&&(this.hasError=!1,this.setContent(this.refs.buttonMessage,""),this.removeClass(this.refs.buttonMessageContainer,"has-success"),this.removeClass(this.refs.buttonMessageContainer,"has-error"))}),t=(()=>{this.hasError=!0,this.removeClass(this.refs.button,"btn-success submit-success"),this.addClass(this.refs.button,"btn-danger submit-fail"),this.removeClass(this.refs.buttonMessageContainer,"has-success"),this.addClass(this.refs.buttonMessageContainer,"has-error"),this.setContent(this.refs.buttonMessage,this.t(this.errorMessage("error")))})),"url"===this.component.action&&(this.on("requestButton",()=>{this.disabled=!0},!0),this.on("requestDone",()=>{this.loading=!1,this.disabled=!1},!0)),this.on("change",(t,n)=>{const i=n&&n.noValidate?!this.root||this.root.checkValidity(this.root.data):t.isValid;this.loading=!1,this.disabled=this.shouldDisabled||this.component.disableOnInvalid&&!i,this.setDisabled(this.refs.button,this.disabled),e&&e(t,i)},!0),this.on("error",()=>{this.loading=!1,this.disabled=!1,t&&t()},!0),this.addEventListener(this.refs.button,"click",this.onClick.bind(this)),this.disabled=this.shouldDisabled,"oauth"===this.component.action&&this.component.oauth&&this.component.oauth.authURI){const e=function(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const t=new RegExp(`[\\?&]${e}=([^&#]*)`).exec(location.search);if(!t)return t;return decodeURIComponent(t[1].replace(/\+/g," "))}("iss");e&&0===this.component.oauth.authURI.indexOf(e)&&this.openOauth()}}attach(e){this.loadRefs(e,{button:"single",buttonMessageContainer:"single",buttonMessage:"single"});const t=super.attach(e);return this.attachButton(),t}detach(e){e&&this.refs.button&&this.removeShortcut(this.refs.button)}onClick(t){if(this.triggerReCaptcha(),!this.disabled&&"builder"!==this.options.attachMode)switch(this.dataValue=!0,"submit"!==this.component.action&&this.component.showValidations&&this.emit("checkValidity",this.data),this.component.action){case"saveState":case"submit":t.preventDefault(),t.stopPropagation(),this.loading=!0,this.emit("submitButton",{state:this.component.state||"submitted",component:this.component,instance:this});break;case"event":this.emit(this.interpolate(this.component.event),this.data),this.events.emit(this.interpolate(this.component.event),this.data),this.emit("customEvent",{type:this.interpolate(this.component.event),component:this.component,data:this.data,event:t});break;case"custom":{const t=this.getRoot(),n=i.flattenComponents(t.component.components,!0),r={};e.each(n,(e,n)=>{const i=t.getComponent(n);i&&(r[n]=i)}),this.evaluate(this.component.custom,{form:t,flattened:n,components:r});break}case"url":this.loading=!0,this.emit("requestButton",{component:this.component,instance:this}),this.emit("requestUrl",{url:this.interpolate(this.component.url),headers:this.component.headers});break;case"reset":this.emit("resetForm");break;case"delete":this.emit("deleteSubmission");break;case"oauth":if(this.root===this)return void console.warn("You must add the OAuth button to a form for it to function properly");if(!this.component.oauth){this.root.setAlert("danger","You must assign this button to an OAuth action before it will work.");break}if(this.component.oauth.error){this.root.setAlert("danger",`The Following Error Has Occured${this.component.oauth.error}`);break}this.openOauth(this.component.oauth)}}openOauth(){if(!this.root.formio)return void console.warn("You must attach a Form API url to your form in order to use OAuth buttons.");const e=this.component.oauth;let t={response_type:"code",client_id:e.clientId,redirect_uri:window.location.origin||`${window.location.protocol}//${window.location.host}`,state:e.state,scope:e.scope};e.display&&(t.display=e.display),t=Object.keys(t).map(e=>`${e}=${encodeURIComponent(t[e])}`).join("&");const n=`${e.authURI}?${t}`,i=window.open(n,e.provider,"width=1020,height=618"),r=setInterval(()=>{try{const t=i.location.host,n=window.location.host;if(i&&!i.closed&&t===n&&i.location.search){i.close();const t=i.location.search.substr(1).split("&").reduce((e,t)=>{const n=t.split("=");return e[n[0]]=n[1],e},{});if(t.error)return alert(t.error_description||t.error),void this.root.setAlert("danger",t.error_description||t.error);if(e.state!==t.state)return void this.root.setAlert("danger","OAuth state does not match. Please try logging in again.");const n={data:{},oauth:{}};n.oauth[e.provider]=t,n.oauth[e.provider].redirectURI=window.location.origin||`${window.location.protocol}//${window.location.host}`,this.root.formio.saveSubmission(n).then(e=>{this.root.onSubmit(e,!0)}).catch(e=>{this.root.onSubmissionError(e)})}}catch(e){"SecurityError"!==e.name&&this.root.setAlert("danger",e.message||e)}i&&!i.closed&&void 0!==i.closed||clearInterval(r)},100)}focus(){this.refs.button&&this.refs.button.focus()}triggerReCaptcha(){if(!this.root)return;const e=this.root.components.find(e=>"recaptcha"===e.component.type&&"buttonClick"===e.component.eventType&&e.component.buttonKey===this.component.key);e&&e.verify(`${this.component.key}Click`)}}}),e("skylark-formio/components/checkbox/Checkbox",["../_classes/field/Field"],function(e){"use strict";return class t extends e{static schema(...t){return e.schema({type:"checkbox",inputType:"checkbox",label:"Checkbox",key:"checkbox",dataGridLabel:!0,labelPosition:"right",value:"",name:""},...t)}static get builderInfo(){return{title:"Checkbox",group:"basic",icon:"check-square",documentation:"http://help.form.io/userguide/#checkbox",weight:50,schema:t.schema()}}get defaultSchema(){return t.schema()}get defaultValue(){return this.component.name?"":"true"===(this.component.defaultValue||!1).toString()}get labelClass(){let e="";return this.isInputComponent&&!this.options.inputsOnly&&this.component.validate&&this.component.validate.required&&(e+=" field-required"),`${e}`}get hasSetValue(){return this.hasValue()}get inputInfo(){const e=super.elementInfo();return e.type="input",e.changeEvent="click",e.attr.type=this.component.inputType||"checkbox",e.attr.class="form-check-input",this.component.name&&(e.attr.name=`data[${this.component.name}]`),e.attr.value=this.component.value?this.component.value:0,e.label=this.t(this.component.label),e.labelClass=this.labelClass,e}get labelInfo(){return{hidden:!0}}render(){return super.render(this.renderTemplate("checkbox",{input:this.inputInfo,checked:this.dataValue,tooltip:this.interpolate(this.t(this.component.tooltip)||"").replace(/(?:\r\n|\r|\n)/g,"<br />")}))}attach(e){return this.loadRefs(e,{input:"multiple"}),this.input=this.refs.input[0],this.refs.input&&(this.addEventListener(this.input,this.inputInfo.changeEvent,()=>this.updateValue(null,{modified:!0})),this.addShortcut(this.input)),super.attach(e)}detach(e){e&&this.input&&this.removeShortcut(this.input)}get emptyValue(){return!1}isEmpty(e=this.dataValue){return super.isEmpty(e)||!1===e}get key(){return this.component.name?this.component.name:super.key}getValueAt(e){return this.component.name?this.refs.input[e].checked?this.component.value:"":!!this.refs.input[e].checked}getValue(){const e=super.getValue();return this.component.name?e?this.setCheckedState(e):this.setCheckedState(this.dataValue):""===e?this.dataValue:!!e}setCheckedState(e){if(this.input)return this.component.name?(this.input.value=e===this.component.value?this.component.value:0,this.input.checked=e===this.component.value?1:0):"on"===e?(this.input.value=1,this.input.checked=1):"off"===e?(this.input.value=0,this.input.checked=0):e?(this.input.value=1,this.input.checked=1):(this.input.value=0,this.input.checked=0),this.input.checked?this.input.setAttribute("checked",!0):this.input.removeAttribute("checked"),e}setValue(e,t={}){return(void 0!==this.setCheckedState(e)||!(this.input||void 0===e||!this.visible&&this.component.clearOnHide))&&this.updateValue(e,t)}getValueAsString(e){return e?"Yes":"No"}}}),e("skylark-formio/components/columns/Columns",["skylark-lodash","../_classes/nested/NestedComponent"],function(e,t){"use strict";return class n extends t{static schema(...e){return t.schema({label:"Columns",key:"columns",type:"columns",columns:[{components:[],width:6,offset:0,push:0,pull:0,size:"md"},{components:[],width:6,offset:0,push:0,pull:0,size:"md"}],clearOnHide:!1,input:!1,tableView:!1,persistent:!1,autoAdjust:!1,hideOnChildrenHidden:!1},...e)}static get builderInfo(){return{title:"Columns",icon:"columns",group:"layout",documentation:"http://help.form.io/userguide/#columns",weight:10,schema:n.schema()}}constructor(e,t,n){super(e,t,n),this.rows=[]}get schema(){const t=e.omit(super.schema,["components"]);return t.columns.map((n,i)=>{n.components.map((n,r)=>{const s=e.clone(n);s.internal=!0;const o=this.createComponent(s);delete o.component.internal,t.columns[i].components[r]=o.schema})}),t}get defaultSchema(){return n.schema()}get className(){return`row ${super.className}`}get columnKey(){return`column-${this.id}`}init(){super.init(),this.columns=[],e.each(this.component.columns,(t,n)=>{this.columns[n]=[],t.size||(t.size="md"),Array.isArray(t.components)||(t.components=[]),e.each(t.components,e=>{e.hideOnChildrenHidden=this.component.hideOnChildrenHidden;const t=this.createComponent(e);t.column=n,this.columns[n].push(t)})}),this.rows=this.groupByRow()}labelIsHidden(){return!0}render(){return super.render(this.renderTemplate("columns",{columnKey:this.columnKey,columnComponents:this.columns.map(e=>this.renderComponents(e))}))}attach(e){this.loadRefs(e,{[this.columnKey]:"multiple"});const t=super.attach(e);return this.refs[this.columnKey].forEach((e,t)=>this.attachComponents(e,this.columns[t],this.component.columns[t].components)),t}get gridSize(){return 12}justifyRow(t){const n=e.filter(t,"visible"),i=t.length,r=n.length;if(i>0&&r>0){const t=Math.floor(this.gridSize/r),i=t*r,s=this.gridSize-i;e.each(n,e=>{e.component.width=t}),e.last(n).component.width+=s,e.each(n,e=>{e.element&&e.element.setAttribute("class",e.className)})}}groupByRow(){const t=e=>e.component.width,n=e.reduce(this.components,(n,i)=>{const r=[...n.stack,i];return e.sumBy(r,t)<=this.gridSize?(n.stack=r,n):(n.rows=[...n.rows,n.stack],n.stack=[i],n)},{stack:[],rows:[]});return e.concat(n.rows,[n.stack])}justify(){e.each(this.columns,this.justifyRow.bind(this))}checkComponentConditions(e,t,n){if(this.component.autoAdjust){const i=super.checkComponentConditions(e,t,n);return this.justify(),i}return super.checkComponentConditions(e,t,n)}detach(e){super.detach(e)}destroy(){super.destroy(),this.columns=[]}}}),e("skylark-formio/components/content/Content",["../_classes/component/Component","skylark-lodash"],function(e,t){"use strict";return class n extends e{static schema(...t){return e.schema({label:"Content",type:"content",key:"content",input:!1,html:""},...t)}static get builderInfo(){return{title:"Content",group:"layout",icon:"html5",preview:!1,documentation:"http://help.form.io/userguide/#content-component",weight:5,schema:n.schema()}}get defaultSchema(){return n.schema()}get content(){if(this.builderMode)return this.component.html;const e=t.get(this.root,"submission",{});return this.component.html?this.interpolate(this.component.html,{metadata:e.metadata||{},submission:e,data:this.rootValue,row:this.data}):""}render(){return super.render(this.renderTemplate("html",{tag:"div",attrs:[],content:this.content}))}attach(e){return this.loadRefs(e,{html:"single"}),this.component.refreshOnChange&&this.on("change",()=>{this.refs.html&&this.setContent(this.refs.html,this.content)},!0),super.attach(e)}get emptyValue(){return""}}}),e("skylark-formio/vendors/text-mask-addons/createAutoCorrectedDatePipe",[],function(){const e=[31,31,29,31,30,31,30,31,31,30,31,30,31],t=["yyyy","yy","mm","dd","HH","MM","SS"];return function(n="mm dd yyyy",{minYear:i=1,maxYear:r=9999}={}){const s=n.split(/[^dmyHMS]+/).sort((e,n)=>t.indexOf(e)-t.indexOf(n));return function(t){const o=[],a={dd:31,mm:12,yy:99,yyyy:r,HH:23,MM:59,SS:59},l={dd:1,mm:1,yy:0,yyyy:i,HH:0,MM:0,SS:0},u=t.split("");s.forEach(e=>{const t=n.indexOf(e),i=parseInt(a[e].toString().substr(0,1),10);parseInt(u[t],10)>i&&(u[t+1]=u[t],u[t]=0,o.push(t))});let c=0;const h=s.some(s=>{const o=n.indexOf(s),u=s.length,h=t.substr(o,u).replace(/\D/g,""),d=parseInt(h,10);"mm"===s&&(c=d||0);const p="dd"===s?e[c]:a[s];if("yyyy"===s&&(1!==i||9999!==r)){const e=parseInt(a[s].toString().substring(0,h.length),10),t=parseInt(l[s].toString().substring(0,h.length),10);return d<t||d>e}return d>p||h.length===u&&d<l[s]});return!h&&{value:u.join(""),indexesOfPipedChars:o}}}}),e("skylark-formio/vendors/text-mask-addons/createNumberMask",[],function(){const e="$",t="",n=",",i=".",r="-",s=/-/,o=/\D+/g,a="number",l=/\d/,u="[]";function c(e){return e.split(t).map(e=>l.test(e)?l:e)}return function({prefix:h=e,suffix:d=t,includeThousandsSeparator:p=!0,thousandsSeparatorSymbol:f=n,allowDecimal:m=!1,decimalSymbol:g=i,decimalLimit:y=2,requireDecimal:v=!1,allowNegative:b=!1,allowLeadingZeroes:k=!1,integerLimit:w=null}={}){const x=h&&h.length||0,_=d&&d.length||0,C=f&&f.length||0;function E(e=t){const n=e.length;if(e===t||e[0]===h[0]&&1===n)return h.split(t).concat([l]).concat(d.split(t));if(e===g&&m)return h.split(t).concat(["0",g,l]).concat(d.split(t));const i=e[0]===r&&b;i&&(e=e.toString().substr(1));const E=e.lastIndexOf(g),S=-1!==E;let A,M,T;if(e.slice(-1*_)===d&&(e=e.slice(0,-1*_)),S&&(m||v)?(A=e.slice(e.slice(0,x)===h?x:0,E),M=c((M=e.slice(E+1,n)).replace(o,t))):A=e.slice(0,x)===h?e.slice(x):e,w&&typeof w===a){const e="."===f?"[.]":`${f}`,t=(A.match(new RegExp(e,"g"))||[]).length;A=A.slice(0,w+t*C)}return A=A.replace(o,t),k||(A=A.replace(/^0+(0$|[^0])/,"$1")),A=p?function(e,t){return e.replace(/\B(?=(\d{3})+(?!\d))/g,t)}(A,f):A,T=c(A),(S&&m||!0===v)&&(e[E-1]!==g&&T.push(u),T.push(g,u),M&&(typeof y===a&&(M=M.slice(0,y)),T=T.concat(M)),!0===v&&e[E-1]===g&&T.push(l)),x>0&&(T=h.split(t).concat(T)),i&&(T.length===x&&T.push(l),T=[s].concat(T)),d.length>0&&(T=T.concat(d.split(t))),T}return E.instanceOf="createNumberMask",E}}),e("skylark-formio/vendors/text-mask-addons/emailPipe",[],function(){const e="@",t=/@/g,n="",i="@.",r=".",s="..",o=[],a=/\./g;return function(l,u){const{currentCaretPosition:c,rawValue:h,previousConformedValue:d,placeholderChar:p}=u;let f=l;const m=(f=function(i){let r=0;return i.replace(t,()=>1===++r?e:n)}(f)).indexOf(i);if(null===h.match(new RegExp(`[^@\\s.${p}]`)))return n;if(-1!==f.indexOf(s)||-1!==m&&c!==m+1||-1===h.indexOf(e)&&d!==n&&-1!==h.indexOf(r))return!1;const g=f.indexOf(e);(f.slice(g+1,f.length).match(a)||o).length>1&&f.substr(-1)===r&&c!==h.length&&(f=f.slice(0,f.length-1));return f}}),e("skylark-formio/vendors/text-mask-addons/emailMask",["./emailPipe"],function(e){const t="*",n=".",i="",r="@",s="[]",o=" ",a="g",l=/[^\s]/,u=/[^.\s]/,c=/\s/g;function h(e,t,n){const i=[];return e[t]===n?i.push(n):i.push(s,n),i.push(s),i}function d(e,t){return e.split(i).map(e=>e===o?e:t?u:l)}return function(e,s){e=e.replace(c,i);const{placeholderChar:l,currentCaretPosition:u}=s,p=e.indexOf(r),f=e.lastIndexOf(n),m=f<p?-1:f;let g=h(e,p+1,r),y=h(e,m-1,n),v=function(e,t){return-1===t?e:e.slice(0,t)}(e,p),b=function(e,s,l,u){let c=i;-1!==s&&(c=-1===l?e.slice(s+1,e.length):e.slice(s+1,l));return(c=c.replace(new RegExp(`[\\s${u}]`,a),i))===r?t:c.length<1?o:c[c.length-1]===n?c.slice(0,c.length-1):c}(e,p,m,l),k=function(e,r,s,o){let l=i;-1!==r&&(l=e.slice(r+1,e.length));return 0===(l=l.replace(new RegExp(`[\\s${s}.]`,a),i)).length?e[r-1]===n&&o!==e.length?t:i:l}(e,m,l,u);return v=d(v),b=d(b),k=d(k,!0),v.concat(g).concat(b).concat(y).concat(k)}}),e("skylark-formio/vendors/text-mask-addons/index",["./createAutoCorrectedDatePipe","./createNumberMask","./emailMask"],function(e,t,n){return{createAutoCorrectedDatePipe:e,createNumberMask:t,emailMask:n}}),e("skylark-formio/components/number/Number",["../../vendors/vanilla-text-mask/maskInput","../../vendors/vanilla-text-mask/conformToMask","skylark-lodash","../../vendors/text-mask-addons/index","../_classes/input/Input","../../utils/utils"],function(e,t,n,i,r,s){"use strict";return class o extends r{static schema(...e){return r.schema({type:"number",label:"Number",key:"number",validate:{min:"",max:"",step:"any",integer:""}},...e)}static get builderInfo(){return{title:"Number",icon:"hashtag",group:"basic",documentation:"http://help.form.io/userguide/#number",weight:30,schema:o.schema()}}constructor(...e){super(...e),this.validators=this.validators.concat(["min","max"]);const t=s.getNumberSeparators(this.options.language);this.decimalSeparator=this.options.decimalSeparator=this.options.decimalSeparator||t.decimalSeparator,this.component.delimiter?(this.options.hasOwnProperty("thousandsSeparator")&&console.warn("Property 'thousandsSeparator' is deprecated. Please use i18n to specify delimiter."),this.delimiter=this.options.thousandsSeparator||t.delimiter):this.delimiter="";const i=n.get(this.component,"requireDecimal",!1);if(this.decimalLimit=s.getNumberDecimalLimit(this.component,i?2:20),n.has(this.options,`languageOverride.${this.options.language}`)){const e=n.get(this.options,`languageOverride.${this.options.language}`);this.decimalSeparator=e.decimalSeparator,this.delimiter=e.delimiter}this.numberMask=this.createNumberMask()}createNumberMask(){return i.createNumberMask({prefix:"",suffix:"",requireDecimal:n.get(this.component,"requireDecimal",!1),thousandsSeparatorSymbol:n.get(this.component,"thousandsSeparator",this.delimiter),decimalSymbol:n.get(this.component,"decimalSymbol",this.decimalSeparator),decimalLimit:n.get(this.component,"decimalLimit",this.decimalLimit),allowNegative:n.get(this.component,"allowNegative",!0),allowDecimal:n.get(this.component,"allowDecimal",!(this.component.validate&&this.component.validate.integer))})}get defaultSchema(){return o.schema()}get defaultValue(){let e=super.defaultValue;return e||0!==this.component.defaultValue||(e=this.component.defaultValue),e}parseNumber(e){return e=e.split(this.delimiter).join("").replace(this.decimalSeparator,"."),this.component.validate&&this.component.validate.integer?parseInt(e,10):parseFloat(e)}setInputMask(t){let n="[0-9";n+=this.decimalSeparator||"",n+=this.delimiter||"",n+="]*",t.setAttribute("pattern",n),t.mask=e({inputElement:t,mask:this.numberMask})}get inputInfo(){const e=super.inputInfo;return this.component.mask?e.attr.type="password":e.attr.type="text",e.attr.inputmode="numeric",e.changeEvent="input",e}getValueAt(e){if(!this.refs.input.length||!this.refs.input[e])return null;const t=this.refs.input[e].value;return t?this.parseNumber(t):null}setValueAt(e,t,n={}){return super.setValueAt(e,this.formatValue(this.parseValue(t)),n)}parseValue(e){let t=parseFloat(e);return t=n.isNaN(t)?null:String(t).replace(".",this.decimalSeparator)}formatValue(e){return this.component.requireDecimal&&e&&!e.includes(this.decimalSeparator)?`${e}${this.decimalSeparator}${n.repeat("0",this.decimalLimit)}`:this.component.requireDecimal&&e&&e.includes(this.decimalSeparator)?`${e}${n.repeat("0",this.decimalLimit-e.split(this.decimalSeparator)[1].length)}`:e}focus(){const e=this.refs.input[0];e&&(e.focus(),e.setSelectionRange(0,e.value.length))}getMaskedValue(e){return t(null===e?"0":e.toString(),this.numberMask).conformedValue}getValueAsString(e){return e||0===e?(e=this.getWidgetValueAsString(e),Array.isArray(e)?e.map(this.getMaskedValue).join(", "):this.getMaskedValue(e)):""}addFocusBlurEvents(e){super.addFocusBlurEvents(e),this.addEventListener(e,"blur",()=>{e.value=this.getValueAsString(this.formatValue(this.parseValue(this.dataValue)))})}}}),e("skylark-formio/components/currency/Currency",["skylark-langx","../../vendors/text-mask-addons/index","skylark-lodash","../../utils/utils","../number/Number"],function(e,t,n,i,r){"use strict";return class n extends r{static schema(...e){return r.schema({type:"currency",label:"Currency",key:"currency"},...e)}static get builderInfo(){return{title:"Currency",group:"advanced",icon:"usd",documentation:"http://help.form.io/userguide/#currency",weight:70,schema:n.schema()}}constructor(e,t,n){e&&!e.hasOwnProperty("delimiter")&&(e.delimiter=!0),super(e,t,n)}createNumberMask(){const n=e.get(this.component,"decimalLimit",2),r=i.getCurrencyAffixes({currency:this.component.currency,decimalLimit:n,decimalSeparator:this.decimalSeparator,lang:this.options.language});return this.prefix=this.options.prefix||r.prefix,this.suffix=this.options.suffix||r.suffix,t.createNumberMask({prefix:this.prefix,suffix:this.suffix,thousandsSeparatorSymbol:e.get(this.component,"thousandsSeparator",this.delimiter),decimalSymbol:e.get(this.component,"decimalSymbol",this.decimalSeparator),decimalLimit:n,allowNegative:e.get(this.component,"allowNegative",!0),allowDecimal:e.get(this.component,"allowDecimal",!0)})}get defaultSchema(){return n.schema()}parseNumber(e){return super.parseNumber(this.stripPrefixSuffix(e))}parseValue(e){return super.parseValue(this.stripPrefixSuffix(e))}addZerosAndFormatValue(t){if(!t&&0!==t)return;const n=e.get(this.component,"decimalLimit",2);let i,r="",s=[];if(t.includes(this.decimalSeparator)?([i,r]=t.split(this.decimalSeparator),s=[...r.split("")]):i=t,r.length<n)for(;s.length<n;)s.push("0");const o=`${i}${this.decimalSeparator}${s.join("")}`;return super.formatValue(o)}getValueAsString(e){const t=super.getValueAsString(e);return e||"0"==e?this.addZerosAndFormatValue(t):t}formatValue(e){return e&&this.disabled?this.addZerosAndFormatValue(e):super.formatValue(e)}stripPrefixSuffix(e){if("string"==typeof e)try{const t=!!this.prefix&&e.includes(this.prefix),n=!!this.suffix&&e.includes(this.suffix),i=e.includes(this.delimiter),r=e.includes(this.decimalSeparator);this.prefix&&(e=e.replace(this.prefix,"")),this.suffix&&(e=e.replace(this.suffix,"")),!t&&!n||i||r||!Number.isNaN(+e)&&e||(e="0")}catch(e){}return e}addFocusBlurEvents(e){super.addFocusBlurEvents(e),this.addEventListener(e,"blur",()=>{e.value=this.getValueAsString(this.addZerosAndFormatValue(this.parseValue(this.dataValue)))})}}}),e("skylark-devices-points/points",["skylark-langx-ns"],function(e){return e.attach("devices.points",{})}),e("skylark-devices-points/mouse",["./points"],function(e){return e.mouse={mouseWheelEvent:function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},normalizeWheel:function(e){var t=0,n=0,i=0,r=0;"detail"in e&&(n=e.detail);"wheelDelta"in e&&(n=-e.wheelDelta/120);"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120);"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120);"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0);i=10*t,r=10*n,"deltaY"in e&&(r=e.deltaY);"deltaX"in e&&(i=e.deltaX);(i||r)&&e.deltaMode&&(1===e.deltaMode?(i*=40,r*=40):(i*=800,r*=800));i&&!t&&(t=i<1?-1:1);r&&!n&&(n=r<1?-1:1);return{spinX:t,spinY:n,pixelX:i,pixelY:r}},isMouseEvent:function(e){return null!=e.pointerType?"mouse"==e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE:null!=e.mozInputSource?1==e.mozInputSource:0==e.type.indexOf("mouse")},isLeftMouseButton:function(e){return"buttons"in e&&("mousedown"==e.type||"mousemove"==e.type)?1==e.buttons:"which"in e?1===e.which:1===e.button},isMiddleMouseButton:function(e){return"which"in e?2===e.which:4===e.button},isRightMouseButton:function(e){return"which"in e?3===e.which:2===e.button}}}),e("skylark-devices-points/touch",["./points"],function(e){return e.touch={isTouchEnabled:function(){return new Promise(function(e){var t=function(n){e(!!n),window.removeEventListener("touchstart",t)};window.addEventListener("touchstart",t,!1),setTimeout(t,1e4)})},mousy:function(e){var t=function(e){if(!(e.touches.length>1)){var t=e.changedTouches[0],n="";switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var i=document.createEvent("MouseEvent");i.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i),e.preventDefault()}};(e=e||document).addEventListener("touchstart",t,!0),e.addEventListener("touchmove",t,!0),e.addEventListener("touchend",t,!0)}}}),e("skylark-langx-scripter/scripter",["skylark-langx/skylark","skylark-langx"],function(e,t){var n=document.getElementsByTagName("head")[0],i={},r={},s=0;function o(){return o}var a={type:!0,src:!0,nonce:!0,noModule:!0};return t.mixin(o,{loadJavaScript:function(e,t,o){var a=i[e];if(a||(a=i[e]={state:0,loadedCallbacks:[],errorCallbacks:[]}),a.loadedCallbacks.push(t),a.errorCallbacks.push(o),1===a.state)a.node.onload();else if(-1===a.state)a.node.onerror();else{var l=a.node=document.createElement("script"),u=a.id=s++;l.type="text/javascript",l.async=!1,l.defer=!1,startTime=(new Date).getTime(),n.appendChild(l),l.onload=function(){a.state=1;for(var e=a.loadedCallbacks,t=e.length;t--;)e[t]();a.loadedCallbacks=[],a.errorCallbacks=[]},l.onerror=function(){a.state=-1;for(var e=a.errorCallbacks,t=e.length;t--;)e[t]();a.loadedCallbacks=[],a.errorCallbacks=[]},l.src=e,r[u]=l}return a.id},deleteJavaScript:function(e){var t=r[e];if(t){var n=t.src;t.parentNode&&t.parentNode.remove(t),delete r[e],delete i[n]}},evaluate:function(e,t,n){var i,r,s=(n=n||document).createElement("script");if(s.text=e,t)for(i in a)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&s.setAttribute(i,r);return n.head.appendChild(s).parentNode.removeChild(s),this},loadScript:function(e){var n=new t.Deferred;return n.promise.scriptId=this.loadJavaScript(e,function(){n.resolve()},function(e){n.reject(e)}),n.promise}}),e.attach("langx.scripter",o)}),e("skylark-langx-scripter/main",["./scripter"],function(e){return e}),e("skylark-langx-scripter",["skylark-langx-scripter/main"],function(e){return e}),e("skylark-domx-browser/browser",["skylark-langx/skylark","skylark-langx/langx"],function(e,t){"use strict";var n=t.hoster.browser;return t.mixin(n,{isIE:!!/msie/i.exec(window.navigator.userAgent),location:function(){return window.location},support:{}}),e.attach("domx.browser",n)}),e("skylark-domx-browser/support/css3",["skylark-langx/langx","../browser"],function(e,t){"use strict";var n,i,r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},s=null,o="",a="",l={},u={},c=/^(Webkit|webkit|O|Moz|moz|ms)(.*)$/,h=window.document,d=h.createElement("div"),p=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.matchesSelector,f=d.style;for(var m in f){var g=m.match(i||c);if(g){i||(n=g[1],i=new RegExp("^("+n+")(.*)$"),n,o="-"+n.toLowerCase()+"-",a=n.toLowerCase()),l[e.lowerFirst(g[2])]=m;var y=e.dasherize(g[2]);u[y]=o+y,r[m]&&(s=r[m])}}s||void 0!==f.transition&&(s=r.transition);var v={normalizeStyleProperty:function(e){return l[e]||e},normalizeCssProperty:function(e){return u[e]||e},normalizeCssEvent:function(e){return a?a+e:e.toLowerCase()},matchesSelector:p};return e.mixin(t,v),t.css3PropPrefix=v.propPrefix=o,s&&(t.support.transition=v.transition={end:s}),t.support.cssPointerEvents=v.pointerEvents=(d.style.cssText="pointer-events:auto","auto"===d.style.pointerEvents),d=null,t.support.css3=v}),e("skylark-domx-browser/support/fullscreen",["../browser"],function(e){const t={prefixed:!0},n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],i=n[0];let r;for(let e=0;e<n.length;e++)if(n[e][1]in document){r=n[e];break}if(r){for(let e=0;e<r.length;e++)t[i[e]]=r[e];t.prefixed=r[0]!==i[0],e.requestFullscreen=function(){return document.body[t.requestFullscreen].apply(this,arguments)},e.exitFullscreen=function(){return document[t.exitFullscreen].apply(this,arguments)},e.support.fullscreen=t}else e.support.fullscreen=null;return e.support.fullscreen}),e("skylark-domx-browser/support/touch",["../browser"],function(e){return e.support.tocuh=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)}),e("skylark-domx-browser/main",["./browser","./support/css3","./support/fullscreen","./support/touch"],function(e){return e}),e("skylark-domx-browser",["skylark-domx-browser/main"],function(e){return e}),e("skylark-domx-noder/noder",["skylark-langx-ns","skylark-langx-types","skylark-langx-arrays","skylark-langx-strings","skylark-langx-scripter","skylark-domx-browser"],function(e,t,n,i,r,s){var o=!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g),a=/^\s*<(\w+|!)[^>]*>/,l=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,u=document.createElement("div"),c=document.createElement("table"),h=document.createElement("tbody"),d=document.createElement("tr"),p={tr:h,tbody:c,thead:c,tfoot:c,td:d,th:d,"*":u},f=/^(?:body|html)$/i,m=/^$|^module$|\/(?:java|ecma)script/i,g=Array.prototype.map,y=Array.prototype.slice;function v(e,i){var r=function(e){"function"==typeof e&&(e=e());return g.call(t.isArrayLike(e)?e:[e],e=>("function"==typeof e&&(e=e()),T(e)||A(e)||M(e)?e:"string"==typeof e&&/\S/.test(e)?document.createTextNode(e):void 0)).filter(e=>e)}(e);return i&&(r=g.call(r,function(e){return e.cloneNode(!0)})),n.flatten(r)}function b(e,t){var n=e.nodeName&&e.nodeName.toLowerCase();return void 0!==t?n===t.toLowerCase():n}function k(e,i){if(t.isFunction(e))return e.apply(i,[]);if(t.isArrayLike(e)){for(var r,s=0;s<e.length;s++)t.isFunction(e[s])&&(e[s]=e[s].apply(i,[]),t.isArrayLike(e[s])&&(r=!0));r&&(e=n.flatten(e))}return e}function w(e,t,n){t=k(t,e);for(var i=e,r=v(t,n),s=0;s<r.length;s++)i.appendChild(r[s]);return this}function x(e,n,i,r){var s;if(s=/svg/i.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e),t.isHtmlNode(n)?(r=n,n=null,i=null):t.isHtmlNode(i)&&(r=i,i=null),n)for(var o in n)s[o]=n[o];if(i)for(var o in i)s.setAttribute(o,i[o]);return r&&w(r,s),s}function _(e){for(;e.hasChildNodes();){var t=e.firstChild;e.removeChild(t)}return this}function C(e){return!1===e?s.exitFullscreen.apply(document):e?e[s.support.fullscreen.requestFullscreen]():document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}var E=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;function S(e,t,n){if(n)return e.parentNode===t;if(document.documentElement.contains)return t.contains(e);for(;e;){if(t===e)return!0;e=e.parentNode}return!1}function A(e){return e&&3===e.nodeType}function M(e){return e&&11===e.nodeType}function T(e){return e&&1===e.nodeType}function D(e){return e?9==e.nodeType?e:e.ownerDocument:document}function O(e){return!!e&&("false"!==e.contentEditable&&("true"===e.contentEditable||O(e.parentNode)))}function P(){return P}return Object.assign(P,{active:function(e){var t;e=e||document;try{t=e.activeElement}catch(n){t=e.body}t||(t=e.body);t.nodeName||(t=e.body);return t},after:function(e,t,n){t=k(t,e);var i=(s=e).parentNode;if(i)for(var r=v(t,n),s=s.nextSibling,o=0;o<r.length;o++)s?i.insertBefore(r[o],s):i.appendChild(r[o]);return this},append:w,before:function(e,t,n){t=k(t,e);var i=e,r=i.parentNode;if(r)for(var s=v(t,n),o=0;o<s.length;o++)r.insertBefore(s[o],i);return this},blur:function(e){e.blur()},body:function(){return document.body},clone:function(e,t){var n,i=this;if(!o||1!==e.nodeType||t)return e.cloneNode(t);if(!t)return n=document.createElement(e.nodeName),each(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))}),n},contains:function(e,t){return S(t,e)},contents:function(e){if(b(e,"iframe"))return e.contentDocument;return e.childNodes},createElement:x,createFragment:function(e){if(e=i.trim(e),l.test(e))return[x(RegExp.$1)];var t=a.test(e)&&RegExp.$1;t in p||(t="*");var n=p[t];return n.innerHTML=function(e){for(var t=e.split("/>"),n="",i=0;i<t.length-1;i++){var r=t[i].split("<");n+=t[i]+"></"+r[r.length-1].split(" ")[0]+">"}return n+t[t.length-1]}(""+e),dom=y.call(n.childNodes),dom.forEach(function(e){n.removeChild(e)}),dom},createTextNode:function(e){return document.createTextNode(e)},doc:function(){return document},empty:_,generateId:function(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;for(;n--;)i+=t.charCodeAt(n);return i.toString(36)},fullscreen:C,focusable:function(e,t){var n,i,r,s,o,a=e.nodeName.toLowerCase();if("area"===a)return n=e.parentNode,i=n.name,!(!e.href||!i||"map"!==n.nodeName.toLowerCase())&&((r=$("img[usemap='#"+i+"']")).length>0&&r.is(":visible"));/^(input|select|textarea|button|object)$/.test(a)?(s=!e.disabled)&&(o=$(e).closest("fieldset")[0])&&(s=!o.disabled):s="a"===a&&e.href||t;return s&&$(e).is(":visible")&&visible($(e))},fromPoint:function(e,t){return document.elementFromPoint(e,t)},html:function(e,n){var i=function(e,n){if(void 0===n)return e.innerHTML;if(_(e),n=n||"",t.isString(n)&&(n=n.replace(E,"<$1></$2>")),t.isString(n)||t.isNumber(n))e.innerHTML=n;else if(t.isArrayLike(n))for(var i=0;i<n.length;i++)e.appendChild(n[i]);else e.appendChild(n);return this}(e,n);if(void 0!==n){for(var s=e.querySelectorAll("script"),o=0;o<s.length;o++){var a=s[o];m.test(a.type||"")&&r.evaluate(a.textContent,a)}return this}return i},isActive:function(e){return e===document.activeElement&&(e.type||e.href)},isChildOf:S,isDocument:function(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE},isEditable:O,isElement:T,isFragment:M,isFullscreen:function(e){return C()===e},isInDocument:function(e){return e===document.body||document.body.contains(e)},isInFrame:function(){try{return window.parent!==window.self}catch(e){return!0}},isInput:function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||O(e)},isTextNode:A,isWindow:t.isWindow,nodeName:b,offsetParent:function(e){var t=e.offsetParent||document.body;for(;t&&!f.test(t.nodeName)&&"static"==document.defaultView.getComputedStyle(t).position;)t=t.offsetParent;return t},ownerDoc:D,ownerWindow:function(e){var t=D(e);return t.defaultView||t.parentWindow},prepend:function(e,t,n){for(var i=e,r=i.firstChild,s=v(t,n),o=0;o<s.length;o++)r?i.insertBefore(s[o],r):i.appendChild(s[o]);return this},reflow:function(e){e||(e=document);return e.offsetHeight,this},remove:function(e){if(e&&e.parentNode)try{e.parentNode.removeChild(e)}catch(e){console.warn("The node is already removed",e)}return this},removeChild:function(e,n){t.isArrayLike(n)||(n=[n]);for(var i=0;i<n.length;i++)e.removeChild(n[i]);return this},replace:function(e,t){return t.parentNode.replaceChild(e,t),this},selectable:function(e,t){if(void 0===e||void 0===e.style)return;e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off"},traverse:function e(t,n){n(t);for(var i=0,r=t.childNodes.length;i<r;i++)e(t.childNodes[i],n);return this},reverse:function(e){for(var t=e.firstChild,n=e.children.length-1;n>0;n--)if(n>0){var i=e.children[n];e.insertBefore(i,t)}},wrapper:function(e,n){t.isString(n)&&(n=this.createFragment(n).firstChild);e.parentNode.insertBefore(n,e),n.appendChild(e)},wrapperInner:function(e,t){var n=y.call(e.childNodes);e.appendChild(t);for(var i=0;i<n.length;i++)t.appendChild(n[i]);return this},unwrap:function(e){var t=e.parentNode;if(t){if(this.isDoc(t.parentNode))return;t.parentNode.insertBefore(e,t)}}}),e.attach("domx.noder",P)}),e("skylark-domx-styler/styler",["skylark-langx/skylark","skylark-langx/langx"],function(e,t){Array.prototype.every;var n=Array.prototype.forEach,i=t.camelCase,r=t.dasherize;function s(e,t){return"number"!=typeof t||o[r(e)]?t:t+"px"}var o={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},a={};function l(e){return e in a?a[e]:a[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function u(e,t){var n=e.className||"",i=n&&void 0!==n.baseVal;if(void 0===t)return i?n.baseVal:n;i?n.baseVal=t:e.className=t}var c={};function h(e,n){if(!n)return this;var i=u(e);return(t.isString(n)?n.split(/\s+/g):n).forEach(function(e){var t=l(e);i.match(t)||(i+=(i?" ":"")+e)}),u(e,i),this}function d(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)}function p(e,t){var n=l(t);return e.className&&e.className.match(n)}function f(e,n){if(n){var i=u(e);(t.isString(n)?n.split(/\s+/g):n).forEach(function(e){var t=l(e);i.match(t)&&(i=i.replace(t," "))}),u(e,i.trim())}else u(e,"");return this}var m=function(){return m};return t.mixin(m,{autocssfix:!1,cssHooks:{},addClass:h,className:u,css:function(e,o,a){if(void 0==a){var l=d(e);if(void 0==o)return l;if(t.isString(o))return e.style[i(o)]||l.getPropertyValue(r(o));if(t.isArrayLike(o)){var u={};return n.call(o,function(t){u[t]=e.style[i(t)]||l.getPropertyValue(r(t))}),u}}var c="";if("string"==typeof o)a||0===a?c=r(o)+":"+s(o,a):e.style.removeProperty(r(o));else for(key in o)void 0!==o[key]&&(o[key]||0===o[key]?c+=r(key)+":"+s(key,o[key])+";":e.style.removeProperty(r(key)));return e.style.cssText+=";"+c,this},disabled:function(e,t){if(arguments.length<2)return!!this.dom.disabled;return e.disabled=t,this},hasClass:p,hide:function(e){return m.css(e,"display","none"),this},isInvisible:function(e){return"none"==m.css(e,"display")||0==m.css(e,"opacity")||"hidden"==m.css(e,"visibility")},removeClass:f,show:function(e){m.css(e,"display",""),"none"==m.css(e,"display")&&m.css(e,"display",function(e){var t,n;c[e]||(t=document.createElement(e),document.body.appendChild(t),n=d(t).getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),c[e]=n);return c[e]}(e.nodeName));return this},toggleClass:function(e,t,n){return t.split(/\s+/g).forEach(function(t){void 0===n&&(n=!p(e,t)),n?h(e,t):f(e,t)}),this}}),e.attach("domx.styler",m)}),e("skylark-domx-styler/main",["./styler"],function(e,t,n){return e}),e("skylark-domx-styler",["skylark-domx-styler/main"],function(e){return e}),e("skylark-domx-noder/overlay",["skylark-domx-styler","./noder"],function(e,t){return t.overlay=function(n,i){var r=t.createElement("div",i);return e.css(r,{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2147483647,opacity:.7}),n.appendChild(r),r}}),e("skylark-domx-noder/throb",["skylark-langx/langx","skylark-domx-styler","./noder"],function(e,t,n){return n.throb=function(e,i){(i=i||{}).text,i.style;var r,s=i.time,o=i.callback,a=n.createElement("div",{className:i.className||"throbber"}),l=function(){r&&(clearTimeout(r),r=null),a&&(n.remove(a),a=null)};i.style&&t.css(a,i.style);var u=i.content||'<span class="throb"></span>';n.html(a,u),e.appendChild(a),s&&(r=setTimeout(function(){l(),o&&o()},s));return{throbber:a,remove:l,update:function(e){e&&e.text&&a&&(textNode.nodeValue=e.text)}}}}),e("skylark-domx-noder/main",["./noder","./overlay","./throb"],function(e){return e}),e("skylark-domx-noder",["skylark-domx-noder/main"],function(e){return e}),e("skylark-domx-finder/finder",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser","skylark-domx-noder","skylark-domx-styler"],function(e,t,n,r,s){var o={},a=Array.prototype.filter,l=Array.prototype.slice,u=n.matchesSelector;(function(){var e,t,n,i,r,s={},o={},a=/\\/g,l=function(n,r){if(null==n)return null;if(!0===n.Slick)return n;n=(""+n).replace(/^\s+|\s+$/g,"");var a=(i=!!r)?o:s;if(a[n])return a[n];for(e={Slick:!0,expressions:[],raw:n,reverse:function(){return l(this.raw,!0)}},t=-1;n!=(n=n.replace(d,p)););return e.length=e.expressions.length,a[e.raw]=i?c(e):e},u=function(e){return"!"===e?" ":" "===e?"!":/^!/.test(e)?e.replace(/^!/,""):"!"+e},c=function(e){for(var t=e.expressions,n=0;n<t.length;n++){for(var i=t[n],r={parts:[],tag:"*",combinator:u(i[0].combinator)},s=0;s<i.length;s++){var o=i[s];o.reverseCombinator||(o.reverseCombinator=" "),o.combinator=o.reverseCombinator,delete o.reverseCombinator}i.reverse().push(r)}return e},h=(r=/(?=[\-\[\]{}()*+?.\\\^$|,#\s])/g,function(e){return e.replace(r,"\\")}),d=new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+h(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])"));function p(r,s,o,l,c,d,p,f,m,g,y,v,b,k,w,x){if((s||-1===t)&&(e.expressions[++t]=[],n=-1,s))return"";if(o||l||-1===n){o=o||" ";var _=e.expressions[t];i&&_[n]&&(_[n].reverseCombinator=u(o)),_[++n]={combinator:o,tag:"*"}}var C=e.expressions[t][n];if(c)C.tag=c.replace(a,"");else if(d)C.id=d.replace(a,"");else if(p)p=p.replace(a,""),C.classList||(C.classList=[]),C.classes||(C.classes=[]),C.classList.push(p),C.classes.push({value:p,regexp:new RegExp("(^|\\s)"+h(p)+"(\\s|$)")});else if(b)x=(x=x||w)?x.replace(a,""):null,C.pseudos||(C.pseudos=[]),C.pseudos.push({key:b.replace(a,""),value:x,type:1==v.length?"class":"element"});else if(f){var E,S;switch(f=f.replace(a,""),y=(y||"").replace(a,""),m){case"^=":S=new RegExp("^"+h(y));break;case"$=":S=new RegExp(h(y)+"$");break;case"~=":S=new RegExp("(^|\\s)"+h(y)+"(\\s|$)");break;case"|=":S=new RegExp("^"+h(y)+"(-|$)");break;case"=":E=function(e){return y==e};break;case"*=":E=function(e){return e&&e.indexOf(y)>-1};break;case"!=":E=function(e){return y!=e};break;default:E=function(e){return!!e}}""==y&&/^[*$^]=$/.test(m)&&(E=function(){return!1}),E||(E=function(e){return e&&S.test(e)}),C.attributes||(C.attributes=[]),C.attributes.push({key:f,operator:m,value:y,test:E})}return""}var f=this.Slick||{};f.parse=function(e){return l(e)},f.escapeRegExp=h,this.Slick||(this.Slick=f)}).apply(o);var c=/^(?:input|select|textarea|button)$/i,h=/^h\d$/i,l=Array.prototype.slice;o.parseSelector=o.Slick.parse;var d=o.pseudos={button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},checked:function(e){return!!e.checked},contains:function(e,t,n,i){if($(this).text().indexOf(i)>-1)return this},disabled:function(e){return!!e.disabled},enabled:function(e){return!e.disabled},eq:function(e,t,n,i){return t==i},even:function(e,t,n,i){return t%2==0},focus:function(e){return document.activeElement===e&&(e.href||e.type||e.tabindex)},focusable:function(e){return r.focusable(e,null!=e.tabindex)},first:function(e,t){return 0===t},gt:function(e,t,n,i){return t>i},has:function(e,t,n,i){return k(e,i)},header:function(e){return h.test(e.nodeName)},hidden:function(e){return!o.pseudos.visible(e)},input:function(e){return c.test(e.nodeName)},last:function(e,t,n){return t===n.length-1},lt:function(e,t,n,i){return t<i},not:function(e,t,n,i){return!_(e,i)},odd:function(e,t,n,i){return t%2==1},parent:function(e){return!!e.parentElement},selected:function(e){return!!e.selected},tabbable:function(e){var t=e.tabindex,n=null!=t;return(!n||t>=0)&&r.focusable(element,n)},text:function(e){return"text"===e.type},visible:function(e){return e.offsetWidth&&e.offsetWidth},empty:function(e){return!e.hasChildNodes()}};function p(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function f(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}for(i in["first","eq","last"].forEach(function(e){d[e].isArrayFilter=!0}),d.nth=d.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d[i]=p(i);for(i in{submit:!0,reset:!0})d[i]=f(i);function m(e,n,i){for(var r=[],s=i&&t.isString(i);(e=e.parentElement)&&9!==e.nodeType;){if(i)if(s){if(_(e,i))break}else if(t.isArrayLike(i)){if(t.inArray(e,i)>-1)break}else if(e==i)break;n&&!_(e,n)||r.push(e)}return r}function g(e,t){for(var n=e.childNodes,i=[],r=0;r<n.length;r++){var e=n[r];1==e.nodeType&&i.push(e)}return t&&(i=o.filter(i,t)),i}function y(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentElement===n&&_(e,t):_(e,t))||i&&e===n)return e;if(e===n)break}while(e=S(e))}return null}function v(e,t){try{return l.call(e.querySelectorAll(t))}catch(e){}return o.query(e,t)}function b(e,t){try{return e.querySelector(t)}catch(e){}var n=o.query(e,t);return n.length>0?n[0]:null}function k(e,t){return t||(t=e,e=document.body),_(e,t)?e:b(e,t)}function w(e,t,n){for(var i=e.childNodes,r=i[0];r;){if(1==r.nodeType){if(!t||_(r,t))return r;if(n)break}r=r.nextSibling}return null}function x(e,t,n){for(var i=e.childNodes,r=i[i.length-1];r;){if(1==r.nodeType){if(!t||_(r,t))return r;if(n)break}r=r.previousSibling}return null}function _(e,n){if(!n||!e||1!==e.nodeType)return!1;if(t.isString(n)){try{return u.call(e,n.replace(/\[([^=]+)=\s*([^'"\]]+?)\s*\]/g,'[$1="$2"]'))}catch(e){}return o.match(e,n)}return t.isArrayLike(n)?t.inArray(e,n)>-1:t.isPlainObject(n)?o.check(e,n):e===n}function C(e,t,n){for(var i=e.nextSibling;i;){if(1==i.nodeType){if(!t||_(i,t))return i;if(n)break}i=i.nextSibling}return null}function E(e,t){for(var n=e.nextSibling,i=[];n;)1==n.nodeType&&(t&&!_(n,t)||i.push(n)),n=n.nextSibling;return i}function S(e,t){var n=e.host&&e!==document&&e.host.nodeType?e.host:e.parentElement;return!n||t&&!_(n,t)?null:n}function A(e,t,n){for(var i=e.previousSibling;i;){if(1==i.nodeType){if(!t||_(i,t))return i;if(n)break}i=i.previousSibling}return null}function M(e,t){for(var n=e.previousSibling,i=[];n;)1==n.nodeType&&(t&&!_(n,t)||i.push(n)),n=n.previousSibling;return i}function T(e,t){for(var n=e.parentElement.firstChild,i=[];n;)1==n.nodeType&&n!==e&&(t&&!_(n,t)||i.push(n)),n=n.nextSibling;return i}o.divide=function(e){var t,n,i,r,s,o="",a=[];if((n=e.id)&&(o+="#"+n),i=e.classes)for(var l=i.length;l--;)o+="."+i[l].value;if(r=e.attributes)for(var l=0;l<r.length;l++)r[l].operator?o+="["+r[l].key+r[l].operator+JSON.stringify(r[l].value)+"]":o+="["+r[l].key+"]";if(s=e.pseudos)for(l=s.length;l--;)part=s[l],this.pseudos[part.key]?a.push(part):void 0!==part.value&&(o+=":"+part.key+"("+JSON.stringify(part));return(t=e.tag)&&"*"!==t&&(o=t.toUpperCase()+o),o||(o="*"),{nativeSelector:o,customPseudos:a}},o.check=function(e,t,n,i,r){var s,o,a,l,c,h,d,p,f;if(!r){if(s=t.tag){var m=e.nodeName.toUpperCase();if("*"==s){if(m<"@")return!1}else if(m!=(s||"").toUpperCase())return!1}if((o=t.id)&&e.getAttribute("id")!=o)return!1;if(a=t.classes)for(h=a.length;h--;)if(!(p=e.getAttribute("class"))||!a[h].regexp.test(p))return!1;if(l=t.attributes)for(h=l.length;h--;)if((d=l[h]).operator?!d.test(e.getAttribute(d.key)):!e.hasAttribute(d.key))return!1}if(c=t.pseudos)for(h=c.length;h--;)if(d=c[h],f=this.pseudos[d.key]){if((r&&f.isArrayFilter||!r&&!f.isArrayFilter)&&!f(e,n,i,d.value))return!1}else if(!r&&!u.call(e,d.key))return!1;return!0},o.match=function(e,n){var i;if(!(i=t.isString(n)?o.Slick.parse(n):n))return!0;var r,s,a=i.expressions,l=0;for(r=0;s=a[r];r++)if(1==s.length){var u=s[0];if(this.check(e,u))return!0;l++}if(l==i.length)return!1;var c,h=this.query(document,i);for(r=0;c=h[r++];)if(c===e)return!0;return!1},o.filterSingle=function(e,t){var n=a.call(e,function(n,i){return o.check(n,t,i,e,!1)});return n=a.call(n,function(e,i){return o.check(e,t,i,n,!0)})},o.filter=function(e,n){if(!t.isString(n))return o.filterSingle(e,n);var i,r,s=o.Slick.parse(n).expressions,a=[];for(i=0;r=s[i];i++){if(1!=r.length)throw new Error("not supported selector:"+n);var l=r[0],u=o.filterSingle(e,l);a=t.uniq(a.concat(u))}return a},o.combine=function(e,t){var n,i=t.combinator,r=t,s=[];switch(i){case">":s=g(e,r);break;case"+":(n=C(e,r,!0))&&s.push(n);break;case"^":(n=w(e,r,!0))&&s.push(n);break;case"~":s=E(e,r);break;case"++":var u=A(e,r,!0),c=C(e,r,!0);u&&s.push(u),c&&s.push(c);break;case"~~":s=T(e,r);break;case"!":s=m(e,r);break;case"!>":(n=S(e,r))&&s.push(n);break;case"!+":s=A(e,r,!0);break;case"!^":(n=x(e,r,!0))&&s.push(n);break;case"!~":s=M(e,r);break;default:var h=this.divide(t);if(s=l.call(e.querySelectorAll(h.nativeSelector)),h.customPseudos)for(var d=h.customPseudos.length-1;d>=0;d--)s=a.call(s,function(e,t){return o.check(e,{pseudos:[h.customPseudos[d]]},t,s,!1)}),s=a.call(s,function(e,t){return o.check(e,{pseudos:[h.customPseudos[d]]},t,s,!0)})}return s},o.query=function(e,n,i){for(var r,s,a=this.Slick.parse(n),l=[],u=a.expressions,c=0;r=u[c];c++){for(var h,d=[e],p=0;s=r[p];p++)(h=t.map(d,function(e,t){return o.combine(e,s)}))&&(d=h);h&&(l=l.concat(h))}return l};var D=function(){return D};return t.mixin(D,{ancestor:function(e,n,i){var r=i&&t.isString(i);for(;e=e.parentElement;){if(_(e,n))return e;if(i)if(r){if(_(e,i))break}else if(e==i)break}return null},ancestors:m,byId:function(e,t){return(t=t||r.doc()).getElementById(e)},childAt:function(e,n,i){var r=0,o=e.children;i=t.mixin({ignoreHidden:!0,excluding:null,closesting:null},i);for(var a=0;a<o.length;a++){var l=o[a];if((!i.ignoreHidden||"none"!==s.css(l))&&((!i.excluding||!i.excluding.includes(l))&&(!i.closesting||y(l,i.closesting,e,!1)))){if(r===n)return l;r++}}return null},children:g,closest:y,descendant:b,descendants:v,find:k,findAll:function(e,t){t||(t=e,e=document.body);return v(e,t)},firstChild:w,index:function(e,n){var i=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)t.isString(n)?_(e,n)&&i++:t.isFunction(n)&&n(e)&&i++,i++;return i},lastChild:x,matches:_,nextSibling:C,nextSiblings:E,parent:S,previousSibling:A,previousSiblings:M,pseudos:o.pseudos,siblings:T}),e.attach("domx.finder",D)}),e("skylark-domx-finder/main",["./finder"],function(e){return e}),e("skylark-domx-finder",["skylark-domx-finder/main"],function(e){return e}),e("skylark-domx-geom/geom",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-styler"],function(e,t,n,i){"use strict";var r,s=/^(?:body|html)$/i,o=t.toPixel,a=n.offsetParent;function l(e){if(n.isWindow(e))return{left:0,top:0,right:0,bottom:0};var t=getComputedStyle(e);return{left:o(t.borderLeftWidth,e),top:o(t.borderTopWidth,e),right:o(t.borderRightWidth,e),bottom:o(t.borderBottomWidth,e)}}function u(e,t){if(void 0===t)return s.test(e.nodeName)?{top:0,left:0}:e.getBoundingClientRect();var n=a(e),i=u(n),r=p(e),o=l(n);return g(e,{top:t.top-i.top-r.top-o.top+(b(n)||0),left:t.left-i.left-r.left-o.left+(v(n)||0)}),this}function c(e,t){return void 0!==t?(u(e,t),k(e,t),this):e==window||e==document.documentElement||e==document.body?{top:0,left:0,bottom:window.innerHeight,right:window.innerWidth,height:window.innerHeight,width:window.innerWidth}:e.getBoundingClientRect?e.getBoundingClientRect():void 0}function h(e,t){if(void 0==t)return{width:e.clientWidth,height:e.clientHeight};var n="border-box"===i.css(e,"box-sizing"),r={width:t.width,height:t.height};if(n){var s=l(e);void 0!==r.width&&(r.width=r.width+s.left+s.right),void 0!==r.height&&(r.height=r.height+s.top+s.bottom)}else{var o=f(e);void 0!==r.width&&(r.width=r.width-o.left-o.right),void 0!==r.height&&(r.height=r.height-o.top-o.bottom)}return i.css(e,r),this}function d(e){var t=e.documentElement,n=e.body,i=Math.max,r=i(t.scrollWidth,n.scrollWidth),s=i(t.clientWidth,n.clientWidth),o=i(t.offsetWidth,n.offsetWidth),a=i(t.scrollHeight,n.scrollHeight),l=i(t.clientHeight,n.clientHeight),u=i(t.offsetHeight,n.offsetHeight);return{width:r<o?s:r,height:a<u?l:a}}function p(e){if(n.isWindow(e))return{left:0,top:0,right:0,bottom:0};var t=getComputedStyle(e);return{left:o(t.marginLeft),top:o(t.marginTop),right:o(t.marginRight),bottom:o(t.marginBottom)}}function f(e){if(n.isWindow(e))return{left:0,top:0,right:0,bottom:0};var t=getComputedStyle(e);return{left:o(t.paddingLeft),top:o(t.paddingTop),right:o(t.paddingRight),bottom:o(t.paddingBottom)}}function m(e,t){if(void 0===t){var n=e.getBoundingClientRect(),i=e.ownerDocument.defaultView;return{left:n.left+i.pageXOffset,top:n.top+i.pageYOffset}}var r=a(e),s=m(r),o=p(e),u=l(r);return g(e,{top:t.top-s.top-o.top-u.top,left:t.left-s.left-o.left-u.left}),this}function g(e,t){if(void 0==t){var n=a(e),r=u(e),s=u(n),o=p(e),c=l(n);return{top:r.top-s.top-c.top-o.top,left:r.left-s.left-c.left-o.left}}var n=a(e),h={top:t.top,left:t.left};return"static"==i.css(e,"position")&&(h.position="relative"),i.css(e,h),this}function y(e,t){if(void 0===t){var n=a(e),i=c(e),r=u(n),s=(p(e),l(n));return{top:i.top-r.top-s.top,left:i.left-r.left-s.left,width:i.width,height:i.height}}return g(e,t),k(e,t),this}function v(e,t){9===e.nodeType?e=e.defaultView:e==document.body&&(e=document.scrollingElement||document.documentElement);var n="scrollLeft"in e;return void 0===t?n?e.scrollLeft:e.pageXOffset:(n?e.scrollLeft=t:e.scrollTo(t,e.scrollY),this)}function b(e,t){9===e.nodeType?e=e.defaultView:e==document.body&&(e=document.scrollingElement||document.documentElement);var n="scrollTop"in e;return void 0===t?n?e.scrollTop:e.pageYOffset:(n?e.scrollTop=t:e.scrollTo(e.scrollX,t),this)}function k(e,n){if(void 0==n)return t.isWindow(e)?{width:e.innerWidth,height:e.innerHeight}:t.isDocument(e)?d(document):{width:e.offsetWidth,height:e.offsetHeight};var r="border-box"===i.css(e,"box-sizing"),s={width:n.width,height:n.height};if(!r){var o=f(e),a=l(e);void 0!==s.width&&""!==s.width&&null!==s.width&&(s.width=s.width-o.left-o.right-a.left-a.right),void 0!==s.height&&""!==s.height&&null!==s.height&&(s.height=s.height-o.top-o.bottom-a.top-a.bottom)}return i.css(e,s),this}function w(e){return c(e=e||window)}function x(){return x}return t.mixin(x,{borderExtents:l,boundingPosition:u,boundingRect:c,clientHeight:function(e,t){return void 0==t?h(e).height:h(e,{height:t})},clientSize:h,clientWidth:function(e,t){return void 0==t?h(e).width:(h(e,{width:t}),this)},contentRect:function(e){var t=h(e),n=f(e);return{left:n.left,top:n.top,width:t.width-n.left-n.right,height:t.height-n.top-n.bottom}},getDocumentSize:d,hasScrollbar:function(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)},height:function(e,t){return void 0==t?k(e).height:(k(e,{height:t}),this)},inview:function(e,t){var n=function(e,t){var n={};return t=+t||0,n.width=(n.right=e.right+t)-(n.left=e.left-t),n.height=(n.bottom=e.bottom+t)-(n.top=e.top-t),n}(c(e),t),i=w();return!!n&&n.bottom>=0&&n.right>=0&&n.top<=i.height&&n.left<=i.width},marginExtents:p,marginRect:function(e){var t=y(e),n=p(e);return{left:t.left,top:t.top,width:t.width+n.left+n.right,height:t.height+n.top+n.bottom}},marginSize:function(e){var t=k(e),n=p(e);return{width:t.width+n.left+n.right,height:t.height+n.top+n.bottom}},offsetParent:a,paddingExtents:f,pagePosition:m,pageRect:function(e,t){if(void 0===t){var n=e.getBoundingClientRect(),i=e.ownerDocument.defaultView;return{left:n.left+i.pageXOffset,top:n.top+i.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}}return m(e,t),k(e,t),this},relativePosition:g,relativeRect:y,scrollbarWidth:function(){if(void 0!==r)return r;var e,t,s=n.createFragment("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>")[0],o=s.childNodes[0];n.append(document.body,s),e=o.offsetWidth,i.css(s,"overflow","scroll"),t=o.offsetWidth,e===t&&(t=s[0].clientWidth);return n.remove(s),r=e-t},scrollIntoView:function(e,t){var n,i,r,s,o,a,l=e.parentNode,u=function(e,t){var n,i,r=e;n=i=0;for(;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}(e,l);n=u.x,i=u.y,r=e.offsetWidth,s=e.offsetHeight,o=l.clientWidth,a=l.clientHeight,"end"==t?(n-=o-r,i-=a-s):"center"==t&&(n-=o/2-r/2,i-=a/2-s/2);return l.scrollLeft=n,l.scrollTop=i,this},scrollLeft:v,scrollTop:b,scrollBy:function(e,t,n){e.scrollLeft+=t,e.scrollTop+=n},size:k,testAxis:function(e){var t=e.offsetTop,n=e.offsetLeft,i=e.offsetWidth,r=e.offsetHeight;for(;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,n+=e.offsetLeft;var s={x:0,y:0};t<window.pageYOffset?s.y=t-window.pageYOffset:t+r>window.pageYOffset+window.innerHeight&&(s.y=t+r-(window.pageYOffset+window.innerHeight));n<window.pageXOffset?s.x=n-window.pageXOffset:n+i>window.pageXOffset+window.innerWidth&&(s.x=n+i-(window.pageXOffset+window.innerWidth));return s},viewportSize:w,width:function(e,t){return void 0==t?k(e).width:(k(e,{width:t}),this)}}),e.attach("domx.geom",x)}),e("skylark-domx-query/query",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-finder"],function(e,t,n,i){var r,s=Array.prototype.some,o=Array.prototype.push,a=(Array.prototype.every,Array.prototype.concat,Array.prototype.slice),l=(Array.prototype.map,Array.prototype.filter),u=Array.prototype.forEach,c=Array.prototype.indexOf,h=Array.prototype.sort,d=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,p=t.funcArg,f=t.isArrayLike,m=t.isString,g=t.uniq,y=t.isFunction,v=t.type,b=(t.isArray,t.isWindow,t.isDocument,t.isObject);t.isPlainObject,t.compact,t.flatten,t.camelCase,t.dasherize,i.children;function k(e,i,r){return function(r){var s,o=t.map(arguments,function(e){return"function"==(s=v(e))||"object"==s||"array"==s||null==e?e:n.createFragment(e)});return o.length<1?this:(this.each(function(t){e.apply(i,[this,o,t>0])}),this)}}function w(e,n){return function(){var i=a.call(arguments),r=t.map(this,function(t,r){return e.apply(n,[t].concat(i))});return M(g(r))}}function x(e,t,n){return function(i){a.call(arguments);var r=this.map(function(r,s){return s.querySelector?e.apply(t,n?[s]:[s,i]):[]});return n&&i?r.filter(i):r}}function _(e,t,n){return function(i,r){a.call(arguments);var s=this.map(function(s,o){return e.apply(t,n?[o,i]:[o,r,i])});return n&&r?s.filter(r):s}}function C(e,t){return function(){var n=a.call(arguments);return this.each(function(i,r){e.apply(t,[this].concat(n))}),this}}function E(e,n,i){return function(r){return t.isDefined(r)?(u.call(this,function(t,s){var o;o=i?p(t,r,s,i(t)):r,e.apply(n,[t,o])}),this):this[0]?e.apply(n,[this[0]]):void 0}}var S,A=t.klass({klassName:"SkNodeList",init:function(e,r){var s,a,l,u;if(e&&(this.context=r=r||n.doc(),m(e)?(this.selector=e,(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:d.exec(e))?s[1]?(a=n.createFragment(e),t.isPlainObject(r)&&(u=r)):(l=i.byId(s[2],n.ownerDoc(r)))&&(a=[l]):(t.isString(r)&&(r=i.find(r)),a=i.descendants(r,e))):a=!n.isWindow(e)&&f(e)?e:[e]),a&&(o.apply(this,a),u))for(var c in u)t.isFunction(this[c])?this[c](u[c]):this.attr(c,u[c]);return this}}),M=function(){r=function(e){return e instanceof A},init=function(e,t){return new A(e,t)};var e=function(t,n){return y(t)?(e.ready(function(){t(e)}),d):r(t)?t:n&&r(n)&&m(t)?n.find(t):init(t,n)},d=e(document);e.fn=A.prototype,t.mixin(e.fn,{length:0,map:function(n){return e(g(t.map(this,function(e,t){return n.call(e,t,e)})))},slice:function(){return e(a.apply(this,arguments))},forEach:function(){return u.apply(this,arguments)},get:function(e){return void 0===e?a.call(this):this[e>=0?e:e+this.length]},indexOf:function(){return c.apply(this,arguments)},sort:function(){return h.apply(this,arguments)},toArray:function(){return a.call(this)},size:function(){return this.length},remove:function(e){return e?this.find(e).remove():(this.each(function(e,t){n.remove(t)}),this)},each:function(e){return t.each(this,e),this},filter:function(t){return y(t)?this.not(this.not(t)):e(l.call(this,function(e){return i.matches(e,t)}))},add:function(t,n){return e(g(this.toArray().concat(e(t,n).toArray())))},is:function(e){if(this.length>0){if(t.isString(e))return s.call(this,function(t){return i.matches(t,e)});if(t.isArrayLike(e))return s.call(this,function(n){return t.inArray(n,e)>-1});if(t.isHtmlNode(e))return s.call(this,function(t){return t==e})}return!1},not:function(t){var n=[];if(y(t)&&void 0!==t.call)this.each(function(e,i){t.call(this,e,i)||n.push(this)});else{var i="string"==typeof t?this.filter(t):f(t)&&y(t.item)?a.call(t):e(t);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return e(n)},has:function(t){return this.filter(function(){return b(t)?n.contains(this,t):e(this).find(t).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:x(i.descendants,i),closest:x(i.closest,i),parents:x(i.ancestors,i),parentsUntil:_(i.ancestors,i),parent:x(i.parent,i),children:x(i.children,i),contents:w(n.contents,n),empty:C(n.empty,n),html:E(n.html,n),pluck:function(e){return t.map(this,function(t){return t[e]})},pushStack:function(t){var n=e(t);return n.prevObject=this,n},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var n="function"==typeof t;return this.each(function(i){e(this).wrapAll(n?t.call(this,i):t)})},wrapAll:function(t){var n;return this[0]&&("function"==typeof t&&(t=t.call(this[0])),n=e(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(t){return"function"==typeof t?this.each(function(n){e(this).wrapInner(t.call(this,n))}):this.each(function(){var n=e(this),i=n.contents();i.length?i.wrapAll(t):n.append(t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){e(this).replaceWith(this.childNodes)}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},toggle:function(t){return this.each(function(){var n=e(this);(void 0===t?"none"==n.css("display"):t)?n.show():n.hide()})},prev:function(t){return e(this.pluck("previousElementSibling")).filter(t||"*")},prevAll:x(i.previousSiblings,i),next:function(t){return e(this.pluck("nextElementSibling")).filter(t||"*")},nextAll:x(i.nextSiblings,i),siblings:x(i.siblings,i),index:function(t){return t?this.indexOf(e(t)[0]):this.parent().children().indexOf(this[0])}}),e.fn.detach=e.fn.remove,e.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};n.traverse;return e.fn.after=k(n.after,n),e.fn.prepend=k(n.prepend,n),e.fn.before=k(n.before,n),e.fn.append=k(n.append,n),t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(t){for(var i,r=[],s=e(t),a=s.length-1,l=0;l<=a;l++)i=l===a?this:this.clone(!0),e(s[l])[n](i),o.apply(r,i.get());return this.pushStack(r)}}),e}();return(S=M).fn.scrollParent=function(e){var t=this.css("position"),n="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=S(this);return(!n||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&r.length?r:S(this[0].ownerDocument||document)},function(e){e.fn.end=function(){return this.prevObject||e()},e.fn.andSelf=function(){return this.add(this.prevObject||e())},e.fn.addBack=function(e){return this.prevObject?e?this.add(this.prevObject.filter(e)):this.add(this.prevObject):this},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings,prev,prevAll,next,nextAll".split(",").forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=n.apply(this,arguments);return e.prevObject=this,e}})}(M),function(e){var s;e.fn.query=e.fn.find,e.fn.place=function(e,s){return t.isString(e)?e=i.descendant(e):r(e)&&(e=e[0]),this.each(function(t,i){switch(s){case"before":n.before(e,i);break;case"after":n.after(e,i);break;case"replace":n.replace(e,i);break;case"only":n.empty(e),n.append(e,i);break;case"first":n.prepend(e,i);break;default:n.append(e,i)}})},e.fn.addContent=function(e,n){return e.template&&(e=t.substitute(e.template,e)),this.append(e)},e.fn.disableSelection=(s="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(s+".ui-disableSelection",function(e){e.preventDefault()})}),e.fn.enableSelection=function(){return this.off(".ui-disableSelection")},e.fn.reflow=function(){return n.reflow(this[0])},e.fn.isBlockNode=function(){return n.isBlockNode(this[0])}}(M),M.fn.plugin=function(e,t){var n=a.call(arguments,1),i=this,r=this;return this.each(function(){r=plugins.instantiate.apply(i,[this,e].concat(n))}),r},M.wraps={wrapper_node_operation:k,wrapper_map:w,wrapper_value:E,wrapper_selector:x,wrapper_some_chk:function(e,t){return function(){var n=a.call(arguments);return s.call(this,function(i){return e.apply(t,[i].concat(n))})}},wrapper_selector_until:_,wrapper_every_act_firstArgFunc:function(e,t,n){return function(i){var r=a.call(arguments);return u.call(this,function(s,o){var a=p(s,i,o,n(s));e.apply(t,[s,a].concat(r.slice(1)))}),this}},wrapper_every_act:C,wrapper_name_value:function(e,n,i){return function(r,s){return t.isPlainObject(r)||t.isDefined(s)?(u.call(this,function(t,o){var a;a=i?p(t,s,o,i(t,r)):s,e.apply(n,[t,r,a])}),this):this[0]?e.apply(n,[this[0],r]):void 0}}},e.attach("domx.query",M)}),e("skylark-domx-query/main",["./query","skylark-domx-styler"],function(e,t){return e.fn.style=e.wraps.wrapper_name_value(t.css,t),e.fn.css=e.wraps.wrapper_name_value(t.css,t),e.fn.hasClass=e.wraps.wrapper_some_chk(t.hasClass,t),e.fn.addClass=e.wraps.wrapper_every_act_firstArgFunc(t.addClass,t,t.className),e.fn.removeClass=e.wraps.wrapper_every_act_firstArgFunc(t.removeClass,t,t.className),e.fn.toggleClass=e.wraps.wrapper_every_act_firstArgFunc(t.toggleClass,t,t.className),e.fn.replaceClass=function(e,t){return this.removeClass(t),this.addClass(e),this},e.fn.replaceClass=function(e,t){return this.removeClass(t),this.addClass(e),this},e}),e("skylark-domx-query",["skylark-domx-query/main"],function(e){return e}),e("skylark-domx-velm/velm",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-finder","skylark-domx-query"],function(e,t,n,i,r){var s=Array.prototype.map,o=Array.prototype.slice,a=t.klass({klassName:"VisualElement",_construct:function(e){t.isString(e)&&(e="<"===(e=t.trim(e)).charAt(0)?n.createFragment(e)[0]:document.getElementById(e)),this._elm=e}});a.prototype.$=a.prototype.query=function(e){return r(e,this._elm)},a.prototype.elm=function(){return this._elm};var l=new a(document.body),u=function(e){return e?new a(e):l};return t.mixin(u,{batch:function(e,t,n){return e.forEach(function(e){var i=e instanceof a?e:u(e);i[t].apply(i,n)}),this},root:new a(document.body),VisualElement:a,partial:function(e,t){var n={};n[e]=t,a.partial(n)},delegate:function(e,n,i){var r={};e.forEach(function(e){var l=e;i&&i[e]&&(l=i[e]),r[e]=function(e,n){return function(){var i=this._elm,r=e.apply(n,[i].concat(o.call(arguments)));if(r){if(r===n)return this;r instanceof HTMLElement?r=new a(r):t.isArrayLike(r)&&(r=s.call(r,function(e){return e instanceof HTMLElement?new a(e):e}))}return r}}(n[l],n)}),a.partial(r)}}),u.delegate(["ancestor","ancestors","children","descendant","find","findAll","firstChild","lastChild","matches","nextSibling","nextSiblings","parent","previousSibling","previousSiblings","siblings"],i),u.find=function(e){return"body"===e?this.root:this.root.descendant(e)},u.delegate(["after","append","before","clone","contains","contents","empty","html","isChildOf","isDocument","isInDocument","isWindow","ownerDoc","prepend","remove","removeChild","replace","reverse","throb","traverse","wrapper","wrapperInner","unwrap"],n),e.attach("domx.velm",u)}),e("skylark-domx-velm/main",["./velm","skylark-domx-styler"],function(e,t){e.delegate(["addClass","className","css","hasClass","hide","isInvisible","removeClass","show","toggleClass"],t);return["position","left","top","right","bottom","width","height","border","borderLeft","borderTop","borderRight","borderBottom","borderColor","display","overflow","margin","marginLeft","marginTop","marginRight","marginBottom","padding","paddingLeft","paddingTop","paddingRight","paddingBottom","color","background","backgroundColor","opacity","fontSize","fontWeight","textAlign","textDecoration","textTransform","cursor","zIndex"].forEach(function(t){var n=t;e.VisualElement.prototype[n]=function(e){return this.css(t,e),this}}),e}),e("skylark-domx-velm",["skylark-domx-velm/main"],function(e){return e}),e("skylark-domx-geom/posit",["skylark-langx/langx","skylark-domx-noder","skylark-domx-styler","./geom"],function(e,t,n,i){"use strict";var r=Math.max,s=Math.abs,o=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,c=/%$/;function h(e,t,n){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?n/100:1)]}function d(e,t){return parseInt(n.css(e,t),10)||0}var p={fit:{left:function(e,t){var n,i=t.within,s=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=e.left-t.collisionPosition.marginLeft,l=s-a,u=a+t.collisionWidth-o-s;t.collisionWidth>o?l>0&&u<=0?(n=e.left+l+t.collisionWidth-o-s,e.left+=l-n):e.left=u>0&&l<=0?s:l>u?s+o-t.collisionWidth:s:l>0?e.left+=l:u>0?e.left-=u:e.left=r(e.left-a,e.left)},top:function(e,t){var n,i=t.within,s=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,l=s-a,u=a+t.collisionHeight-o-s;t.collisionHeight>o?l>0&&u<=0?(n=e.top+l+t.collisionHeight-o-s,e.top+=l-n):e.top=u>0&&l<=0?s:l>u?s+o-t.collisionHeight:s:l>0?e.top+=l:u>0?e.top-=u:e.top=r(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,h=u+t.collisionWidth-a-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((n=e.left+d+p+f+t.collisionWidth-a-o)<0||n<s(c))&&(e.left+=d+p+f):h>0&&((i=e.left-t.collisionPosition.marginLeft+d+p+f-l)>0||s(i)<h)&&(e.left+=d+p+f)},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,h=u+t.collisionHeight-a-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];c<0?((i=e.top+p+f+m+t.collisionHeight-a-o)<0||i<s(c))&&(e.top+=p+f+m):h>0&&((n=e.top-t.collisionPosition.marginTop+p+f+m-l)>0||s(n)<h)&&(e.top+=p+f+m)}},flipfit:{left:function(){p.flip.left.apply(this,arguments),p.fit.left.apply(this,arguments)},top:function(){p.flip.top.apply(this,arguments),p.fit.top.apply(this,arguments)}}};return i.posit=function(c,f){var m,g,y,v,b,k,w=(f=e.extend({},f)).of,x=(S=f.within,A=S||window,M=t.isWindow(A),T=!!A&&9===A.nodeType,D=!M&&!T,O=i.marginSize(A),{element:A,isWindow:M,isDocument:T,offset:D?i.pagePosition(S):{left:0,top:0},scrollLeft:i.scrollLeft(A),scrollTop:i.scrollTop(A),width:O.width,height:O.height}),_=function(e){var t=e.isWindow||e.isDocument?"":n.css(e.element,"overflow-x"),r=e.isWindow||e.isDocument?"":n.css(e.element,"overflow-y"),s="scroll"===t||"auto"===t&&e.width<i.scrollWidth(e.element);return{width:"scroll"===r||"auto"===r&&e.height<i.scrollHeight(e.element)?i.scrollbarWidth():0,height:s?i.scrollbarWidth():0}}(x),C=(f.collision||"flip").split(" "),E={};var S,A,M,T,D,O;P=w,k=9===P.nodeType?{size:size(P),offset:{top:0,left:0}}:t.isWindow(P)?{size:i.size(P),offset:{top:i.scrollTop(P),left:i.scrollLeft(P)}}:P.preventDefault?{size:{width:0,height:0},offset:{top:P.pageY,left:P.pageX}}:{size:i.size(P),offset:i.pagePosition(P)},w.preventDefault&&(f.at="left top");var P;g=k.size.width,y=k.size.height,v=k.offset,b=e.extend({},v),e.each(["my","at"],function(){var e,t,n=(f[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",e=l.exec(n[0]),t=l.exec(n[1]),E[this]=[e?e[0]:0,t?t[0]:0],f[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]);"right"===f.at[0]?b.left+=g:"center"===f.at[0]&&(b.left+=g/2);"bottom"===f.at[1]?b.top+=y:"center"===f.at[1]&&(b.top+=y/2);return m=h(E.at,g,y),b.left+=m[0],b.top+=m[1],function(t){var n,o,a=i.marginSize(t),l=a.width,u=a.height,c=d(t,"marginLeft"),k=d(t,"marginTop"),S=l+c+d(t,"marginRight")+_.width,A=u+k+d(t,"marginBottom")+_.height,M=e.extend({},b),T=h(E.my,a.width,a.height);"right"===f.my[0]?M.left-=l:"center"===f.my[0]&&(M.left-=l/2),"bottom"===f.my[1]?M.top-=u:"center"===f.my[1]&&(M.top-=u/2),M.left+=T[0],M.top+=T[1],n={marginLeft:c,marginTop:k},e.each(["left","top"],function(e,i){p[C[e]]&&p[C[e]][i](M,{targetWidth:g,targetHeight:y,elemWidth:l,elemHeight:u,collisionPosition:n,collisionWidth:S,collisionHeight:A,offset:[m[0]+T[0],m[1]+T[1]],my:f.my,at:f.at,within:x,elem:t})}),f.using&&(o=function(e){var n=v.left-M.left,i=n+g-l,o=v.top-M.top,a=o+y-u,c={target:{element:w,left:v.left,top:v.top,width:g,height:y},element:{element:t,left:M.left,top:M.top,width:l,height:u},horizontal:i<0?"left":n>0?"right":"center",vertical:a<0?"top":o>0?"bottom":"middle"};g<l&&s(n+i)<g&&(c.horizontal="center"),y<u&&s(o+a)<y&&(c.vertical="middle"),r(s(n),s(i))>r(s(o),s(a))?c.important="horizontal":c.important="vertical",f.using.call(this,e,c)}),i.pagePosition(t,e.extend(M,{using:o}))}(c)}}),e("skylark-domx-geom/scrollToTop",["skylark-langx/langx","skylark-domx-styler","./geom"],function(e,t,n){return n.scrollToTop=function(t,n,i,r){var s=parseInt(t.scrollTop),o=0,a=1e3*i/5,l=parseInt(n),u=setInterval(function(){++o<=a&&(t.scrollTop=(l-s)/a*o+s),o>=a+1&&(clearInterval(u),r&&e.debounce(r,1e3)())},5);return this}}),e("skylark-domx-geom/main",["skylark-langx/langx","./geom","skylark-domx-velm","skylark-domx-query","./posit","./scrollToTop"],function(e,t,n,i){return n.delegate(["borderExtents","boundingPosition","boundingRect","clientHeight","clientSize","clientWidth","contentRect","height","marginExtents","marginRect","marginSize","offsetParent","paddingExtents","pagePosition","pageRect","relativePosition","relativeRect","scrollIntoView","scrollLeft","scrollTop","pageSize","width"],t,{pageSize:"size"}),i.fn.offset=i.wraps.wrapper_value(t.pagePosition,t,t.pagePosition),i.fn.scrollTop=i.wraps.wrapper_value(t.scrollTop,t),i.fn.scrollLeft=i.wraps.wrapper_value(t.scrollLeft,t),i.fn.position=function(n){if(!this.length)return this;if(n)return n.of&&n.of.length&&((n=e.clone(n)).of=n.of[0]),this.each(function(){t.posit(this,n)});var i=this[0];return t.relativePosition(i)},i.fn.offsetParent=i.wraps.wrapper_map(t.offsetParent,t),i.fn.pageSize=i.wraps.wrapper_value(t.size,t),i.fn.width=i.wraps.wrapper_value(t.width,t,t.width),i.fn.height=i.wraps.wrapper_value(t.height,t,t.height),i.fn.clientSize=i.wraps.wrapper_value(t.clientSize,t.clientSize),["width","height"].forEach(function(e){var n=e.replace(/./,function(e){return e[0].toUpperCase()});i.fn["outer"+n]=function(n,i){if(arguments.length?"boolean"!=typeof n&&(i=n,n=!1):(n=!1,i=void 0),void 0===i){var r=this[0];if(!r)return;var s=t.size(r);if(n){var o=t.marginExtents(r);s.width=s.width+o.left+o.right,s.height=s.height+o.top+o.bottom}return"width"===e?s.width:s.height}return this.each(function(r,s){var o={},a=t.marginExtents(s);"width"===e?(o.width=i,n&&(o.width=o.width-a.left-a.right)):(o.height=i,n&&(o.height=o.height-a.top-a.bottom)),t.size(s,o)})}}),i.fn.innerWidth=i.wraps.wrapper_value(t.clientWidth,t,t.clientWidth),i.fn.innerHeight=i.wraps.wrapper_value(t.clientHeight,t,t.clientHeight),t}),e("skylark-domx-geom",["skylark-domx-geom/main"],function(e){return e}),e("skylark-domx-data/data",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-finder","skylark-domx-noder"],function(e,t,n,i){var r=Array.prototype.map,s=(Array.prototype.filter,t.camelCase),o=t.deserializeValue,a=/([A-Z])/g,l={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};var u={option:{get:function(e){var t=e.getAttribute("value");return null!=t?t:(m(e).match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")}},select:{get:function(e){var t,n,r,s=e.options,o=e.selectedIndex,a="select-one"===e.type,l=a?null:[],u=a?o+1:s.length;for(r=o<0?u:a?o:0;r<u;r++)if((n=s[r]).selected&&!n.disabled&&(!n.parentNode.disabled||!i.nodeName(n.parentNode,"optgroup"))){if(t=g(n),a)return t;l.push(t)}return l},set:function(e,n){for(var i,r,s=e.options,o=t.makeArray(n),a=s.length;a--;)((r=s[a]).selected=t.inArray(u.option.get(r),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}};function c(e,t,n){if(void 0===n){if("object"==typeof t){for(var i in t)c(e,i,t[i]);return this}return e.getAttribute?e.getAttribute(t):e[t]}return e.setAttribute?e.setAttribute(t,n):e[t]=n,this}function h(e,n){var i=e._$_store;return!i&&n&&(i=e._$_store=function(e){var n={};return t.each(e.attributes||[],function(e,t){0==t.name.indexOf("data-")&&(n[s(t.name.replace("data-",""))]=o(t.value))}),n}(e)),i}function d(e,t,n){var i=h(e,!0);i[s(t)]=n}function p(e,n,i){if(void 0===i){if("object"==typeof n){for(var r in n)d(e,r,n[r]);return this}return function(e,n){if(void 0===n)return h(e,!0);var i=h(e);if(i){if(n in i)return i[n];var r=s(n);if(r in i)return i[r]}var o="data-"+n.replace(a,"-$1").toLowerCase(),l=c(e,o);return t.isString(l)||(l=void 0),l}(e,n)}return d(e,n,i),this}function f(e){e._$_store&&delete e._$_store}function m(e,t){return void 0===t?void 0!==e.textContent?e.textContent:e.innerText:(t=null==t?"":""+t,void 0!==e.textContent?e.textContent=t:e.innerText=t,this)}function g(e,n){var i=u[e.type]||u[e.nodeName.toLowerCase()];if(void 0===n)return i&&"get"in i&&void 0!==(ret=i.get(e,"value"))?ret:(ret=e.value,"string"==typeof ret?ret.replace(/\r/g,""):null==ret?"":ret);null==n?n="":"number"==typeof n?n+="":t.isArray(n)&&(n=t.map(n,function(e){return null==e?"":e+""})),i&&"set"in i&&void 0!==i.set(e,n,"value")||(e.value=n)}function y(){return y}return t.each(["radio","checkbox"],function(){u[this]={set:function(e,n){if(t.isArray(n))return e.checked=t.inArray(g(e),n)>-1}}}),n.pseudos.data=function(e,t,n,i){return!!p(e,i||n[3])},t.mixin(y,{aria:function(e,t,n){return this.attr(e,"aria-"+t,n)},attr:c,cleanData:f,data:p,pluck:function(e,t){return r.call(e,function(e){return e[t]})},prop:function e(t,n,i){if(void 0===i&&"object"==typeof n){for(var r in n)e(t,r,n[r]);return this}n=l[n]||n;return void 0===i?t[n]:(t[n]=i,this)},removeAttr:function(e,t){return t.split(" ").forEach(function(t){!function(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}(e,t)}),this},removeData:function(e,n){if(n){t.isString(n)&&(n=n.split(/\s+/));var i=h(e,!0);n.forEach(function(e){delete i[e]})}else f(e);return this},removeProp:function(e,t){return t.split(" ").forEach(function(t){delete e[t]}),this},text:m,val:g,valHooks:u}),e.attach("domx.data",y)}),e("skylark-domx-data/main",["./data","skylark-domx-velm","skylark-domx-query"],function(e,t,n){return t.delegate(["attr","data","prop","removeAttr","removeData","text","val"],e),n.fn.text=n.wraps.wrapper_value(e.text,e,e.text),n.fn.attr=n.wraps.wrapper_name_value(e.attr,e,e.attr),n.fn.removeAttr=n.wraps.wrapper_every_act(e.removeAttr,e),n.fn.prop=n.wraps.wrapper_name_value(e.prop,e,e.prop),n.fn.removeProp=n.wraps.wrapper_every_act(e.removeProp,e),n.fn.data=n.wraps.wrapper_name_value(e.data,e),n.fn.removeData=n.wraps.wrapper_every_act(e.removeData),n.fn.val=n.wraps.wrapper_value(e.val,e,e.val),e}),e("skylark-domx-data",["skylark-domx-data/main"],function(e){return e}),e("skylark-domx-eventer/eventer",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser","skylark-domx-finder","skylark-domx-noder","skylark-domx-data"],function(e,t,n,i,r,s){t.mixin;var o=t.each,a=(Array.prototype.slice,t.uid),l=/^([A-Z]|returnValue$|layer[XY]$)/,u={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},c=/complete|loaded|interactive/;function h(e,n){return!n&&e.isDefaultPrevented||(n||(n=e),t.each(u,function(i,r){var s=n[i];e[i]=function(){return this[r]=t.returnTrue,s&&s.apply(n,arguments)},e[r]=t.returnFalse})),e}function d(e){if(e){var t=(""+e).split(".");return{type:t[0],ns:t.slice(1).sort().join(" ")}}return{type:null,ns:null}}function p(e){return e&&(t.isFunction(e)||t.isFunction(e.handleEvent))}var f=[window.CustomEvent,window.CompositionEvent,window.DragEvent,window.Event,window.FocusEvent,window.KeyboardEvent,window.MessageEvent,window.MouseEvent,window.MouseScrollEvent,window.MouseWheelEvent,window.MutationEvent,window.ProgressEvent,window.TextEvent,window.TouchEvent,window.UIEvent,window.WheelEvent,window.ClipboardEvent],m={compositionstart:1,compositionend:1,compositionupdate:1,beforecopy:16,beforecut:16,beforepaste:16,copy:16,cut:16,paste:16,drag:2,dragend:2,dragenter:2,dragexit:2,dragleave:2,dragover:2,dragstart:2,drop:2,abort:3,change:3,error:3,selectionchange:3,submit:3,reset:3,fullscreenchange:3,fullscreenerror:3,focus:4,blur:4,focusin:4,focusout:4,keydown:5,keypress:5,keyup:5,message:6,click:7,contextmenu:7,dblclick:7,mousedown:7,mouseup:7,mousemove:7,mouseover:7,mouseout:7,mouseenter:7,mouseleave:7,progress:11,textInput:12,tap:13,touchstart:13,touchmove:13,touchend:13,load:14,resize:14,select:14,scroll:14,unload:14,wheel:15},g=function(){return function(e,n){t.isString(e)?n=n||{}:e=(n=e||{}).type||"";var i=d(e);e=i.type,n=t.mixin({bubbles:!0,cancelable:!0},n),i.ns&&(n.namespace=i.ns);var r=function(e){var t=m[e];t||(t=0);return f[t]}(e),s=new r(e,n);return t.safeMixin(s,n),h(s)}}();function y(e,n){var i,r={originalEvent:e};for(i in e)"keyIdentifier"===i||l.test(i)||void 0===e[i]||(r[i]=e[i]);return n&&t.mixin(r,n),h(r,e)}var v={},b="onfocusin"in window,k={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"},x=function(e){return w[e]||b&&k[e]||e},_={},C=t.klass({init:function(e,t){this._target=e,this._event=t,this._bindings=[]},add:function(e,n){var s=this._bindings,o={fn:e,options:t.mixin({},n)};s.push(o);var a=this;if(!a._listener){a._listener=function(e){var n=this,s=y(e),o=e._args,l=a._bindings,u=s.namespace;o=t.isDefined(o)?[s].concat(o):[s],s.type=a._event,t.each(l,function(e,l){var c=n;if(s.isImmediatePropagationStopped&&s.isImmediatePropagationStopped())return!1;var h=l.fn,d=l.options||{},p=d.selector,f=d.one,m=d.data;if(!u||u==d.ns||-1!==d.ns.indexOf(u)){if(p){if(!(c=i.closest(s.target,p))||c===n)return;t.mixin(s,{currentTarget:c,liveFired:n})}var g=a._event;if(g in w){var y=s.relatedTarget;if(y&&(y===c||r.contains(c,y)))return}t.isDefined(m)&&(s.data=m),f&&a.remove(h,d),!1===(h.handleEvent?h.handleEvent.apply(h,o):d.ctx?h.apply(d.ctx,o):h.apply(c,o))&&(s.preventDefault(),s.stopPropagation())}})};var l=a._event;a._target.addEventListener?a._target.addEventListener(x(l),a._listener,!1):console.warn("invalid eventer object",a._target)}},remove:function(e,n){var i,r;(n=t.mixin({},n)).ns&&(r=n.ns,i=new RegExp("(?:^| )"+r.replace(" "," .* ?")+"(?: |$)")),this._bindings=this._bindings.filter(function(t){var r=(!e||e===t.fn)&&(!i||i.test(t.options.ns))&&(!n.selector||n.selector==t.options.selector);return!r}),0==this._bindings.length&&(this._target.removeEventListener&&this._target.removeEventListener(x(this._event),this._listener,!1),this._listener=null)}}),E=t.klass({init:function(e){this._target=e,this._handler={}},register:function(e,n,i){var r=d(e),e=r.type,s=v[e],o=s&&(s.bindType||s.bindEventName),a=this._handler;void 0===a[e]&&(a[e]=new C(this._target,o||e)),a[e].add(n,t.mixin({ns:r.ns},i))},unregister:function(e,n,i){var r=this._handler,s=d(e);if(e=s.type){var o=r[e];o&&o.remove(n,t.mixin({ns:s.ns},i))}else for(e in r){var o=r[e];o.remove(n,t.mixin({ns:s.ns},i))}}}),S=function(e){var t=a(e),n=_[t];return n||(n=_[t]=new E(e)),n};var A=[],M=t.loop(function(){for(var e=0;e<A.length;e++)D(A[e],"focused");A=[]});function T(e,n,i,r,s,o,a){if(t.isPlainObject(n))return t.each(n,function(t,n){T(e,t,i,r,n,a)}),this;t.isString(i)||p(s)||(a=o,o=s,s=r,r=i,i=void 0),p(r)&&(a=o,o=s,s=r,r=void 0),t.isBoolean(o)&&(a=o,o=void 0),!1===s&&(s=t.returnFalse),"string"==typeof n&&(n=n.indexOf(",")>-1?n.split(","):n.split(/\s/));var l=S(e);return n.forEach(function(e){if("ready"==e)return O(s);l.register(e,s,{data:r,selector:i,ctx:o,one:!!a})}),this}function D(e,t,n){var i;(i=t instanceof Event?t:g(t,n))._args=n;var r=e.dispatchEvent||e.trigger;return r?r.call(e,i):console.warn("The evented parameter is not a eventable object"),this}function O(e){return c.test(document.readyState)&&document.body?t.defer(e):document.addEventListener("DOMContentLoaded",e,!1),this}M.start();var P=[],L=t.loop(function(){for(var e=0;e<P.length;e++)D(P[e],"resized");P=[]});L.start();var I={backspace:8,comma:188,delete:46,down:40,end:35,enter:13,escape:27,home:36,left:37,page_down:34,page_up:33,period:190,right:39,space:32,tab:9,up:38};function R(){return R}return n.support.transition&&(v.transitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end}),t.mixin(R,{NativeEvents:m,clear:function(e){return S(e).unregister(),this},create:g,focused:function(e){A.includes(e)||A.push(e)},keys:I,isNativeEvent:function(e){if(t.isString(e))return!!m[e];if(t.isArray(e)){for(var n=0;n<e.length;n++)if(m[e])return!1;return e.length>0}},off:function e(n,i,r,s){if(t.isPlainObject(i))return t.each(i,function(t,i){e(n,t,r,i)}),this;t.isString(r)||p(s)||!1===s||(s=r,r=void 0);!1===s&&(s=t.returnFalse);"string"==typeof i&&(i=i.indexOf(",")>-1?i.split(","):i.split(/\s/));var o=S(n);i&&i.forEach(function(e){o.unregister(e,s,{selector:r})});return this},on:T,one:function(...e){return T(...e,!0),this},proxy:y,ready:O,resized:function(e){P.includes(e)||P.push(e)},shortcuts:function(e){var t=s.data(e,"shortcuts");if(!t){t={},s.data(e,"shortcuts",t);var n=function(e,t){var n=t.metaKey||t.ctrlKey;if(e.ctrl==n&&e.alt==t.altKey&&e.shift==t.shiftKey&&(t.keyCode==e.keyCode||t.charCode&&t.charCode==e.charCode))return t.preventDefault(),"keydown"==t.type&&e.fn(t),!0};T(e,"keyup keypress keydown",function(e){if(!/INPUT|TEXTAREA/.test(e.target.nodeName))for(var i in t)n(t[i],e)})}return{add:function(e,n){(e.indexOf(",")>-1?e.toLowerCase().split(","):e.toLowerCase().split(" ")).forEach(function(e){var i={fn:n,alt:!1,ctrl:!1,shift:!1};e.split("+").forEach(function(e){switch(e){case"alt":case"ctrl":case"shift":i[e]=!0;break;default:i.charCode=e.charCodeAt(0),i.keyCode=I[e]||e.toUpperCase().charCodeAt(0)}});var r=(i.ctrl?"ctrl":"")+","+(i.alt?"alt":"")+","+(i.shift?"shift":"")+","+i.keyCode;t[r]=i})}}},special:v,stop:function(e){window.document.all&&(e.keyCode=0);e.preventDefault&&(e.preventDefault(),e.stopPropagation());return this},trigger:D}),o(m,function(e){R[e]=function(t,n,i,r){return arguments.length>1?this.on(t,e,n,i,r):("focus"==e?t.focus&&t.focus():"blur"==e?t.blur&&t.blur():"click"==e?t.click&&t.click():this.trigger(t,e),this)}}),e.attach("domx.eventer",R)}),e("skylark-domx-eventer/main",["skylark-langx/langx","./eventer","skylark-domx-velm","skylark-domx-query"],function(e,t,n,i){var r=["off","on","one","trigger"];return e.each(t.NativeEvents,function(e){r.push(e)}),n.delegate(r,t),e.each(r,function(e,n){i.fn[n]=i.wraps.wrapper_every_act(t[n],t)}),i.ready=t.ready,t}),e("skylark-domx-eventer",["skylark-domx-eventer/main"],function(e){return e}),e("skylark-langx-emitter/Emitter",["skylark-langx-events"],function(e){return e.Emitter}),e("skylark-dragula/emitter",["skylark-langx-emitter/Emitter"],function(e){var t=e.inherit({_prepareArgs:function(e,t){return t},init:function(e,t){void 0===e&&(e={}),Object.assign(this,e)}});return t}),e("skylark-dragula/crossvent",["skylark-domx-eventer"],function(e){return{add:e.on,remove:e.off}}),e("skylark-dragula/classes",["skylark-domx-styler"],function(e){return{add:e.addClass,rm:e.removeClass}}),e("skylark-dragula/dragula",["skylark-langx/skylark","skylark-devices-points/mouse","skylark-devices-points/touch","skylark-domx-noder","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","./emitter","./crossvent","./classes"],function(e,t,n,i,r,s,o,a,l,u){"use strict";var c=window,h=c.document,d=h.documentElement;function p(e,t,i,r){"add"==t?o.on(e,i,r):o.off(e,i,r),e.touchInited||(e.touchInited=!0,n.mousy(e))}function f(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function m(e,t,n){return h.elementFromPoint(t,n)}function g(){return!1}function y(){return!0}function v(e){return e.width||e.right-e.left}function b(e){return e.height||e.bottom-e.top}function k(e){return r.parent(e)}function w(e){return i.isInput(e)}function x(e){return r.nextSibling(e)}function _(e,t){var n=function(e){if(e.targetTouches&&e.targetTouches.length)return e.targetTouches[0];if(e.changedTouches&&e.changedTouches.length)return e.changedTouches[0];return e}(t),i={pageX:"clientX",pageY:"clientY"};return e in i&&!(e in n)&&i[e]in n&&(e=i[e]),n[e]}return e.attach("intg.dragula",function(e,t){var n,r,o,c,C,E,S,A,M,T,D;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var O,P=null,L=t||{};void 0===L.moves&&(L.moves=y);void 0===L.accepts&&(L.accepts=y);void 0===L.invalid&&(L.invalid=function(){return!1});void 0===L.containers&&(L.containers=e||[]);void 0===L.isContainer&&(L.isContainer=g);void 0===L.copy&&(L.copy=!1);void 0===L.copySortSource&&(L.copySortSource=!1);void 0===L.revertOnSpill&&(L.revertOnSpill=!1);void 0===L.removeOnSpill&&(L.removeOnSpill=!1);void 0===L.direction&&(L.direction="vertical");void 0===L.ignoreInputTextSelection&&(L.ignoreInputTextSelection=!0);void 0===L.mirrorContainer&&(L.mirrorContainer=h.body);var I=a({containers:L.containers,start:function(e){var t=$(e);t&&H(t)},end:B,cancel:G,remove:K,destroy:function(){F(!0),Y({})},canMove:function(e){return!!$(e)},dragging:!1});!0===L.removeOnSpill&&I.on("over",function(e){u.rm(e,"gu-hide")}).on("out",function(e){I.dragging&&u.add(e,"gu-hide")});return F(),I;function R(e){return-1!==I.containers.indexOf(e)||L.isContainer(e)}function F(e){var t=e?"remove":"add";p(d,t,"mousedown",z),p(d,t,"mouseup",Y)}function V(e){var t=e?"remove":"add";p(d,t,"mousemove",U)}function N(e){var t=e?"remove":"add";l[t](d,"selectstart",j),l[t](d,"click",j)}function j(e){O&&e.preventDefault()}function z(e){E=e.clientX,S=e.clientY;var t=1!==f(e)||e.metaKey||e.ctrlKey;if(!t){var n=e.target,i=$(n);i&&(O=i,V(),"mousedown"===e.type&&(w(n)?n.focus():e.preventDefault()))}}function U(e){if(O)if(0!==f(e)){if(void 0===e.clientX||e.clientX!==E||void 0===e.clientY||e.clientY!==S){if(L.ignoreInputTextSelection){var t=_("clientX",e),r=_("clientY",e),a=i.fromPoint(t,r);if(w(a))return}var l=O;V(!0),N(),B(),H(l);var h,m=(h=o,s.pagePosition(h));c=_("pageX",e)-m.left,C=_("pageY",e)-m.top,u.add(T||o,"gu-transit"),function(){if(n)return;var e=o.getBoundingClientRect();(n=o.cloneNode(!0)).style.width=v(e)+"px",n.style.height=b(e)+"px",u.rm(n,"gu-transit"),u.add(n,"gu-mirror"),L.mirrorContainer.appendChild(n),p(d,"add","mousemove",Q),u.add(L.mirrorContainer,"gu-unselectable"),I.emit("cloned",n,o,"mirror")}(),Q(e)}}else Y({})}function $(e){if(!(I.dragging&&n||R(e))){for(var t=e;k(e)&&!1===R(k(e));){if(L.invalid(e,t))return;if(!(e=k(e)))return}var i=k(e);if(i&&!L.invalid(e,t)){var r=L.moves(e,i,t,x(e));if(r)return{item:e,source:i}}}}function H(e){var t,n;t=e.item,n=e.source,("boolean"==typeof L.copy?L.copy:L.copy(t,n))&&(T=e.item.cloneNode(!0),I.emit("cloned",T,e.item,"copy")),r=e.source,o=e.item,A=M=x(e.item),I.dragging=!0,I.emit("drag",o,r)}function B(){if(I.dragging){var e=T||o;W(e,k(e))}}function q(){O=!1,V(!0),N(!0)}function Y(e){if(q(),I.dragging){var t=T||o,i=_("clientX",e),s=_("clientY",e),a=m(n,i,s),l=X(a,i,s);l&&(T&&L.copySortSource||!T||l!==r)?W(t,l):L.removeOnSpill?K():G()}}function W(e,t){var n=k(e);T&&L.copySortSource&&t===r&&n.removeChild(o),Z(t)?I.emit("cancel",e,r,r):I.emit("drop",e,t,r,M),J()}function K(){if(I.dragging){var e=T||o,t=k(e);t&&t.removeChild(e),I.emit(T?"cancel":"remove",e,t,r),J()}}function G(e){if(I.dragging){var t=arguments.length>0?e:L.revertOnSpill,n=T||o,i=k(n),s=Z(i);!1===s&&t&&(T?i&&i.removeChild(T):r.insertBefore(n,A)),s||t?I.emit("cancel",n,r,r):I.emit("drop",n,i,r,M),J()}}function J(){var e=T||o;q(),n&&(u.rm(L.mirrorContainer,"gu-unselectable"),p(d,"remove","mousemove",Q),k(n).removeChild(n),n=null),e&&u.rm(e,"gu-transit"),D&&clearTimeout(D),I.dragging=!1,P&&I.emit("out",e,P,r),I.emit("dragend",e),r=o=T=A=M=D=P=null}function Z(e,t){var i;return i=void 0!==t?t:n?M:x(T||o),e===r&&i===A}function X(e,t,n){for(var i=e;i&&!s();)i=k(i);return i;function s(){var s=R(i);if(!1===s)return!1;var a=ee(i,e),l=te(i,a,t,n),u=Z(i,l);return!!u||L.accepts(o,i,r,l)}}function Q(e){if(n){e.preventDefault();var t=_("clientX",e),i=_("clientY",e),s=t-c,a=i-C;n.style.left=s+"px",n.style.top=a+"px";var l=T||o,u=m(n,t,i),h=X(u,t,i),d=null!==h&&h!==P;(d||null===h)&&(P&&y("out"),P=h,d&&y("over"));var p=k(l);if(h!==r||!T||L.copySortSource){var f,g=ee(h,u);if(null!==g)f=te(h,g,t,i);else{if(!0!==L.revertOnSpill||T)return void(T&&p&&p.removeChild(l));f=A,h=r}(null===f&&d||f!==l&&f!==x(l))&&(M=f,h.insertBefore(l,f),I.emit("shadow",l,h,r))}else p&&p.removeChild(l)}function y(e){I.emit(e,l,P,r)}}function ee(e,t){for(var n=t;n!==e&&k(n)!==e;)n=k(n);return n===d?null:n}function te(e,t,n,i){var r="horizontal"===L.direction,o=t!==e?function(){var e=s.boundingRect(t);if(r)return a(n>e.left+v(e)/2);return a(i>e.top+b(e)/2)}():function(){var t,o,a,l=e.children.length;for(t=0;t<l;t++){if(o=e.children[t],a=s.boundingRect(o),r&&a.left+a.width/2>n)return o;if(!r&&a.top+a.height/2>i)return o}return null}();return o;function a(e){return e?x(t):t}}})}),e("skylark-dragula/main",["./dragula"],function(e){return e}),e("skylark-dragula",["skylark-dragula/main"],function(e){return e}),e("skylark-formio/components/_classes/nestedarray/NestedArrayComponent",["skylark-lodash","../component/Component","../nesteddata/NestedDataComponent"],function(e,t,n){"use strict";return class extends n{componentContext(e){return this.iteratableRows[e.rowIndex].data}get iteratableRows(){throw new Error("Getter #iteratableRows() is not implemented")}get rowIndex(){return super.rowIndex}set rowIndex(e){this._rowIndex=e}checkData(e,n,i){return e=e||this.rootValue,n=n||{},i=i||this.data,this.checkRows("checkData",e,n,t.prototype.checkData.call(this,e,n,i))}checkRows(e,t,n,i){return this.iteratableRows.reduce((i,r)=>this.checkRow(e,t,n,r.data,r.components)&&i,i)}checkRow(t,n,i,r,s){return e.reduce(s,(e,s)=>s[t](n,i,r)&&e,!0)}hasAddButton(){const t=e.get(this.component,"validate.maxLength"),n=e.get(this.component,"conditionalAddButton");return!this.component.disableAddingRemovingRows&&!this.options.readOnly&&!this.disabled&&this.fullMode&&!this.options.preview&&(!t||this.iteratableRows.length<t)&&(!n||this.evaluate(n,{value:this.dataValue},"show"))}}}),e("skylark-formio/components/datagrid/DataGrid",["skylark-lodash","skylark-dragula","../_classes/nestedarray/NestedArrayComponent","../../utils/utils"],function(e,t,n,i){"use strict";return class r extends n{static schema(...e){return n.schema({label:"Data Grid",key:"dataGrid",type:"datagrid",clearOnHide:!0,input:!0,tree:!0,components:[]},...e)}static get builderInfo(){return{title:"Data Grid",icon:"th",group:"data",documentation:"http://help.form.io/userguide/#datagrid",weight:30,schema:r.schema()}}constructor(...e){super(...e),this.type="datagrid"}init(){this.components=this.components||[],this.rows=[],this.createRows(!0),this.visibleColumns={},this.checkColumns()}get dataValue(){const e=super.dataValue;return e&&Array.isArray(e)?e:this.emptyValue}set dataValue(e){super.dataValue=e}get defaultSchema(){return r.schema()}get emptyValue(){return[{}]}get addAnotherPosition(){return e.get(this.component,"addAnotherPosition","bottom")}get minLength(){return this.hasRowGroups()?e.sum(this.getGroupSizes()):e.get(this.component,"validate.minLength",0)}get defaultValue(){const e=super.defaultValue;let t;for(let n=(t=Array.isArray(e)?e:e&&"object"==typeof e?[e]:this.emptyValue).length;n<this.minLength;n++)t.push({});return t}set disabled(t){super.disabled=t,e.each(this.refs[`${this.datagridKey}-addRow`],e=>{e.disabled=t}),e.each(this.refs[`${this.datagridKey}-removeRow`],e=>{e.disabled=t})}get disabled(){return super.disabled}get datagridKey(){return`datagrid-${this.key}`}get allowReorder(){return!this.options.readOnly&&e.get(this.component,"reorder",!1)}get iteratableRows(){return this.rows.map((e,t)=>({components:e,data:this.dataValue[t]}))}getRowChunks(t,n){const[,i]=t.reduce(([e,t],n)=>{const i=e+n;return[i,[...t,[e,i]]]},[0,[]]);return i.map(t=>e.slice(n,...t))}getGroups(){const t=e.get(this.component,"rowGroups",[]),n=e.map(t,"numberOfRows").slice(0,-1),i=n.reduce((e,t)=>{const n=e[e.length-1];return e.concat(n+t)},[0]);return t.reduce((e,t,n)=>({...e,[i[n]]:t}),{})}getGroupSizes(){return e.map(e.get(this.component,"rowGroups",[]),"numberOfRows")}hasRowGroups(){return e.get(this,"component.enableRowGroups",!1)&&!this.builderMode}totalRowsNumber(t){return e.sum(e.map(t,"numberOfRows"))}setStaticValue(t){this.dataValue=e.range(t).map(()=>({}))}hasExtraColumn(){return this.hasRemoveButtons()||this.canAddColumn}hasRemoveButtons(){return!this.component.disableAddingRemovingRows&&!this.options.readOnly&&!this.disabled&&this.fullMode&&this.dataValue.length>e.get(this.component,"validate.minLength",0)}hasTopSubmit(){return this.hasAddButton()&&["top","both"].includes(this.addAnotherPosition)}hasBottomSubmit(){return this.hasAddButton()&&["bottom","both"].includes(this.addAnotherPosition)}get canAddColumn(){return this.builderMode}render(){const t=this.getColumns();return super.render(this.renderTemplate("datagrid",{rows:this.getRows(),columns:t,groups:this.hasRowGroups()?this.getGroups():[],visibleColumns:this.visibleColumns,hasToggle:e.get(this,"component.groupToggle",!1),hasHeader:this.hasHeader(),hasExtraColumn:this.hasExtraColumn(),hasAddButton:this.hasAddButton(),hasRemoveButtons:this.hasRemoveButtons(),hasTopSubmit:this.hasTopSubmit(),hasBottomSubmit:this.hasBottomSubmit(),hasGroups:this.hasRowGroups(),numColumns:t.length+(this.hasExtraColumn()?1:0),datagridKey:this.datagridKey,allowReorder:this.allowReorder,builder:this.builderMode,canAddColumn:this.canAddColumn,placeholder:this.renderTemplate("builderPlaceholder",{position:this.componentComponents.length})}))}getRows(){return this.rows.map(t=>{const n={};return e.each(t,(e,t)=>{n[t]=e.render()}),n})}getColumns(){return this.component.components.filter(e=>!this.visibleColumns.hasOwnProperty(e.key)||this.visibleColumns[e.key])}hasHeader(){return this.component.components.reduce((e,t)=>e||(t.label||t.title)&&!t.hideLabel,!1)}attach(e){this.loadRefs(e,{[`${this.datagridKey}-row`]:"multiple",[`${this.datagridKey}-tbody`]:"single",[`${this.datagridKey}-addRow`]:"multiple",[`${this.datagridKey}-removeRow`]:"multiple",[`${this.datagridKey}-group-header`]:"multiple",[this.datagridKey]:"multiple"}),this.allowReorder&&(this.refs[`${this.datagridKey}-row`].forEach((e,t)=>{e.dragInfo={index:t}}),this.dragula=t([this.refs[`${this.datagridKey}-tbody`]],{moves:(e,t,n)=>n.classList.contains("formio-drag-button")}).on("drop",this.onReorder.bind(this))),this.refs[`${this.datagridKey}-addRow`].forEach(e=>{this.addEventListener(e,"click",this.addRow.bind(this))}),this.refs[`${this.datagridKey}-removeRow`].forEach((e,t)=>{this.addEventListener(e,"click",this.removeRow.bind(this,t))}),this.hasRowGroups()&&(this.refs.chunks=this.getRowChunks(this.getGroupSizes(),this.refs[`${this.datagridKey}-row`]),this.refs[`${this.datagridKey}-group-header`].forEach((e,t)=>{this.addEventListener(e,"click",()=>this.toggleGroup(e,t))}));const n=this.getColumns(),i=n.length;return this.rows.forEach((e,t)=>{let r=0;n.forEach(e=>{this.attachComponents(this.refs[this.datagridKey][t*i+r],[this.rows[t][e.key]],this.component.components),r++})}),super.attach(e)}onReorder(e,t,n,r){if(!e.dragInfo||r&&!r.dragInfo)return void console.warn("There is no Drag Info available for either dragged or sibling element");const s=e.dragInfo.index,o=r?r.dragInfo.index:this.dataValue.length,a=o>s,l=i.fastCloneDeep(this.dataValue),u=l[s];l.splice(o,0,u),l.splice(a?s:s+1,1),this.setValue(l),this.redraw()}addRow(){const e=this.rows.length;this.dataValue.length===e&&this.dataValue.push({}),this.rows[e]=this.createRowComponents(this.dataValue[e],e),this.checkConditions(),this.redraw()}removeRow(t){this.splice(t);const[n]=this.rows.splice(t,1);e.each(n,e=>this.removeComponent(e)),this.redraw()}getRowValues(){return this.dataValue}createRows(t){let n=!1;const i=this.getRowValues();return i.forEach((t,i)=>{this.rows[i]?e.each(this.rows[i],e=>e.data=t):(this.rows[i]=this.createRowComponents(t,i),n=!0)}),this.rows.splice(i.length),!t&&n&&this.redraw(),n}createRowComponents(t,n){const i={};return this.component.components.map((r,s)=>{const o=e.clone(this.options);o.name+=`[${n}]`,o.row=`${n}-${s}`;const a=this.createComponent(r,o,t);a.parentDisabled=!!this.disabled,a.path&&r.key&&(a.path=a.path.replace(new RegExp(`\\.${r.key}$`),`[${n}].${r.key}`)),a.rowIndex=n,a.inDataGrid=!0,i[r.key]=a}),i}checkValidity(e,t,n){return e=e||this.rootValue,n=n||this.data,this.checkCondition(n,e)?!!this.checkComponentValidity(e,t,n)&&this.checkRows("checkValidity",e,t,!0):(this.setCustomValidity(""),!0)}checkColumns(t,n={}){t=t||this.rootValue;let i=!1;if(!this.rows||!this.rows.length)return{rebuild:!1,show:!1};if(this.builderMode)return{rebuild:!1,show:!0};const r={},s=this.dataValue;this.rows.forEach((i,o)=>{e.each(i,(e,i)=>{e&&"function"==typeof e.checkConditions&&(r[i]=!!r[i]||e.checkConditions(t,n,s[o])&&"hidden"!==e.type)})});const o=!e.isEqual(r,this.visibleColumns);return e.each(r,e=>{i|=e}),this.visibleColumns=r,{rebuild:o,show:i}}checkComponentConditions(e,t,n){if(!super.checkComponentConditions(e,t,n))return!1;const{rebuild:i,show:r}=this.checkColumns(e,t);return i&&this.redraw(),r}setValue(t,n={}){if(!t)return this.dataValue=this.defaultValue,this.createRows(),!1;Array.isArray(t)||("object"==typeof t?t=[t]:(this.createRows(),t=[{}])),t&&!t.length&&t.push({});const i=this.hasChanged(t,this.dataValue);return this.dataValue=t,this.createRows(),this.rows.forEach((i,r)=>{t.length<=r||e.each(i,e=>{e.rowIndex=r,this.setNestedValue(e,t[r],n)})}),this.updateOnChange(n,i),i}restoreComponentsContext(){this.rows.forEach((t,n)=>e.forIn(t,e=>e.data=this.dataValue[n]))}getComponent(t,n){t=Array.isArray(t)?t:[t];const[i,...r]=t;let s=[];return e.isString(i)?(this.everyComponent((e,t)=>{if(e.component.key===i){let i=e;r.length>0&&"getComponent"in e?i=e.getComponent(r,n):n&&n(e,t),s=s.concat(i)}}),s.length>0?s:null):s}toggleGroup(t,n){t.classList.toggle("collapsed"),e.each(this.refs.chunks[n],e=>{e.classList.toggle("hidden")})}}}),e("skylark-formio/components/datamap/DataMap",["../_classes/component/Component","../datagrid/DataGrid","skylark-lodash","../../vendors/eventemitter2/EventEmitter2","../../utils/utils"],function(e,t,n,i,r){"use strict";return class s extends t{static schema(...t){return e.schema({label:"Data Map",key:"dataMap",type:"datamap",clearOnHide:!0,addAnother:"Add Another",disableAddingRemovingRows:!1,keyBeforeValue:!0,valueComponent:{type:"textfield",key:"value",label:"Value",input:!0},input:!0,validate:{maxLength:0,minLength:0}},...t)}static get builderInfo(){return{title:"Data Map",icon:"th-list",group:"data",documentation:"http://help.form.io/userguide/#datamap",weight:20,schema:s.schema()}}get schema(){const e=super.schema;return this.components&&this.components.length>0&&(e.valueComponent=this.components[this.components.length-1].schema),n.omit(e,"components")}constructor(e,t,n){super(e,t,n),this.type="datamap"}init(){this.components=[],this.rows=[],this.createRows(),this.visibleColumns={key:!0,[this.valueKey]:!0},this.component.valueComponent.hideLabel=!0}get defaultSchema(){return s.schema()}get emptyValue(){return{}}get dataValue(){return!this.key||!this.visible&&this.component.clearOnHide?this.emptyValue:(this.hasValue()||(this.dataValue=this.emptyValue),n.get(this.data,this.key))}set dataValue(e){super.dataValue=e}get defaultValue(){const e=super.defaultValue;return Array.isArray(e)?e[0]:this.emptyValue}get keySchema(){return{type:"textfield",input:!0,hideLabel:!0,label:this.component.keyLabel||"Key",key:"__key"}}get valueKey(){return this.component.valueComponent.key}getRowValues(){const e=this.dataValue;return this.builderMode?[e]:n.isEmpty(e)?[]:Object.keys(e).map(()=>e)}hasHeader(){return!0}hasRemoveButtons(){return!this.component.disableAddingRemovingRows&&!this.options.readOnly&&!this.disabled&&this.fullMode}getColumns(){const e=Object.assign({},this.keySchema),t=Object.assign({},this.component.valueComponent);return e.hideLabel=!1,t.hideLabel=!1,this.component.keyBeforeValue?[e,t]:[t,e]}getRowKey(e){const t=Object.keys(this.dataValue);return t[e]||(t[e]=r.uniqueKey(this.dataValue,"key")),t[e]}createRowComponents(e,t){let s=this.getRowKey(t);const o=n.clone(this.options);o.events=new i({wildcard:!1,maxListeners:0}),o.name+=`[${t}]`,o.row=`${t}`;const a={};a.__key=this.createComponent(this.keySchema,o,{__key:s}),a.__key.on("componentChange",e=>{const t=this.dataValue,n=r.uniqueKey(t,e.value);t[n]=t[s],delete t[s],a[this.valueKey].component.key=n,s=n});const l=n.clone(this.component.valueComponent);return l.key=s,a[this.valueKey]=this.createComponent(l,this.options,this.dataValue),a}get canAddColumn(){return!1}addChildComponent(e){this.component.valueComponent=e}saveChildComponent(e){this.component.valueComponent=e}removeChildComponent(){const e=s.schema();this.component.valueComponent=e.valueComponent}addRow(){const e=this.rows.length;this.rows[e]=this.createRowComponents(this.dataValue,e),this.redraw(),this.triggerChange()}removeRow(e){const t=Object.keys(this.dataValue);t[e]&&delete this.dataValue[t[e]],this.rows.splice(e,1),this.redraw(),this.triggerChange()}setValue(e,t={}){const n=this.hasChanged(e,this.dataValue);return this.dataValue=e,this.createRows(),this.updateOnChange(t,n),n}checkColumns(){return{rebuild:!1,show:!0}}}}),e("skylark-formio/utils/index",["./utils"],function(e){"use strict";return"object"==typeof global&&(global.FormioUtils=e),e}),e("skylark-formio/components/datetime/DateTime",["skylark-lodash","skylark-moment","../_classes/input/Input","../../utils/index","../../widgets/index"],function(e,t,n,i,r){"use strict";return class s extends n{static schema(...e){return n.schema({type:"datetime",label:"Date / Time",key:"dateTime",format:"yyyy-MM-dd hh:mm a",useLocaleSettings:!1,allowInput:!0,enableDate:!0,enableTime:!0,defaultValue:"",defaultDate:"",displayInTimezone:"viewer",timezone:"",datepickerMode:"day",datePicker:{showWeeks:!0,startingDay:0,initDate:"",minMode:"day",maxMode:"year",yearRows:4,yearColumns:5,minDate:null,maxDate:null},timePicker:{hourStep:1,minuteStep:1,showMeridian:!0,readonlyInput:!1,mousewheel:!0,arrowkeys:!0},customOptions:{}},...e)}static get builderInfo(){return{title:"Date / Time",group:"advanced",icon:"calendar",documentation:"http://help.form.io/userguide/#datetime",weight:40,schema:s.schema()}}constructor(t,n,i){super(t,n,i);const r=this.component.timezone||this.options.timezone,s=!e.get(this.component,"timePicker.showMeridian",!0);this.component.enableDate||(this.component.format=this.component.format.replace(/yyyy-MM-dd /g,"")),this.component.enableTime?this.component.format=s?this.component.format.replace(/hh:mm a$/g,"HH:mm"):this.component.format.replace(/HH:mm$/g,"hh:mm a"):this.component.format=this.component.format.replace(/ hh:mm a$/g,"");let o=this.component.customOptions||{};if("string"==typeof o)try{o=JSON.parse(o)}catch(e){console.warn(e.message),o={}}this.component.widget={type:"calendar",timezone:r,displayInTimezone:e.get(this.component,"displayInTimezone","viewer"),submissionTimezone:this.submissionTimezone,language:this.options.language,useLocaleSettings:e.get(this.component,"useLocaleSettings",!1),allowInput:e.get(this.component,"allowInput",!0),mode:this.component.multiple?"multiple":"single",enableTime:e.get(this.component,"enableTime",!0),noCalendar:!e.get(this.component,"enableDate",!0),format:this.component.format,hourIncrement:e.get(this.component,"timePicker.hourStep",1),minuteIncrement:e.get(this.component,"timePicker.minuteStep",5),time_24hr:s,readOnly:this.options.readOnly,minDate:e.get(this.component,"datePicker.minDate"),disabledDates:e.get(this.component,"datePicker.disable"),disableWeekends:e.get(this.component,"datePicker.disableWeekends"),disableWeekdays:e.get(this.component,"datePicker.disableWeekdays"),disableFunction:e.get(this.component,"datePicker.disableFunction"),maxDate:e.get(this.component,"datePicker.maxDate"),...o},this.validators.push("date")}performInputMapping(e){return e.widget&&e.widget.settings&&(e.widget.settings.submissionTimezone=this.submissionTimezone),e}get widget(){const e=this.component.widget?new r[this.component.widget.type](this.component.widget,this.component):null;return e}get defaultSchema(){return s.schema()}get defaultValue(){let e=super.defaultValue;return!e&&this.component.defaultDate&&(e=(e=i.getDateSetting(this.component.defaultDate))?e.toISOString():""),e}get emptyValue(){return""}isEmpty(e=this.dataValue){return!(!e||"Invalid Date"!==e.toString())||super.isEmpty(e)}formatValue(e){const n=t.utc(e).toISOString();return"Invalid date"===n?e:n}isEqual(e,n=this.dataValue){const r=i.convertFormatToMoment(this.component.format);return this.isEmpty(e)&&this.isEmpty(n)||t.utc(e).format(r)===t.utc(n).format(r)}createWrapper(){return!1}checkValidity(e,t,n){return this.refs.input&&this.refs.input.forEach(e=>{e.widget&&e.widget.enteredDate&&(t=!0)}),super.checkValidity(e,t,n)}focus(){if(this.refs.input&&this.refs.input[0]){const e=this.refs.input[0].nextSibling;e&&e.focus()}}}}),e("skylark-formio/components/day/Day",["skylark-lodash","../_classes/field/Field","../../utils/utils"],function(e,t,n){"use strict";return class i extends t{static schema(...e){return t.schema({type:"day",label:"Day",key:"day",fields:{day:{type:"number",placeholder:"",required:!1},month:{type:"select",placeholder:"",required:!1},year:{type:"number",placeholder:"",required:!1}},dayFirst:!1},...e)}static get builderInfo(){return{title:"Day",group:"advanced",icon:"calendar",documentation:"http://help.form.io/userguide/#day",weight:50,schema:i.schema()}}get emptyValue(){return"00/00/0000"}get valueMask(){return/^\d{2}\/\d{2}\/\d{4}$/}get dayRequired(){return this.showDay&&e.get(this.component,"fields.day.required",!1)}get showDay(){return!e.get(this.component,"fields.day.hide",!1)}get monthRequired(){return this.showMonth&&e.get(this.component,"fields.month.required",!1)}get showMonth(){return!e.get(this.component,"fields.month.hide",!1)}get yearRequired(){return this.showYear&&e.get(this.component,"fields.year.required",!1)}get showYear(){return!e.get(this.component,"fields.year.hide",!1)}get defaultSchema(){return i.schema()}get inputInfo(){const e=super.elementInfo();return e.type="input",e.attr.type="hidden",e.changeEvent="input",e}inputDefinition(t){let n,i;return"day"===t&&(n=1,i=31),"month"===t&&(n=1,i=12),"year"===t&&(n=e.get(this.component,"fields.year.minYear",1900)||1900,i=e.get(this.component,"fields.year.maxYear",2030)||1900),{type:"input",ref:t,attr:{id:`${this.component.key}-${t}`,class:`form-control ${this.transform("class",`formio-day-component-${t}`)}`,type:"select"===this.component.fields[t].type?"select":"number",placeholder:this.component.fields[t].placeholder,step:1,min:n,max:i}}}selectDefinition(e){return{multiple:!1,ref:e,widget:"html5",attr:{id:`${this.component.key}-${e}`,class:"form-control",name:e,lang:this.options.language}}}get days(){if(this._days)return this._days;this._days=[{value:"",label:e.get(this.component,"fields.day.placeholder","")}];for(let e=1;e<=31;e++)this._days.push({value:e,label:e.toString()});return this._days}get months(){return this._months?this._months:(this._months=[{value:"",label:e.get(this.component,"fields.month.placeholder")||(this.hideInputLabels?this.t("Month"):"")},{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],this._months)}get years(){if(this._years)return this._years;this._years=[{value:"",label:e.get(this.component,"fields.year.placeholder","")}];const t=e.get(this.component,"fields.year.minYear",1900)||1900,n=e.get(this.component,"fields.year.maxYear",2030)||2030;for(let e=t;e<=n;e++)this._years.push({value:e,label:e.toString()});return this._years}setErrorClasses(e,t,n){super.setErrorClasses(e,t,n),super.setErrorClasses([this.refs.day,this.refs.month,this.refs.year],t,n)}removeInputError(e){super.removeInputError([this.refs.day,this.refs.month,this.refs.year]),super.removeInputError(e)}init(){super.init(),this.validators=this.validators.concat(["day","maxDate","minDate","minYear","maxYear"]);const e=this.component.fields.year.minYear,t=this.component.fields.year.maxYear;this.component.maxYear=t,this.component.minYear=e;const i=n.getLocaleDateFormatInfo(this.options.language);this.dayFirst=this.component.useLocaleSettings?i.dayFirst:this.component.dayFirst}render(){return super.render(this.renderTemplate("day",{dayFirst:this.dayFirst,showDay:this.showDay,showMonth:this.showMonth,showYear:this.showYear,day:this.renderField("day"),month:this.renderField("month"),year:this.renderField("year")}))}renderField(e){return"select"===this.component.fields[e].type?this.renderTemplate("select",{input:this.selectDefinition(e),selectOptions:this[`${e}s`].reduce((e,t)=>e+this.renderTemplate("selectOption",{option:t,selected:!1,attrs:{}}),"")}):this.renderTemplate("input",{input:this.inputDefinition(e)})}attach(e){this.loadRefs(e,{day:"single",month:"single",year:"single",input:"multiple"});const t=super.attach(e);return this.shouldDisabled?(this.setDisabled(this.refs.day,!0),this.setDisabled(this.refs.month,!0),this.setDisabled(this.refs.year,!0),this.refs.input&&this.refs.input.forEach(e=>this.setDisabled(e,!0))):(this.addEventListener(this.refs.day,"input",()=>this.updateValue(null,{modified:!0})),this.addEventListener(this.refs.month,"input",()=>{const e=this.refs.year?parseInt(new Date(this.refs.year.value,this.refs.month.value,0).getDate(),10):"",t=this.getFieldValue("day");!this.component.fields.day.hide&&e&&(this.refs.day.max=e),e&&t>e&&(this.refs.day.value=this.refs.day.max),this.updateValue(null,{modified:!0})}),this.addEventListener(this.refs.year,"input",()=>this.updateValue(null,{modified:!0})),this.addEventListener(this.refs.input,this.info.changeEvent,()=>this.updateValue(null,{modified:!0}))),this.setValue(this.dataValue),t}validateRequired(e,t){const{day:i,month:r,year:s}=this.parts;return!(this.dayRequired&&!i)&&(!(this.monthRequired&&!r)&&(!(this.yearRequired&&!s)&&(!n.boolValue(e)||!this.isEmpty(t))))}set disabled(e){super.disabled=e,this.refs.year&&this.refs.month&&this.refs.day&&(e?(this.refs.year.setAttribute("disabled","disabled"),this.refs.month.setAttribute("disabled","disabled"),this.refs.day.setAttribute("disabled","disabled")):(this.refs.year.removeAttribute("disabled"),this.refs.month.removeAttribute("disabled"),this.refs.day.removeAttribute("disabled")))}normalizeValue(e){if(!e||this.valueMask.test(e))return e;const t=[],n=e.split("/"),i=(e,i)=>t.push(e?n.shift():i);return this.dayFirst&&i(this.showDay,"00"),i(this.showMonth,"00"),this.dayFirst||i(this.showDay,"00"),i(this.showYear,"0000"),t.join("/")}setValueAt(e,t){if(!t||"Invalid date"===t)return null;const n=t.split("/");let i;this.component.dayFirst&&(i=n.shift());const r=n.shift();this.component.dayFirst||(i=n.shift());const s=n.shift();this.refs.day&&this.showDay&&(this.refs.day.value="00"===i?"":parseInt(i,10)),this.refs.month&&this.showMonth&&(this.refs.month.value="00"===r?"":parseInt(r,10)),this.refs.year&&this.showYear&&(this.refs.year.value="0000"===s?"":parseInt(s,10))}getFieldValue(t){const n=this.dataValue?this.dataValue.split("/"):[];let i=0;switch(t){case"month":i=n[this.dayFirst?1:0];break;case"day":i=n[this.dayFirst?0:1];break;case"year":i=n[2]}return i=parseInt(i,10),!e.isNaN(i)&&e.isNumber(i)?i:0}get parts(){return{day:this.getFieldValue("day"),month:this.getFieldValue("month"),year:this.getFieldValue("year")}}get format(){let e="";return this.component.dayFirst&&this.showDay&&(e+="D/"),this.showMonth&&(e+="M/"),!this.component.dayFirst&&this.showDay&&(e+="D/"),this.showYear?e+="YYYY":e.length?e.substring(0,e.length-1):e}getDate(t){let n,i,r,s=[];const[o,a,l]=this.component.dayFirst?[0,1,2]:[1,0,2],u=t||this.component.defaultValue;let c;return u&&(s=u.split("/").map(e=>parseInt(e,10))),this.showDay&&this.refs.day&&(n=parseInt(this.refs.day.value,10)),(void 0===n||e.isNaN(n))&&(n=s[o]&&!e.isNaN(s[o])?s[o]:0),this.showMonth&&this.refs.month&&(i=parseInt(this.refs.month.value,10)),(void 0===i||e.isNaN(i))&&(i=s[a]&&!e.isNaN(s[a])?s[a]:0),this.showYear&&this.refs.year&&(r=parseInt(this.refs.year.value)),(void 0===r||e.isNaN(r))&&(r=s[l]&&!e.isNaN(s[l])?s[l]:0),n||i||r?(n=this.showDay?n.toString().padStart(2,0):"",i=this.showMonth?i.toString().padStart(2,0):"",r=this.showYear?r.toString().padStart(4,0):"",c=this.component.dayFirst?`${n}${this.showDay&&this.showMonth||this.showDay&&this.showYear?"/":""}${i}${this.showMonth&&this.showYear?"/":""}${r}`:`${i}${this.showDay&&this.showMonth||this.showMonth&&this.showYear?"/":""}${n}${this.showDay&&this.showYear?"/":""}${r}`):null}get date(){return this.getDate()}normalizeMinMaxDates(){return[this.component.minDate,this.component.maxDate].map(e=>e?e.split("-").reverse().join("/"):e)}get validationValue(){return[this.component.minDate,this.component.maxDate]=this.dayFirst?this.normalizeMinMaxDates():[this.component.minDate,this.component.maxDate],this.dataValue}getValue(){const e=super.getValue();return e||this.dataValue}getValueAt(e){const t=this.date;return t?(this.refs.input[e].value=t,this.refs.input[e].value):(this.refs.input[e].value="",null)}getValueAsString(e){return this.getDate(e)||""}focus(){this.dayFirst&&this.showDay||!this.dayFirst&&!this.showMonth&&this.showDay?this.refs.day.focus():this.dayFirst&&!this.showDay&&this.showMonth||!this.dayFirst&&this.showMonth?this.refs.month.focus():this.showDay||this.showDay||!this.showYear||this.refs.year.focus()}isPartialDay(e){if(!e)return!1;const[t,n,i]=this.component.dayFirst?[0,1,2]:[1,0,2],r=e.split("/");return"00"===r[t]||"00"===r[n]||"0000"===r[i]}}}),e("skylark-formio/components/editgrid/templates/row.ejs",[],function(){return'<div class="row">\n  {% ctx.util.eachComponent(ctx.components, function(component) { %}\n    {% if (!component.hasOwnProperty(\'tableView\') || component.tableView) { %}\n      <div class="col-sm-2">\n        {{ ctx.getView(component, ctx.row[component.key]) }}\n      </div>\n    {% } %}\n  {% }) %}\n  {% if (!ctx.self.options.readOnly) { %}\n    <div class="col-sm-2">\n      <div class="btn-group pull-right">\n        <button class="btn btn-default btn-light btn-sm editRow"><i class="{{ ctx.iconClass(\'edit\') }}"></i></button>\n        <button class="btn btn-danger btn-sm removeRow"><i class="{{ ctx.iconClass(\'trash\') }}"></i></button>\n      </div>\n    </div>\n  {% } %}\n</div>'}),e("skylark-formio/components/editgrid/templates/header.ejs",[],function(){return'<div class="row">\n  {% ctx.util.eachComponent(ctx.components, function(component) { %}\n    {% if (!component.hasOwnProperty(\'tableView\') || component.tableView) { %}\n      <div class="col-sm-2">{{ component.label }}</div>\n    {% } %}\n  {% }) %}\n</div>'}),e("skylark-formio/components/editgrid/templates/index",["./row.ejs","./header.ejs"],function(e,t){"use strict";return{row:e,header:t}}),e("skylark-formio/components/editgrid/EditGrid",["skylark-lodash","../_classes/nestedarray/NestedArrayComponent","../_classes/component/Component","../../utils/utils","./templates/index"],function(e,t,n,i,r){"use strict";var s=e.isEqual;const o={New:"new",Editing:"editing",Saved:"saved",Removed:"removed"};return class n extends t{static schema(...e){return t.schema({type:"editgrid",label:"Edit Grid",key:"editGrid",clearOnHide:!0,input:!0,tree:!0,removeRow:"Cancel",defaultOpen:!1,openWhenEmpty:!1,components:[],inlineEdit:!1,templates:{header:n.defaultHeaderTemplate,row:n.defaultRowTemplate,footer:""}},...e)}static get builderInfo(){return{title:"Edit Grid",icon:"tasks",group:"data",documentation:"http://help.form.io/userguide/#editgrid",weight:30,schema:n.schema()}}static get defaultHeaderTemplate(){return'<div class="row">\n  {% util.eachComponent(components, function(component) { %}\n    <div class="col-sm-2">{{ component.label }}</div>\n  {% }) %}\n</div>'}static get defaultRowTemplate(){return'<div class="row">\n  {% util.eachComponent(components, function(component) { %}\n    <div class="col-sm-2">\n      {{ getView(component, row[component.key]) }}\n    </div>\n  {% }) %}\n  {% if (!instance.options.readOnly && !instance.originalComponent.disabled) { %}\n    <div class="col-sm-2">\n      <div class="btn-group pull-right">\n        <button class="btn btn-default btn-light btn-sm editRow"><i class="{{ iconClass(\'edit\') }}"></i></button>\n        {% if (!instance.hasRemoveButtons || instance.hasRemoveButtons()) { %}\n          <button class="btn btn-danger btn-sm removeRow"><i class="{{ iconClass(\'trash\') }}"></i></button>\n        {% } %}\n      </div>\n    </div>\n  {% } %}\n</div>'}get defaultSchema(){return n.schema()}get emptyValue(){return[]}get editgridKey(){return`editgrid-${this.key}`}get rowRef(){return`${this.editgridKey}-row`}get rowElements(){return this.refs[this.rowRef]}get addRowRef(){return`${this.editgridKey}-addRow`}get addRowElements(){return this.refs[this.addRowRef]}get saveRowRef(){return`${this.editgridKey}-saveRow`}get saveRowElements(){return this.refs[this.saveRowRef]}get cancelRowRef(){return`${this.editgridKey}-cancelRow`}get cancelRowElements(){return this.refs[this.cancelRowRef]}get inlineEditMode(){return this.component.inlineEdit}get saveEditMode(){return!this.inlineEditMode}get minLength(){return e.get(this.component,"validate.minLength",0)}get data(){return this._data}set data(e){this._data=e;const t=this.dataValue;(this.editRows||[]).forEach((e,n)=>{const i=t[n];e.data=i,e.components.forEach(e=>{e.data=i})})}get iteratableRows(){return this.editRows}constructor(...e){super(...e),this.type="editgrid"}hasRemoveButtons(){return!this.component.disableAddingRemovingRows&&!this.options.readOnly&&!this.disabled&&this.fullMode&&this.dataValue.length>e.get(this.component,"validate.minLength",0)}init(){if(this.builderMode)return this.editRows=[],super.init();this.components=this.components||[];const e=this.dataValue||[],t=!e.length&&this.component.openWhenEmpty;if(t){const e={};this.editRows=[{components:this.createRowComponents(e,0),data:e,state:o.New,backup:null,error:null}],this.inlineEditMode&&this.dataValue.push(e)}else this.editRows=e.map((e,t)=>({components:this.createRowComponents(e,t),data:e,state:o.Saved,backup:null,error:null}));this.checkData()}isOpen(e){return[o.New,o.Editing].includes(e.state)}render(t){if(this.builderMode)return super.render();const n=this.dataValue||[],s=i.Evaluator.noeval?r.header:e.get(this.component,"templates.header");return super.render(t||this.renderTemplate("editgrid",{ref:{row:this.rowRef,addRow:this.addRowRef,saveRow:this.saveRowRef,cancelRow:this.cancelRowRef},header:this.renderString(s,{components:this.component.components,value:n}),footer:this.renderString(e.get(this.component,"templates.footer"),{components:this.component.components,value:n}),rows:this.editRows.map(this.renderRow.bind(this)),openRows:this.editRows.map(e=>this.isOpen(e)),errors:this.editRows.map(e=>e.error),hasAddButton:this.hasAddButton(),hasRemoveButtons:this.hasRemoveButtons()}))}attach(e){if(this.builderMode)return super.attach(e);this.loadRefs(e,{[this.addRowRef]:"multiple",[this.saveRowRef]:"multiple",[this.cancelRowRef]:"multiple",[this.rowRef]:"multiple"}),this.addRowElements.forEach(e=>{this.addEventListener(e,"click",()=>this.addRow())});let t=0;return this.rowElements.forEach((e,n)=>{const i=this.editRows[n];this.isOpen(i)?(this.attachComponents(e,i.components),this.addEventListener(this.saveRowElements[t],"click",()=>this.saveRow(n)),this.addEventListener(this.cancelRowElements[t],"click",()=>this.cancelRow(n)),t++):[{className:"removeRow",event:"click",action:()=>this.removeRow(n)},{className:"editRow",event:"click",action:()=>this.editRow(n)}].forEach(({className:t,event:n,action:i})=>{const r=e.getElementsByClassName(t);Array.prototype.forEach.call(r,e=>{this.addEventListener(e,n,i)})})}),t?this.addClass(this.refs.component,`formio-component-${this.component.type}-row-open`):this.removeClass(this.refs.component,`formio-component-${this.component.type}-row-open`),super.attach(e)}clearOnHide(e){if(super.clearOnHide(e),this.component.clearOnHide&&!this.visible){if(!this.editRows)return;this.removeAllRows()}}renderRow(t,s){const o=this.dataValue||[];if(this.isOpen(t))return this.renderComponents(t.components);{const t=this.flattenComponents(s),a=i.Evaluator.noeval?r.row:e.get(this.component,"templates.row",n.defaultRowTemplate);return this.renderString(a,{row:o[s]||{},data:this.data,rowIndex:s,components:this.component.components,flattenedComponents:t,getView:(n,i)=>{const r=t[n.key];let s=r?r.getView(i):"";return r&&r.widget&&"--- PROTECTED ---"!==s&&(s=e.isArray(s)?s.map(e=>r.widget.getValueAsString(e)):r.widget.getValueAsString(s)),s}})}}everyComponent(t,n){const i=this.getComponents(n);e.each(i,(e,n)=>!1!==t(e,i,n)&&(("function"!=typeof e.everyComponent||!1!==e.everyComponent(t))&&void 0))}flattenComponents(e){const t={};return this.everyComponent(e=>{t[e.component.flattenAs||e.key]=e},e),t}getComponents(t){return this.editRows=this.editRows||[],this.builderMode?super.getComponents():e.isNumber(t)?this.editRows[t].components||[]:this.editRows.reduce((e,t)=>e.concat(t.components||[]),[])}destroyComponents(e){if(this.builderMode)return super.destroyComponents();const t=this.getComponents(e).slice();t.forEach(e=>e.destroy())}addRow(){if(this.options.readOnly)return;const e={},t=this.editRows.length,n={components:this.createRowComponents(e,t),data:e,state:o.New,backup:null,error:null};return this.editRows.push(n),this.inlineEditMode&&(this.dataValue.push(e),this.triggerChange()),this.emit("editGridAddRow",{component:this.component,row:n}),this.checkRow("checkData",null,{},n.data,n.components),this.component.modal?this.addRowModal(t):this.redraw(),n}addRowModal(e){const t=this.ce("div"),n=this.editRows[e],{components:i}=n;t.innerHTML=this.renderComponents(i);const r=this.component.modal?this.createModal(t):void 0;r.refs.dialogContents.appendChild(this.ce("button",{class:"btn btn-primary",onClick:()=>{this.validateRow(n,!0)&&(r.close(),this.saveRow(e))}},this.component.saveRow||"Save")),this.attachComponents(t,i)}editRow(e){const t=this.editRows[e];t.state=o.Editing;const n=i.fastCloneDeep(t.data);this.inlineEditMode?t.backup=n:(t.backup=t.data,t.data=n,this.restoreRowContext(t)),this.component.modal?this.addRowModal(e):this.redraw()}clearErrors(e){const t=this.editRows[e];t&&Array.isArray(t.components)&&t.components.forEach(e=>{e.setPristine(!0),e.setCustomValidity("")})}cancelRow(e){if(this.options.readOnly)return;const t=this.editRows[e];switch(t.state){case o.New:t.state=o.Removed,this.clearErrors(e),this.destroyComponents(e),this.inlineEditMode&&this.splice(e),this.editRows.splice(e,1);break;case o.Editing:t.state=o.Saved,this.inlineEditMode&&(this.dataValue[e]=t.backup),t.data=t.backup,t.backup=null,this.restoreRowContext(t),this.clearErrors(e)}this.checkValidity(null,!0),this.redraw()}saveRow(e){if(this.options.readOnly)return;const t=this.editRows[e];if(!this.validateRow(t,!0))return!1;if(this.saveEditMode){const n=this.dataValue||[];switch(t.state){case o.New:{const i=n.length;n.push(t.data),e!==i&&(this.editRows.splice(e,1),this.editRows.splice(i,0,t));break}case o.Editing:n[e]=t.data}}return t.state=o.Saved,t.backup=null,this.updateValue(),this.triggerChange(),this.checkValidity(null,!0),this.redraw(),!0}updateComponentsRowIndex(e,t){e.forEach((e,n)=>{e.rowIndex=t,e.row=`${t}-${n}`})}updateRowsComponents(e){this.editRows.slice(e).forEach((e,t)=>{this.updateComponentsRowIndex(e.components,t)})}removeRow(e){if(this.options.readOnly)return;const t=this.editRows[e];t.state=o.Removed,this.destroyComponents(e),this.splice(e),this.editRows.splice(e,1),this.updateRowsComponents(e),this.updateValue(),this.triggerChange(),this.checkValidity(null,!0),this.checkData(),this.redraw()}removeAllRows(){if(this.options.readOnly)return;const e=this.editRows||[],t=e.length-1;for(let e=t;e>=0;e--)this.removeRow(e)}createRowComponents(t,n){return this.component.components.map((i,r)=>{const s=e.clone(i),o=e.clone(this.options);o.name+=`[${n}]`,o.row=`${n}-${r}`,o.onChange=((e,t,i)=>{const r=this.editRows[n];this.inlineEditMode?this.triggerRootChange(e,t,i):r&&this.checkRow("checkData",null,{changed:t},r.data,r.components)});const a=this.createComponent(e.assign({},s,{row:o.row}),o,t);return a.rowIndex=n,a.path&&s.key&&(a.path=a.path.replace(new RegExp(`\\.${s.key}$`),`[${n}].${s.key}`)),a})}validateRow(e,t){let n=!0;return(e.state===o.Editing||t)&&e.components.forEach(i=>{i.setPristine(!t),n&=i.checkValidity(null,t,e.data)}),this.component.validate&&this.component.validate.row&&("true"!==(n=this.evaluate(this.component.validate.row,{valid:n,row:e.data},"valid",!0)).toString()?(e.error=n,n=!1):e.error=null,null===n&&(n=`Invalid row validation for ${this.key}`)),!!n}checkValidity(e,t,n){return e=e||this.rootValue,n=n||this.data,this.checkCondition(n,e)?this.checkComponentValidity(e,t,n):(this.setCustomValidity(""),!0)}checkComponentValidity(e,t,n){if(!super.checkComponentValidity(e,t,n))return!1;let i=!0,r=!1;if(this.editRows.forEach(e=>{const n=this.validateRow(e,t);i&=n,r|=t&&this.isOpen(e)}),!i)return this.setCustomValidity("Please correct rows before proceeding.",t),!1;if(r&&this.saveEditMode)return this.setCustomValidity("Please save all rows before proceeding.",t),!1;const s=this.invalid||this.invalidMessage(e,t);return this.setCustomValidity(s,t),!0}get defaultValue(){const t=super.defaultValue,n=Array.isArray(t)?t:[];return e.times(this.minLength-n.length,()=>n.push({})),n}setValue(e,t={}){if(s(this.defaultValue,e))return!1;if(!e)return this.dataValue=this.defaultValue,!1;if(!Array.isArray(e)){if("object"!=typeof e)return!1;e=[e]}const n=this.hasChanged(e,this.dataValue);return this.dataValue=e,this.dataValue.forEach((e,n)=>{let i=this.editRows[n];i?(i.data=e,this.restoreRowContext(i,t),i.state=o.Saved,i.backup=null,i.error=null):(i=this.editRows[n]={components:this.createRowComponents(e,n),data:e,state:o.Saved,backup:null,error:null},this.checkRow("checkData",null,{},i.data,i.components))}),this.updateOnChange(t,n),n&&this.redraw(),n}restoreRowContext(e,t={}){e.components.forEach(n=>{n.data=e.data,this.setNestedValue(n,e.data,t)})}}}),e("skylark-formio/components/textfield/TextField",["../_classes/input/Input","../../vendors/vanilla-text-mask/conformToMask","../../utils/utils"],function(e,t,n){"use strict";return class i extends e{static schema(...t){return e.schema({label:"Text Field",key:"textField",type:"textfield",mask:!1,inputType:"text",inputFormat:"plain",inputMask:"",tableView:!0,validate:{minLength:"",maxLength:"",pattern:""}},...t)}static get builderInfo(){return{title:"Text Field",icon:"terminal",group:"basic",documentation:"http://help.form.io/userguide/#textfield",weight:0,schema:i.schema()}}get defaultSchema(){return i.schema()}get inputInfo(){const e=super.inputInfo;return e.type="input",this.component.hasOwnProperty("spellcheck")&&(e.attr.spellcheck=this.component.spellcheck),this.component.mask?e.attr.type="password":e.attr.type="password"===this.component.inputType?"password":"text",e.changeEvent="input",e}get emptyValue(){return""}maskValue(e,t={}){if(e&&"object"==typeof e||(e={value:e,maskName:this.component.inputMasks[0].label}),!e.value){const n=t.noDefault?this.emptyValue:this.defaultValue;e.value=Array.isArray(n)?n[0]:n}return e}normalizeValue(e,t={}){return this.isMultipleMasksField?Array.isArray(e)?super.normalizeValue(e.map(e=>this.maskValue(e,t))):super.normalizeValue(this.maskValue(e,t)):super.normalizeValue(e)}setValueAt(e,i,r={}){if(!this.isMultipleMasksField)return super.setValueAt(e,i,r);const s=(i=this.maskValue(i,r)).value||"",o=this.refs.mask?this.refs.mask[e]:null,a=this.refs.select?this.refs.select[e]:null,l=this.getMaskPattern(i.maskName);if(!(o&&a&&l))return super.setValueAt(e,s,r);o.value=t(s,n.getInputMask(l)).conformedValue,a.value=i.maskName}getValueAt(e){if(!this.isMultipleMasksField)return super.getValueAt(e);const t=this.refs.mask?this.refs.mask[e]:null,n=this.refs.select?this.refs.select[e]:null;return{value:t?t.value:void 0,maskName:n?n.value:void 0}}isEmpty(e=this.dataValue){return this.isMultipleMasksField?super.isEmpty(e)||(this.component.multiple?0===e.length:!e.maskName||!e.value):super.isEmpty((e||"").toString().trim())}}}),e("skylark-formio/components/email/Email",["../textfield/TextField"],function(e){"use strict";return class t extends e{static schema(...t){return e.schema({type:"email",label:"Email",key:"email",inputType:"email",kickbox:{enabled:!1}},...t)}static get builderInfo(){return{title:"Email",group:"advanced",icon:"at",documentation:"http://help.form.io/userguide/#email",weight:10,schema:t.schema()}}init(){super.init(),this.validators.push("email")}get defaultSchema(){return t.schema()}get inputInfo(){const e=super.inputInfo;return e.attr.type=this.component.mask?"password":"email",e}}}),e("skylark-formio/components/fieldset/Fieldset",["../_classes/nested/NestedComponent"],function(e){"use strict";return class t extends e{static schema(...t){return e.schema({label:"Field Set",key:"fieldSet",type:"fieldset",legend:"",components:[],input:!1,persistent:!1},...t)}static get builderInfo(){return{title:"Field Set",icon:"th-large",group:"layout",documentation:"http://help.form.io/userguide/#fieldset",weight:20,schema:t.schema()}}get defaultSchema(){return t.schema()}get className(){return`form-group ${super.className}`}get templateName(){return"fieldset"}constructor(...e){super(...e),this.noField=!0}}}),e("skylark-formio/vendors/downloadjs/download",[],function(){return function e(t,n,i){var r,s,o=window,a="application/octet-stream",l=i||a,u=t,c=!n&&!i&&u,h=document.createElement("a"),d=function(e){return String(e)},p=o.Blob||o.MozBlob||o.WebKitBlob||d,f=n||"download";if(p=p.call?p.bind(o):Blob,"true"===String(this)&&(l=(u=[u,l])[0],u=u[1]),c&&c.length<2048&&(f=c.split("/").pop().split("?")[0],h.href=c,-1!==h.href.indexOf(c))){var m=new XMLHttpRequest;return m.open("GET",c,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,f,a)},setTimeout(function(){m.send()},0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u)){if(!(u.length>2096103.424&&p!==d))return navigator.msSaveBlob?navigator.msSaveBlob(b(u),f):k(u);u=b(u),l=u.type||a}else if(/([\x80-\xff])/.test(u)){for(var g=0,y=new Uint8Array(u.length),v=y.length;g<v;++g)y[g]=u.charCodeAt(g);u=new p([y],{type:l})}function b(e){for(var t=e.split(/[:;,]/),n=t[1],i="base64"==t[2]?atob:decodeURIComponent,r=i(t.pop()),s=r.length,o=0,a=new Uint8Array(s);o<s;++o)a[o]=r.charCodeAt(o);return new p([a],{type:n})}function k(e,t){if("download"in h)return h.href=e,h.setAttribute("download",f),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout(function(){h.click(),document.body.removeChild(h),!0===t&&setTimeout(function(){o.URL.revokeObjectURL(h.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,a)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,a)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}if(r=u instanceof p?u:new p([u],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(r,f);if(o.URL)k(o.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===d)try{return k("data:"+l+";base64,"+o.btoa(r))}catch(e){return k("data:"+l+","+encodeURIComponent(r))}(s=new FileReader).onload=function(e){k(this.result)},s.readAsDataURL(r)}return!0}}),e("skylark-formio/components/file/File",["../_classes/field/Field","../../utils/utils","../../vendors/downloadjs/download","skylark-lodash","../../Formio","../../vendors/getify/npo"],function(e,t,n,i,r,s){"use strict";let o=navigator.camera||void 0;return HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this;setTimeout(function(){for(var r=atob(i.toDataURL(t,n).split(",")[1]),s=r.length,o=new Uint8Array(s),a=0;a<s;a++)o[a]=r.charCodeAt(a);e(new Blob([o],{type:t||"image/png"}))})}}),class a extends e{static schema(...t){return e.schema({type:"file",label:"Upload",key:"file",image:!1,privateDownload:!1,imageSize:"200",filePattern:"*",fileMinSize:"0KB",fileMaxSize:"1GB",uploadOnly:!1},...t)}static get builderInfo(){return{title:"File",group:"premium",icon:"file",documentation:"http://help.form.io/userguide/#file",weight:100,schema:a.schema()}}init(){super.init(),o=navigator.camera||void 0;const e="undefined"!=typeof FileReader,t=Boolean(window.FormData),n=!!window.XMLHttpRequest&&"upload"in new XMLHttpRequest;this.support={filereader:e,formdata:t,hasWarning:!e||!t||!n,progress:n},this.filesReady=new s((e,t)=>{this.filesReadyResolve=e,this.filesReadyReject=t}),this.cameraMode=!1,this.statuses=[]}get dataReady(){return this.filesReady}get defaultSchema(){return a.schema()}loadImage(e){return this.fileService.downloadFile(e).then(e=>e.url)}get emptyValue(){return[]}getValueAsString(e){return i.isArray(e)?i.map(e,"originalName").join(", "):i.get(e,"originalName","")}getValue(){return this.dataValue}get defaultValue(){const e=super.defaultValue;return Array.isArray(e)?e:[]}get hasTypes(){return this.component.fileTypes&&Array.isArray(this.component.fileTypes)&&0!==this.component.fileTypes.length&&(""!==this.component.fileTypes[0].label||""!==this.component.fileTypes[0].value)}get fileService(){if(this.options.fileService)return this.options.fileService;if(this.options.formio)return this.options.formio;if(this.root&&this.root.formio)return this.root.formio;const e=new r;return this.root&&this.root._form&&this.root._form._id&&(e.formUrl=`${e.projectUrl}/form/${this.root._form._id}`),e}render(){return super.render(this.renderTemplate("file",{fileSize:this.fileSize,files:this.dataValue||[],statuses:this.statuses,disabled:this.disabled,support:this.support}))}getVideoStream(e){return navigator.mediaDevices.getUserMedia({video:{width:{min:640,ideal:1920},height:{min:360,ideal:1080},aspectRatio:{ideal:16/9},...e},audio:!1})}stopVideoStream(e){e.getVideoTracks().forEach(e=>e.stop())}getFrame(e){return new s(t=>{const n=document.createElement("canvas");n.height=e.videoHeight,n.width=e.videoWidth;const i=n.getContext("2d");i.drawImage(e,0,0),n.toBlob(t)})}startVideo(){this.getVideoStream().then(e=>{this.videoStream=e;const{videoPlayer:t}=this.refs;if(!t)return console.warn("Video player not found in template."),this.cameraMode=!1,void this.redraw();t.srcObject=e;const n=parseInt(this.component.webcamSize)||320;t.setAttribute("width",n),t.play()}).catch(e=>{console.error(e),this.cameraMode=!1,this.redraw()})}stopVideo(){this.videoStream&&(this.stopVideoStream(this.videoStream),this.videoStream=null)}takePicture(){const{videoPlayer:e}=this.refs;if(!e)return console.warn("Video player not found in template."),this.cameraMode=!1,void this.redraw();this.getFrame(e).then(e=>{e.name=`photo-${Date.now()}.png`,this.upload([e]),this.cameraMode=!1,this.redraw()})}browseFiles(e={}){return new s(t=>{const n=this.ce("input",{type:"file",style:"height: 0; width: 0; visibility: hidden;",tabindex:"-1",...e});document.body.appendChild(n),n.addEventListener("change",()=>{t(n.files),document.body.removeChild(n)},!0),"function"==typeof n.trigger?n.trigger("click"):n.click()})}set cameraMode(e){this._cameraMode=e,e?this.startVideo():this.stopVideo()}get cameraMode(){return this._cameraMode}get useWebViewCamera(){return this.imageUpload&&o}get imageUpload(){return Boolean(this.component.image)}get browseOptions(){const e={};return this.component.multiple&&(e.multiple=!0),this.imageUpload&&(e.accept="image/*"),e}deleteFile(e){if(e&&"url"===this.component.storage){const t=this.fileService;if(t&&"function"==typeof t.deleteFile)t.deleteFile(e);else{const t=this.options.formio||this.root&&this.root.formio;t&&t.makeRequest("",e.url,"delete")}}}attach(e){this.loadRefs(e,{fileDrop:"single",fileBrowse:"single",galleryButton:"single",cameraButton:"single",takePictureButton:"single",toggleCameraMode:"single",videoPlayer:"single",fileLink:"multiple",removeLink:"multiple",fileStatusRemove:"multiple",fileImage:"multiple",fileType:"multiple"}),this.refs.input=[];const t=super.attach(e);if(this.refs.fileDrop){const e=this;this.addEventListener(this.refs.fileDrop,"dragover",function(e){this.className="fileSelector fileDragOver",e.preventDefault()}),this.addEventListener(this.refs.fileDrop,"dragleave",function(e){this.className="fileSelector",e.preventDefault()}),this.addEventListener(this.refs.fileDrop,"drop",function(t){return this.className="fileSelector",t.preventDefault(),e.upload(t.dataTransfer.files),!1})}this.refs.fileBrowse&&this.addEventListener(this.refs.fileBrowse,"click",e=>{e.preventDefault(),this.browseFiles(this.browseOptions).then(e=>{this.upload(e)})}),this.refs.fileLink.forEach((e,t)=>{this.addEventListener(e,"click",e=>{e.preventDefault(),this.getFile(this.dataValue[t])})}),this.refs.removeLink.forEach((e,t)=>{this.addEventListener(e,"click",e=>{const n=this.dataValue[t];this.deleteFile(n),e.preventDefault(),this.splice(t),this.redraw()})}),this.refs.fileStatusRemove.forEach((e,t)=>{this.addEventListener(e,"click",e=>{e.preventDefault(),this.statuses.splice(t,1),this.redraw()})}),this.refs.galleryButton&&o&&this.addEventListener(this.refs.galleryButton,"click",e=>{e.preventDefault(),o.getPicture(e=>{window.resolveLocalFileSystemURL(e,e=>{e.file(e=>{this.upload([e])})})},e=>{console.error(e)},{sourceType:o.PictureSourceType.PHOTOLIBRARY})}),this.refs.cameraButton&&o&&this.addEventListener(this.refs.cameraButton,"click",e=>{e.preventDefault(),o.getPicture(e=>{window.resolveLocalFileSystemURL(e,e=>{e.file(e=>{this.upload([e])})})},e=>{console.error(e)},{sourceType:o.PictureSourceType.CAMERA,encodingType:o.EncodingType.PNG,mediaType:o.MediaType.PICTURE,saveToPhotoAlbum:!0,correctOrientation:!1})}),this.refs.takePictureButton&&this.addEventListener(this.refs.takePictureButton,"click",e=>{e.preventDefault(),this.takePicture()}),this.refs.toggleCameraMode&&this.addEventListener(this.refs.toggleCameraMode,"click",e=>{e.preventDefault(),this.cameraMode=!this.cameraMode,this.redraw()}),this.refs.fileType.forEach((e,t)=>{this.dataValue[t].fileType=this.component.fileTypes[0].label,this.addEventListener(e,"change",e=>{e.preventDefault();const n=this.component.fileTypes.find(t=>t.value===e.target.value);this.dataValue[t].fileType=n.label})});const n=this.fileService;if(n){const e=[];this.refs.fileImage.forEach((t,n)=>{e.push(this.loadImage(this.dataValue[n]).then(e=>t.src=e))}),e.length&&s.all(e).then(()=>{this.filesReadyResolve()}).catch(()=>this.filesReadyReject())}return t}fileSize(e,t,n,i,r){return`${(t=Math,n=t.log,i=1024,r=n(e)/n(i)|0,e/t.pow(i,r)).toFixed(2)} ${r?`${"kMGTPEZY"[--r]}B`:"Bytes"}`}globStringToRegex(e){let t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{const i=e.split(",");if(i.length>1)for(let e=0;e<i.length;e++){const r=this.globStringToRegex(i[e]);r.regexp?(t+=`(${r.regexp})`,e<i.length-1&&(t+="|")):n=n.concat(r.excludes)}else e.startsWith("!")?n.push(`^((?!${this.globStringToRegex(e.substring(1)).regexp}).)*$`):(e.startsWith(".")&&(e=`*${e}`),t=(t=`^${e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")}$`).replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}translateScalars(e){if("string"==typeof e){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2)*1024);if(e.search(/gb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2)*1024*1024);if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e}validatePattern(e,t){if(!t)return!0;const n=this.globStringToRegex(t);let r=!0;if(n.regexp&&n.regexp.length){const t=new RegExp(n.regexp,"i");r=!i.isNil(e.type)&&t.test(e.type)||!i.isNil(e.name)&&t.test(e.name)}return r=n.excludes.reduce((t,n)=>{const r=new RegExp(n,"i");return t&&(i.isNil(e.type)||!r.test(e.type))&&(i.isNil(e.name)||!r.test(e.name))},r)}validateMinSize(e,t){return e.size+.1>=this.translateScalars(t)}validateMaxSize(e,t){return e.size-.1<=this.translateScalars(t)}upload(e){this.component.multiple||(e=Array.prototype.slice.call(e,0,1)),this.component.storage&&e&&e.length&&Array.prototype.forEach.call(e,e=>{const n=t.uniqueName(e.name,this.component.fileNameTemplate,this.evalContext()),i={originalName:e.name,name:n,size:e.size,status:"info",message:this.t("Starting upload")};this.component.filePattern&&!this.validatePattern(e,this.component.filePattern)&&(i.status="error",i.message=this.t("File is the wrong type; it must be {{ pattern }}",{pattern:this.component.filePattern})),this.component.fileMinSize&&!this.validateMinSize(e,this.component.fileMinSize)&&(i.status="error",i.message=this.t("File is too small; it must be at least {{ size }}",{size:this.component.fileMinSize})),this.component.fileMaxSize&&!this.validateMaxSize(e,this.component.fileMaxSize)&&(i.status="error",i.message=this.t("File is too big; it must be at most {{ size }}",{size:this.component.fileMaxSize}));const r=this.interpolate(this.component.dir||""),{fileService:s}=this;if(s||(i.status="error",i.message=this.t("File Service not provided.")),this.statuses.push(i),this.redraw(),"error"!==i.status){this.component.privateDownload&&(e.private=!0);const{storage:t,options:o={}}=this.component,a=this.interpolate(this.component.url),l=this.component.fileKey||"file";s.uploadFile(t,e,n,r,e=>{i.status="progress",i.progress=parseInt(100*e.loaded/e.total),delete i.message,this.redraw()},a,o,l).then(t=>{const n=this.statuses.indexOf(i);-1!==n&&this.statuses.splice(n,1),t.originalName=e.name,this.hasValue()||(this.dataValue=[]),this.dataValue.push(t),this.redraw(),this.triggerChange()}).catch(e=>{i.status="error",i.message=e,delete i.progress,this.redraw()})}})}getFile(e){const{options:t={}}=this.component,{fileService:i}=this;if(!i)return alert("File Service not provided");this.component.privateDownload&&(e.private=!0),i.downloadFile(e,t).then(e=>{e&&(["base64","indexeddb"].includes(e.storage)?n(e.url,e.originalName||e.name,e.type):window.open(e.url,"_blank"))}).catch(e=>{alert(e)})}focus(){this.refs.fileBrowse&&this.refs.fileBrowse.focus()}}}),e("skylark-formio/i18n",[],function(){"use strict";return{lng:"en",resources:{en:{translation:{complete:"Submission Complete",error:"Please fix the following errors before submitting.",submitError:"Please check the form and correct all errors before submitting.",required:"{{field}} is required",unique:"{{field}} must be unique",array:"{{field}} must be an array",array_nonempty:"{{field}} must be a non-empty array",nonarray:"{{field}} must not be an array",select:"{{field}} contains an invalid selection",pattern:"{{field}} does not match the pattern {{pattern}}",minLength:"{{field}} must have at least {{length}} characters.",maxLength:"{{field}} must have no more than {{length}} characters.",minWords:"{{field}} must have at least {{length}} words.",maxWords:"{{field}} must have no more than {{length}} words.",min:"{{field}} cannot be less than {{min}}.",max:"{{field}} cannot be greater than {{max}}.",maxDate:"{{field}} should not contain date after {{- maxDate}}",minDate:"{{field}} should not contain date before {{- minDate}}",maxYear:"{{field}} should not contain year greater than {{maxYear}}",minYear:"{{field}} should not contain year less than {{minYear}}",invalid_email:"{{field}} must be a valid email.",invalid_url:"{{field}} must be a valid url.",invalid_regex:"{{field}} does not match the pattern {{regex}}.",invalid_date:"{{field}} is not a valid date.",invalid_day:"{{field}} is not a valid day.",mask:"{{field}} does not match the mask.",stripe:"{{stripe}}",month:"Month",day:"Day",year:"Year",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",next:"Next",previous:"Previous",cancel:"Cancel",submit:"Submit Form"}}}}}),e("skylark-formio/Webform",["skylark-lodash","skylark-moment","./EventEmitter","skylark-i18next","./Formio","./vendors/getify/npo","./components/Components","./components/_classes/nesteddata/NestedDataComponent","./utils/utils","./utils/formUtils","./i18n"],function(e,t,n,i,r,s,o,a,l,u,c){"use strict";r.forms={},r.registerComponent=o.setComponent;class h extends a{constructor(){let t,o;arguments[0]instanceof HTMLElement||arguments[1]?(t=arguments[0],o=arguments[1]):o=arguments[0],super(null,function(t){(t=e.defaults(t,{submitOnEnter:!1,iconset:(s=t&&t.icons?t.icons:r.icons,"fontawesome"===s?"fa":s||""),i18next:i,saveDraft:!1,alwaysDirty:!1,saveDraftThrottle:5e3})).events||(t.events=new n({wildcard:!1,maxListeners:0}));var s;return t}(o)),this.element=t,r.forms[this.id]=this,this.options.baseUrl&&r.setBaseUrl(this.options.baseUrl),o&&o.i18n&&!o.i18nReady&&(o.i18n.resources?c=o.i18n:e.each(o.i18n,(t,n)=>{"options"===n?e.merge(c,t):c.resources[n]?e.assign(c.resources[n].translation,t):c.resources[n]={translation:t}}),o.i18n=c,o.i18nReady=!0),o&&o.i18n?this.options.i18n=o.i18n:this.options.i18n=c,this.options.language&&(this.options.i18n.lng=this.options.language),this.type="form",this._src="",this._loading=!1,this._form={},this.draftEnabled=!1,this.savingDraft=!0,this.options.saveDraftThrottle?this.triggerSaveDraft=e.throttle(this.saveDraft.bind(this),this.options.saveDraftThrottle):this.triggerSaveDraft=this.saveDraft.bind(this),this.customErrors=[],this.nosubmit=!1,this.submitted=!1,this.submitting=!1,this.formio=null,this.loader=null,this.alert=null,this.onSubmission=null,this.submissionSet=!1,this.formReady=new s((e,t)=>{this.formReadyResolve=e,this.formReadyReject=t}),this.submissionReady=new s((e,t)=>{this.submissionReadyResolve=e,this.submissionReadyReject=t}),this.shortcuts=[],this.localize().then(()=>{this.language=this.options.language}),this.options.saveDraft&&r.events&&r.events.on("formio.user",e=>{this.formReady.then(()=>{this.submissionSet||this.restoreDraft(e._id)})}),this.component.clearOnHide=!1,this.root=this}set language(e){return new s((t,n)=>{if(this.options.language=e,i.language===e)return t();try{i.changeLanguage(e,e=>{if(e)return n(e);this.redraw(),this.emit("languageChanged"),t()})}catch(e){return n(e)}})}addLanguage(e,t,n=!1){i.addResourceBundle(e,"translation",t,!0,!0),n&&(this.language=e)}localize(){return i.initialized?s.resolve(i):(i.initialized=!0,new s((e,t)=>{try{i.init(this.options.i18n,n=>{if(this.options.language=i.language.split(";")[0],n)return t(n);e(i)})}catch(e){return t(e)}}))}keyboardCatchableElement(e){return"TEXTAREA"!==e.nodeName&&("INPUT"!==e.nodeName||-1===["text","email","password"].indexOf(e.type))}executeShortcuts(t){const{target:n}=t;if(!this.keyboardCatchableElement(n))return;const i=t.ctrlKey||t.metaKey,r=t.keyCode;let s="";65<=r&&r<=90?s=String.fromCharCode(r):13===r?s="Enter":27===r&&(s="Esc"),e.each(this.shortcuts,e=>{e.ctrl&&!i||e.shortcut===s&&(e.element.click(),t.preventDefault())})}addShortcut(t,n){if(n&&/^([A-Z]|Enter|Esc)$/i.test(n))if("Enter"===(n=e.capitalize(n))||"Esc"===n){if("BUTTON"!==t.tagName)return;this.shortcuts.push({shortcut:n,element:t})}else this.shortcuts.push({ctrl:!0,shortcut:n,element:t})}removeShortcut(t,n){n&&/^([A-Z]|Enter|Esc)$/i.test(n)&&e.remove(this.shortcuts,{shortcut:n,element:t})}get src(){return this._src}loadSubmission(){return this.loadingSubmission=!0,this.formio.submissionId?this.onSubmission=this.formio.loadSubmission().then(e=>this.setSubmission(e),e=>this.submissionReadyReject(e)).catch(e=>this.submissionReadyReject(e)):this.submissionReadyResolve(),this.submissionReady}setSrc(e,t){return this.setUrl(e,t)?(this.nosubmit=!1,this.formio.loadForm({params:{live:1}}).then(e=>{const t=this.setForm(e);return this.loadSubmission(),t}).catch(e=>{console.warn(e),this.formReadyReject(e)})):s.resolve()}set src(e){this.setSrc(e)}get url(){return this._src}setUrl(e,t){return!(!e||"string"!=typeof e||e===this._src)&&(this._src=e,this.nosubmit=!0,this.formio=this.options.formio=new r(e,t),"form"===this.type&&(this.options.src=e),!0)}set url(e){this.setUrl(e)}get ready(){return this.formReady.then(()=>super.ready.then(()=>!this.loadingSubmission||this.submissionReady))}get loading(){return this._loading}set loading(e){if(this._loading!==e){if(this._loading=e,!this.loader&&e){this.loader=this.ce("div",{class:"loader-wrapper"});const e=this.ce("div",{class:"loader text-center"});this.loader.appendChild(e)}if(this.loader)try{e?this.prependTo(this.loader,this.wrapper):this.removeChildFrom(this.loader,this.wrapper)}catch(e){}}}setForm(e){if(this._form=e,e&&e.settings&&e.settings.components&&(this.options.components=e.settings.components),e&&e.module){let t=null;if("string"==typeof e.module)try{t=this.evaluate(`return ${e.module}`)}catch(e){console.warn(e)}else t=e.module;t&&(r.use(t),t.options&&t.options.form&&(this.options=Object.assign(this.options,t.options.form)))}this.initialized=!1;const t=this.rebuild()||s.resolve();return t.then(()=>(this.emit("formLoad",e),this.triggerRecaptcha(),setTimeout(()=>{this.onChange(),this.formReadyResolve()},0),this.formReady))}get form(){return this._form||(this._form={components:[]}),this._form}set form(e){this.setForm(e)}get submission(){return this.getValue()}set submission(e){this.setSubmission(e)}setSubmission(e,t={}){return t={...t,fromSubmission:!0},this.onSubmission=this.formReady.then(()=>(this.submissionSet=!0,this.triggerChange(t),this.setValue(e,t),this.submissionReadyResolve(e)),e=>this.submissionReadyReject(e)).catch(e=>this.submissionReadyReject(e))}saveDraft(){if(!this.draftEnabled)return;if(!this.formio)return void console.warn("Cannot save draft because there is no formio instance.");if(!r.getUser())return void console.warn("Cannot save draft unless a user is authenticated.");const t=this.submission;t.state="draft",this.savingDraft||(this.savingDraft=!0,this.formio.saveSubmission(t).then(n=>{const i=e.merge(n,t);this.emit("saveDraft",n),t._id?this.savingDraft=!1:this.setSubmission(i).then(()=>{this.savingDraft=!1})}))}restoreDraft(e){this.formio?(this.savingDraft=!0,this.formio.loadSubmissions({params:{state:"draft",owner:e}}).then(e=>{if(e.length>0&&!this.options.skipDraftRestore){const t=l.fastCloneDeep(e[0]);return this.setSubmission(t).then(()=>{this.draftEnabled=!0,this.savingDraft=!1,this.emit("restoreDraft",t)})}this.draftEnabled=!0,this.savingDraft=!1,this.emit("restoreDraft",null)})):console.warn("Cannot restore draft because there is no formio instance.")}get schema(){const t=l.fastCloneDeep(e.omit(this._form,["components"]));return t.components=[],this.eachComponent(e=>t.components.push(e.schema)),t}mergeData(t,n){e.mergeWith(t,n,(e,t)=>{if(Array.isArray(e)&&Array.isArray(t)&&e.length!==t.length)return t})}setValue(e,t={}){e&&e.data||(e={data:{}}),this._submission.metadata=e.metadata||{},this.editing=!!e._id,!this.options.submissionTimezone&&e.metadata&&e.metadata.timezone&&(this.options.submissionTimezone=e.metadata.timezone);const n=super.setValue(e.data,t);return t.sanitize||this.mergeData(this.data,e.data),e.data=this.data,this._submission=e,n}getValue(){if(this._submission.data||(this._submission.data={}),this.viewOnly)return this._submission;const e=this._submission;return e.data=this.data,this._submission}init(){return this._submission=this._submission||{data:{}},this.components&&this.components.length&&(this.destroyComponents(),this.components=[]),this.component?this.component.components=this.form?this.form.components:[]:this.component=this.form,this.component.type="form",this.component.input=!1,this.addComponents(),this.on("submitButton",e=>{this.submit(!1,e).catch(e=>!1!==e&&console.log(e))},!0),this.on("checkValidity",e=>this.checkValidity(e,!0,e),!0),this.on("requestUrl",e=>this.submitUrl(e.url,e.headers),!0),this.on("resetForm",()=>this.resetValue(),!0),this.on("deleteSubmission",()=>this.deleteSubmission(),!0),this.on("refreshData",()=>this.updateValue(),!0),this.executeFormController(),this.formReady}executeFormController(){if(!this.form||!this.form.controller||(!this.visible||this.component.hidden)&&this.component.clearOnHide&&!this.rootPristine)return!1;this.formReady.then(()=>{this.evaluate(this.form.controller,{components:this.components})})}destroy(){return this.off("submitButton"),this.off("checkValidity"),this.off("requestUrl"),this.off("resetForm"),this.off("deleteSubmission"),this.off("refreshData"),super.destroy()}build(e){return e||this.element?this.ready.then(()=>{e=e||this.element,super.build(e)}):this.ready}getClassName(){return"formio-form"}render(){return super.render(this.renderTemplate("webform",{classes:this.getClassName(),children:this.renderComponents()}),this.builderMode?"builder":"form",!0)}redraw(){return this.element?(this.clear(),this.setContent(this.element,this.render()),this.attach(this.element)):s.resolve()}attach(e){this.element=e,this.loadRefs(e,{webform:"single"});const t=this.attachComponents(this.refs.webform);return this.addEventListener(this.element,"keydown",this.executeShortcuts),this.currentForm=this,t.then(()=>(this.emit("render"),this.setValue(this._submission,{noUpdateEvent:!0})))}hasRequiredFields(){let e=!1;return u.eachComponent(this.form.components,t=>{if(t.validate.required)return e=!0,!0},!0),e}resetValue(){e.each(this.getComponents(),e=>e.resetValue()),this.setPristine(!0)}setAlert(e,t){if(e||!this.submitted)if(this.options.noAlerts)t||this.emit("error",!1);else{if(this.alert)try{this.refs.errorRef&&this.refs.errorRef.length&&this.refs.errorRef.forEach(e=>{this.removeEventListener(e,"click"),this.removeEventListener(e,"keypress")}),this.removeChild(this.alert),this.alert=null}catch(e){}t&&(this.alert=this.ce("div",{id:`error-list-${this.id}`,class:`alert alert-${e}`,role:"alert"}),t instanceof HTMLElement?this.appendTo(t,this.alert):this.setContent(this.alert,t)),this.alert&&(this.loadRefs(this.alert,{errorRef:"multiple"}),this.refs.errorRef&&this.refs.errorRef.length&&this.refs.errorRef.forEach(e=>{this.addEventListener(e,"click",e=>{const t=e.currentTarget.dataset.componentKey;this.focusOnComponent(t)}),this.addEventListener(e,"keypress",e=>{if(13===e.keyCode){const t=e.currentTarget.dataset.componentKey;this.focusOnComponent(t)}})}),this.prepend(this.alert))}else this.alert&&(this.refs.errorRef&&this.refs.errorRef.length&&this.refs.errorRef.forEach(e=>{this.removeEventListener(e,"click"),this.removeEventListener(e,"keypress")}),this.removeChild(this.alert),this.alert=null)}focusOnComponent(e){if(e){const t=this.getComponent(e);t&&t.focus()}}showErrors(t,n){this.loading=!1;let i=this.errors;if(t?Array.isArray(t)?i=i.concat(t):i.push(t):i=super.errors,!(i=i.concat(this.customErrors)).length)return void this.setAlert(!1);i.forEach(t=>{const{components:n=[]}=t;t.component&&n.push(t.component),t.path&&n.push(t.path),n.forEach(n=>{const i=this.getComponent(n,e.identity),r=e.compact(Array.isArray(i)?i:[i]);r.forEach(e=>e.setCustomValidity(t.message,!0))})});const r=document.createDocumentFragment(),s=this.ce("p");this.setContent(s,this.t("error"));const o=this.ce("ul");return i.forEach(t=>{if(t){const n=e=>{const n={ref:"errorRef",tabIndex:0,"aria-label":`${e}. Click to navigate to the field with following error.`},i=this.ce("li",n);this.setContent(i,e),t.component&&t.component.key&&(i.dataset.componentKey=t.component.key),this.appendTo(i,o)};if(t.messages&&t.messages.length)t.messages.forEach(({message:e})=>n(`${this.t(t.component.label)}. ${e}`));else if(t){const i=e.isObject(t)?t.message||"":t;n(i)}}}),s.appendChild(o),r.appendChild(s),this.setAlert("danger",r),n&&this.emit("error",i),i}onSubmit(e,t){return this.loading=!1,this.submitting=!1,this.setPristine(!0),this.setValue(l.fastCloneDeep(e),{noValidate:!0,noCheck:!0}),this.setAlert("success",`<p>${this.t("complete")}</p>`),this.emit("submit",e),t&&this.emit("submitDone",e),e}onSubmissionError(e){return e&&("string"==typeof e&&(e={message:e}),"details"in e&&(e=e.details)),this.submitting=!1,this.setPristine(!1),this.emit("submitError",e),e&&e.silent?(this.emit("change",{isValid:!0}),!1):this.showErrors(e,!0)}onChange(t,n,i){t=t||{};let r=!1;n&&n.component&&(this.customErrors=this.customErrors.filter(e=>e.component&&e.component!==n.component.key)),super.onChange(t,!0);const s=e.clone(this.submission);t.changed=s.changed=n,i&&this.pristine&&(this.pristine=!1),s.isValid=this.checkData(s.data,t),this.loading=!1,this.submitted&&this.showErrors(),i&&this.options.saveDraft&&this.triggerSaveDraft(),t&&t.noEmit||(this.emit("change",s,t),r=!0),r&&!this.initialized&&(this.emit("initialized"),this.initialized=!0)}checkData(t,n={}){const i=super.checkData(t,n);return(e.isEmpty(n)||n.noValidate)&&this.submitted&&this.showErrors(),i}deleteSubmission(){return this.formio.deleteSubmission().then(()=>{this.emit("submissionDeleted",this.submission),this.resetValue()})}cancel(e){const t=this.hook("beforeCancel",!0);return!(!t||!e&&!confirm("Are you sure you want to cancel?"))&&(this.resetValue(),!0)}submitForm(n={}){return new s((i,s)=>{if(this.options.readOnly)return i({submission:this.submission,saved:!1});const o=l.fastCloneDeep(this.submission||{});o.metadata=o.metadata||{},e.defaults(o.metadata,{timezone:e.get(this,"_submission.metadata.timezone",l.currentTimezone()),offset:parseInt(e.get(this,"_submission.metadata.offset",t().utcOffset()),10),referrer:document.referrer,browserName:navigator.appName,userAgent:navigator.userAgent,pathName:window.location.pathname,onLine:navigator.onLine}),o.state=n.state||"submitted";const a="draft"===o.state;this.hook("beforeSubmit",{...o,component:n.component},t=>t?s(t):a||o.data?a||this.checkValidity(o.data,!0,o.data)?(this.everyComponent(t=>{const{persistent:n}=t.component;"client-only"===n&&e.unset(o.data,t.path)}),void this.hook("customValidation",{...o,component:n.component},e=>{if(e)return"string"==typeof e&&(e={message:e}),e=Array.isArray(e)?e:[e],this.customErrors=e,s();if(this.loading=!0,this._form&&this._form.action){const e=o.data._id&&this._form.action.includes(o.data._id)?"PUT":"POST";return r.makeStaticRequest(this._form.action,e,o,this.formio?this.formio.options:{}).then(e=>i({submission:e,saved:!0})).catch(s)}const t=this.formio;if(this.nosubmit||!t)return i({submission:o,saved:!1});const n=t.actionUrl?"saveAction":"saveSubmission";t[n](o).then(e=>i({submission:e,saved:!0})).catch(s)})):s():s("Invalid Submission"))})}executeSubmit(e){return this.submitted=!0,this.submitting=!0,this.submitForm(e).then(({submission:e,saved:t})=>this.onSubmit(e,t)).catch(e=>s.reject(this.onSubmissionError(e)))}submit(e,t){return e?this.executeSubmit(t):this.beforeSubmit(t).then(()=>this.executeSubmit(t))}submitUrl(e,t){if(!e)return console.warn("Missing URL argument");const n=this.submission||{},i=e,s={method:"POST",headers:{}};if(t&&t.length>0&&t.map(e=>{""!==e.header&&""!==e.value&&(s.headers[e.header]=this.interpolate(e.value,n))}),!i||!s)return this.emit("error","You should add a URL to this button."),this.setAlert("warning","You should add a URL to this button."),console.warn("You should add a URL to this button.");try{r.makeStaticRequest(i,s.method,n,{headers:s.headers}).then(()=>{this.emit("requestDone"),this.setAlert("success","<p> Success </p>")})}catch(e){this.showErrors(`${e.statusText} ${e.status}`),this.emit("error",`${e.statusText} ${e.status}`),console.error(`${e.statusText} ${e.status}`)}}triggerRecaptcha(){if(!this||!this.components)return;const e=this.components.find(e=>"recaptcha"===e.component.type&&"formLoad"===e.component.eventType);e&&e.verify(`${this.form.name?this.form.name:"form"}Load`)}set nosubmit(e){this._nosubmit=!!e,this.emit("nosubmit",this._nosubmit)}get nosubmit(){return this._nosubmit||!1}}return h.setBaseUrl=r.setBaseUrl,h.setApiUrl=r.setApiUrl,h.setAppUrl=r.setAppUrl,h}),e("skylark-formio/PDF",["./vendors/getify/npo","./Formio","./Webform","./utils/utils"],function(e,t,n,i){"use strict";return window.addEventListener("message",e=>{let n=null;try{n=JSON.parse(e.data)}catch(e){n=null}n&&n.name&&n.formId&&t.forms.hasOwnProperty(n.formId)&&t.forms[n.formId].emit(`iframe-${n.name}`,n.data)}),class extends n{constructor(e,t){super(e,t),this.components=[]}init(){super.init(),this.on("iframe-submission",e=>this.setValue(e,{fromIframe:!0}),!0),this.on("iframe-change",e=>this.setValue(e,{fromIframe:!0}),!0),this.on("iframe-getIframePositions",()=>{const e=document.querySelector("iframe").getBoundingClientRect();this.postMessage({name:"iframePositions",data:{iframe:{top:e.top},scrollY:window.scrollY||window.pageYOffset}})}),this.on("iframe-ready",()=>this.iframeReadyResolve(),!0)}render(){return this.renderTemplate("pdf",{classes:"formio-form-pdf",children:this.renderComponents()})}redraw(){return super.redraw()}attach(t){return super.attach(t).then(()=>{this.loadRefs(t,{submitButton:"single",zoomIn:"single",zoomOut:"single",iframeContainer:"single"}),this.iframeReady=new e((e,t)=>{this.iframeReadyResolve=e,this.iframeReadyReject=t}),this.iframeElement=this.ce("iframe",{src:this.getSrc(),id:`iframe-${this.id}`,seamless:!0,class:"formio-iframe"}),this.iframeElement.formioContainer=this.component.components,this.iframeElement.formioComponent=this,this.empty(this.refs.iframeContainer),this.appendChild(this.refs.iframeContainer,this.iframeElement),this.postMessage({name:"form",data:this.form});const n=this.components.find(e=>e.element===this.refs.submitButton);this.refs.submitButton.classList.toggle("hidden",!n.visible),this.addEventListener(this.refs.submitButton,"click",()=>(this.postMessage({name:"getErrors"}),this.submit())),this.addEventListener(this.refs.zoomIn,"click",e=>{e.preventDefault(),this.postMessage({name:"zoomIn"})}),this.addEventListener(this.refs.zoomOut,"click",e=>{e.preventDefault(),this.postMessage({name:"zoomOut"})});const r=i.fastCloneDeep(this.form);this.formio&&(r.projectUrl=this.formio.projectUrl,r.url=this.formio.formUrl,r.base=this.formio.base,this.postMessage({name:"token",data:this.formio.getToken()})),this.emit("attach")})}getSubmission(){return new e(e=>{this.once("iframe-submission",e),this.postMessage({name:"getSubmission"})})}submitForm(e={}){return this.getSubmission().then(()=>super.submitForm(e))}getSrc(){if(!this._form||!this._form.settings||!this._form.settings.pdf)return"";let e=`${this._form.settings.pdf.src}.html`;const t=[`id=${this.id}`];return this.options.readOnly&&t.push("readonly=1"),this.options.zoom&&t.push(`zoom=${this.options.zoom}`),this.builderMode&&t.push("builder=1"),t.length&&(e+=`?${t.join("&")}`),e}setForm(e){return super.setForm(e).then(()=>{this.formio&&(e.projectUrl=this.formio.projectUrl,e.url=this.formio.formUrl,e.base=this.formio.base,this.postMessage({name:"token",data:this.formio.getToken()})),this.postMessage({name:"form",data:e})})}setValue(e,t={}){const n=super.setValue(e,t);return t&&t.fromIframe||this.once("iframe-ready",()=>{this.postMessage({name:"submission",data:e})}),n}setSubmission(e){return e.readOnly=!!this.options.readOnly,super.setSubmission(e).then(()=>{this.formio&&this.formio.getDownloadUrl().then(e=>{e&&(this.downloadButton||(this.options.primaryProject&&(e+=`&project=${this.options.primaryProject}`),this.downloadButton=this.ce("a",{href:e,target:"_blank",style:"position:absolute;right:10px;top:110px;cursor:pointer;"},this.ce("img",{src:require("./pdf.image"),style:"width:3em;"})),this.element.insertBefore(this.downloadButton,this.iframe)))})})}postMessage(e){this.iframeReady&&(e.type||(e.type="iframe-data"),this.iframeReady.then(()=>{this.iframeElement&&this.iframeElement.contentWindow&&this.iframeElement.contentWindow.postMessage(JSON.stringify(e),"*")}))}focusOnComponent(e){this.postMessage({name:"focusErroredField",data:e})}clear(){}showErrors(e,t){const n=document.getElementById("submit-error");if(!n){const e=this.ce("p",{class:"help-block"});this.setContent(e,this.t("submitError")),e.addEventListener("click",()=>{window.scrollTo(0,0)});const t=this.ce("div",{id:"submit-error",class:"has-error"});this.appendTo(e,t),this.appendTo(t,this.element)}!this.errors.length&&n&&n.remove(),this.errors.length&&this.focusOnComponent(this.errors[0].component.key),this.errors.length&&this.focusOnComponent(this.errors[0].component.key),super.showErrors(e,t)}}}),e("skylark-formio/Wizard",["./vendors/getify/npo","skylark-lodash","./Webform","./Formio","./utils/utils"],function(e,t,n,i,r){"use strict";class s extends n{constructor(){let e,t;arguments[0]instanceof HTMLElement||arguments[1]?(e=arguments[0],t=arguments[1]):t=arguments[0],super(e,t),this.pages=[],this.prefixComps=[],this.suffixComps=[],this.components=[],this.originalComponents=[],this.page=0,this.currentNextPage=0,this._seenPages=[0]}isLastPage(){const e=this.getNextPage();return t.isNumber(e)?0<e&&e>=this.pages.length:t.isNull(e)}getPages(e={}){const{all:n=!1}=e,i=this.pages.filter(n?t.identity:(e,t)=>this._seenPages.includes(t));return i}getComponents(){return this.submitting?this.getPages({all:this.isLastPage()}):super.getComponents()}resetValue(){this.getPages({all:!0}).forEach(e=>e.resetValue()),this.setPristine(!0)}init(){this.options.buttonSettings=t.defaults(this.options.buttonSettings,{showPrevious:!0,showNext:!0,showSubmit:!0,showCancel:!this.options.readOnly}),this.options.breadcrumbSettings=t.defaults(this.options.breadcrumbSettings,{clickable:!0}),this.page=0;const e=super.init();return this.setComponentSchema(),e}get wizardKey(){return`wizard-${this.id}`}get form(){return this.wizard}set form(e){super.form=e}get buttons(){const e={};return[{name:"cancel",method:"cancel"},{name:"previous",method:"prevPage"},{name:"next",method:"nextPage"},{name:"submit",method:"submit"}].forEach(t=>{this.hasButton(t.name)&&(e[t.name]=t)}),e}get renderContext(){return{wizardKey:this.wizardKey,isBreadcrumbClickable:this.isBreadcrumbClickable(),panels:this.pages.map(e=>e.component),buttons:this.buttons,currentPage:this.page}}render(){const e=this.renderContext;return this.renderTemplate("wizard",{...e,className:super.getClassName(),wizardHeader:this.renderTemplate("wizardHeader",e),wizardNav:this.renderTemplate("wizardNav",e),components:this.renderComponents([...this.prefixComps,...this.currentPage.components,...this.suffixComps])},this.builderMode?"builder":"form")}redrawNavigation(){if(this.element){let e=this.element.querySelector(`#${this.wizardKey}-nav`);e&&(this.detachNav(),e.outerHTML=this.renderTemplate("wizardNav",this.renderContext),e=this.element.querySelector(`#${this.wizardKey}-nav`),this.loadRefs(e,{[`${this.wizardKey}-cancel`]:"single",[`${this.wizardKey}-previous`]:"single",[`${this.wizardKey}-next`]:"single",[`${this.wizardKey}-submit`]:"single"}),this.attachNav())}}redrawHeader(){if(this.element){let e=this.element.querySelector(`#${this.wizardKey}-header`);e&&(this.detachHeader(),e.outerHTML=this.renderTemplate("wizardHeader",this.renderContext),e=this.element.querySelector(`#${this.wizardKey}-header`),this.loadRefs(e,{[`${this.wizardKey}-link`]:"multiple"}),this.attachHeader())}}attach(e){this.element=e,this.loadRefs(e,{[this.wizardKey]:"single",[`${this.wizardKey}-cancel`]:"single",[`${this.wizardKey}-previous`]:"single",[`${this.wizardKey}-next`]:"single",[`${this.wizardKey}-submit`]:"single",[`${this.wizardKey}-link`]:"multiple"});const t=this.attachComponents(this.refs[this.wizardKey],[...this.prefixComps,...this.currentPage.components,...this.suffixComps]);return this.attachNav(),this.attachHeader(),t.then(()=>this.emit("render"))}isBreadcrumbClickable(){return t.get(this.options,"breadcrumbSettings.clickable",!0)}attachNav(){t.each(this.buttons,e=>{const t=this.refs[`${this.wizardKey}-${e.name}`];this.addEventListener(t,"click",n=>{n.preventDefault(),t.setAttribute("disabled","disabled"),this.setLoading(t,!0),this[e.method]().then(()=>{t.removeAttribute("disabled"),this.setLoading(t,!1)}).catch(()=>{t.removeAttribute("disabled"),this.setLoading(t,!1)})})})}attachHeader(){this.isBreadcrumbClickable()&&this.refs[`${this.wizardKey}-link`].forEach((e,t)=>{this.addEventListener(e,"click",e=>(this.emit("wizardNavigationClicked",this.pages[t]),e.preventDefault(),this.setPage(t).then(()=>{this.emit("wizardPageSelected",this.pages[t],t)})))})}detachNav(){t.each(this.buttons,e=>{this.removeEventListener(this.refs[`${this.wizardKey}-${e.name}`],"click")})}detachHeader(){this.refs[`${this.wizardKey}-link`].forEach(e=>{this.removeEventListener(e,"click")})}establishPages(){this.pages=[],this.prefixComps=[],this.suffixComps=[];const e=[],n={},i=t.clone(this.options);return this.components&&this.components.length&&this.components.map(e=>{"panel"===e.component.type&&(n[e.component.key||e.component.title]=e)}),this.originalComponents&&this.originalComponents.forEach(t=>{if("panel"===t.type){t.key||(t.key=t.title);let s=n[t.key];const o=r.checkCondition(t,this.data,this.data,this.component,this);o&&(e.push(t),s&&this.pages.push(s)),!s&&o?(s=this.createComponent(t,i),this.pages.push(s),s.eachComponent(e=>{e.page=this.pages.length-1})):s&&!o&&this.removeComponent(s)}else"button"!==t.type&&(this.pages.length?this.suffixComps.push(this.createComponent(t,i)):this.prefixComps.push(this.createComponent(t,i)))}),e}addComponents(){this.establishPages()}setPage(t){return t===this.page?e.resolve():!this.wizard.full&&t>=0&&t<this.pages.length?(this.page=t,this.pageFieldLogic(t),this.getNextPage(),this._seenPages.includes(t)||(this._seenPages=this._seenPages.concat(t)),this.redraw().then(()=>{this.options.readOnly||this.checkValidity(this.submission.data,!1,this.submission.data,!0)}),e.resolve()):this.wizard.full||!this.pages.length?(this.redraw(),e.resolve()):e.reject("Page not found")}pageFieldLogic(e){this.component=this.pages[e].component,this.originalComponent=r.fastCloneDeep(this.component),this.fieldLogic(this.data),this.disabled=this.shouldDisabled}get currentPage(){return this.pages&&this.pages.length>=this.page?this.pages[this.page]:{components:[]}}getNextPage(){const e=this.submission.data,t=this.pages[this.page].component;if(t){const n=this.pages.length>this.page+1?this.page+1:-1;if(t.nextPage){const i=this.evaluate(t.nextPage,{next:n,data:e,page:n,form:t},"next");if(null===i)return this.currentNextPage=null,null;const r=parseInt(i,10);return!isNaN(parseInt(r,10))&&isFinite(r)?(this.currentNextPage=r,r):(this.currentNextPage=this.getPageIndexByKey(i),this.currentNextPage)}return this.currentNextPage=n,n}return this.currentNextPage=null,null}getPreviousPage(){return this.page-1}beforeSubmit(){return e.all(this.getPages().map(e=>(e.options.beforeSubmit=!0,e.beforeSubmit())))}beforePage(t){return new e((e,n)=>{this.hook(t?"beforeNext":"beforePrev",this.currentPage,this.submission,i=>{i&&(this.showErrors(i,!0),n(i));const r=this.currentPage;r?r.beforePage(t).then(e).catch(n):e()})})}nextPage(){return this.options.readOnly?this.setPage(this.getNextPage()).then(()=>{this.emit("nextPage",{page:this.page,submission:this.submission})}):this.checkValidity(this.submission.data,!0,this.submission.data,!0)?(this.checkData(this.submission.data),this.beforePage(!0).then(()=>this.setPage(this.getNextPage()).then(()=>{this.emit("nextPage",{page:this.page,submission:this.submission})}))):(this.currentPage.components.forEach(e=>e.setPristine(!1)),e.reject(this.showErrors([],!0)))}prevPage(){return this.beforePage().then(()=>this.setPage(this.getPreviousPage()).then(()=>{this.emit("prevPage",{page:this.page,submission:this.submission})}))}cancel(t){return super.cancel(t)?(this.setPristine(!0),this.setPage(0).then(()=>(this.redraw(),this.page))):e.resolve()}getPageIndexByKey(e){let t=this.page;return this.pages.forEach((n,i)=>{if(n.component.key===e)return t=i,!1}),t}get schema(){return this.wizard}setComponentSchema(){const e={};if(this.originalComponents=[],this.component.components.map(n=>{"panel"===n.type&&(n.key=r.uniqueKey(e,n.key||"panel"),e[n.key]=!0),this.originalComponents.push(t.clone(n))}),!Object.keys(e).length){const e={type:"panel",title:"Page 1",label:"Page 1",key:"page1",components:this.component.components};this.component.components=[e],this.originalComponents.push(t.clone(e))}}setForm(e){if(e)return this.wizard=e,this.component.components=e.components||[],this.setComponentSchema(),super.setForm(e)}setValue(e,t={}){const n=super.setValue(e,t);return this.pageFieldLogic(this.page),n}isClickable(e,n){return this.page!==n&&r.firstNonNil([t.get(e,"breadcrumbClickable"),this.options.breadcrumbSettings.clickable])}hasButton(e,n){const i=this.currentPage;if("previous"===e){const e=r.firstNonNil([t.get(i,"buttonSettings.previous"),this.options.buttonSettings.showPrevious]);return this.getPreviousPage()>-1&&e}if(n=void 0===n?this.getNextPage():n,"next"===e){const e=r.firstNonNil([t.get(i,"buttonSettings.next"),this.options.buttonSettings.showNext]);return null!==n&&-1!==n&&e}if("cancel"===e)return r.firstNonNil([t.get(i,"buttonSettings.cancel"),this.options.buttonSettings.showCancel]);if("submit"===e){const e=r.firstNonNil([t.get(i,"buttonSettings.submit"),this.options.buttonSettings.showSubmit]);return e&&!this.options.readOnly&&(null===n||this.page===this.pages.length-1)}return!0}pageId(e){return e.key?`${e.key}-${e.title}`:e.components&&e.components.length>0?this.pageId(e.components[0]):e.title}onChange(e,n,i){super.onChange(e,n,i),this.alert&&!this.submitted&&(this.checkValidity(this.submission.data,!1,this.submission.data,!0),this.showErrors([],!0));const r=this.pages.map(e=>e.component.key),s=this.establishPages().map(e=>e.key),o=this.currentNextPage;t.isEqual(s,r)||this.redrawHeader(),o!==this.getNextPage()&&this.redrawNavigation()}checkValidity(e,t,n,i){if(!this.checkCondition(n,e))return this.setCustomValidity(""),!0;const r=!i||this.isLastPage()?this.getComponents():this.currentPage.components;return r.reduce((i,r)=>r.checkValidity(e,t,n)&&i,!0)}get errors(){return this.isLastPage()?super.errors:this.currentPage.errors}focusOnComponent(e){let t=0;const[n]=this.pages.filter((n,i)=>!!n.getComponent(e)&&(t=i,!0));return n&&n!==this.currentPage?this.setPage(t).then(()=>{this.checkValidity(this.submission.data,!0,this.submission.data),this.showErrors(),super.focusOnComponent(e)}):super.focusOnComponent(e)}}return s.setBaseUrl=i.setBaseUrl,s.setApiUrl=i.setApiUrl,s.setAppUrl=i.setAppUrl,s}),e("skylark-formio/displays/Displays",["skylark-lodash","../PDF","../Webform","../Wizard"],function(e,t,n,i){"use strict";class r{static addDisplay(e,t){r.displays[e]=t}static addDisplays(t){r.displays=e.merge(r.displays,t)}static getDisplay(e){return r.displays[e]}static getDisplays(){return r.displays}}return r.displays={pdf:t,webform:n,wizard:i},r}),e("skylark-formio/displays/index",["./Displays"],function(e){"use strict";return e}),e("skylark-formio/Form",["./Element","./Formio","./displays/index","./templates/index","./utils/utils","./vendors/getify/npo"],function(e,t,n,i,r,s){"use strict";class o extends e{constructor(...e){let n=e[0]instanceof HTMLElement?e[2]:e[1];t.options&&t.options.form&&(n=Object.assign(n,t.options.form)),super(n),this.ready=new s((e,t)=>{this.readyResolve=e,this.readyReject=t}),this.instance=null,e[0]instanceof HTMLElement?(this.element=e[0],this.options=e[2]||{},this.options.events=this.events,this.setForm(e[1]).then(()=>this.readyResolve(this.instance)).catch(this.readyReject)):e[0]?(this.element=null,this.options=e[1]||{},this.options.events=this.events,this.setForm(e[0]).then(()=>this.readyResolve(this.instance)).catch(this.readyReject)):(this.element=null,this.options={},this.options.events=this.events),this.display=""}create(e){return this.options&&(this.options.flatten||"flat"===this.options.renderMode)&&(e="form"),this.display=e,n.displays[e]?new n.displays[e](this.element,this.options):new n.displays.webform(this.element,this.options)}set form(e){return this.setForm(e)}errorForm(e){return{components:[{label:"HTML",tag:"div",className:"error error-message alert alert-danger ui red message",attrs:[{attr:"role",value:"alert"}],key:"errorMessage",type:"htmlelement",input:!1,content:"string"==typeof e?e:e.message}]}}setForm(e){let n;if("string"==typeof(e=e||this.form)){const i=new t(e);let r;n=this.getSubmission(i).catch(e=>{r=e}).then(t=>i.loadForm().catch(e=>{r=e}).then(n=>{if(r&&(n=this.errorForm(r)),this.instance=this.instance||this.create(n.display),this.instance.url=e,this.instance.nosubmit=!1,this._form=this.instance.form=n,t&&(this.instance.submission=t),r)throw r;return this.instance}))}else this.instance=this.instance||this.create(e.display),this._form=this.instance.form=e,n=this.instance.ready;return n.then(()=>(this.element=this.instance.element,this.instance))}getSubmission(e){return e.submissionId?e.loadSubmission():s.resolve()}get form(){return this._form}setDisplay(e){return this.display===e&&this.instance?s.resolve(this.instance):(this.form.display=e,this.instance.destroy(),this.instance=this.create(e),this.setForm(this.form))}empty(){if(this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)}static embed(e){return new s(t=>{e&&e.src||t();const n=this.id||`formio-${Math.random().toString(36).substring(7)}`,i=e.class||"formio-form-wrapper";let r=e.styles?`<link rel="stylesheet" href="${e.styles}">`:"";r+=`<div id="${n}" class="${i}"></div>`,document.write(r);let s=0;const a=setInterval(()=>{s++;const i=document.getElementById(n);(i||s>10)&&(t(new o(i,e.src).ready),clearInterval(a))},10)})}sanitize(e){return r.sanitize(e,this.options)}setContent(e,t){return e instanceof HTMLElement&&(e.innerHTML=this.sanitize(t),!0)}build(){if(!this.instance)return s.reject("Form not ready. Use form.ready promise");if(!this.element)return s.reject("No DOM element for form.");const e=this.options&&this.options.template?this.options.template:"bootstrap",t=i[e].loader||i.bootstrap.loader;return this.setContent(this.element,t.form),this.render().then(e=>(this.setContent(this.element,e),this.attach(this.element).then(()=>this.instance))).then(e=>(this.emit("build",e),e))}render(){return this.instance?s.resolve(this.instance.render()).then(e=>(this.emit("render",e),e)):s.reject("Form not ready. Use form.ready promise")}attach(e){return this.instance?(this.element=e,this.instance.attach(this.element).then(e=>(this.emit("attach",e),e))):s.reject("Form not ready. Use form.ready promise")}}return t.embedForm=(e=>o.embed(e)),t.createForm=((...e)=>new o(...e).ready),t.Form=o}),e("skylark-formio/components/form/Form",["skylark-lodash","../_classes/component/Component","../../vendors/eventemitter2/EventEmitter2","../../vendors/getify/npo","../../utils/utils","../../Formio","../../Form"],function(e,t,n,i,r,s,o){"use strict";return class a extends t{static schema(...e){return t.schema({label:"Form",type:"form",key:"form",src:"",reference:!0,form:"",path:"",tableView:!0},...e)}static get builderInfo(){return{title:"Nested Form",icon:"wpforms",group:"premium",documentation:"http://help.form.io/userguide/#form",weight:110,schema:a.schema()}}init(){if(super.init(),this.formObj={display:this.component.display,settings:this.component.settings,components:this.component.components},this.subForm=null,this.formSrc="",this.component.src&&(this.formSrc=this.component.src),this.component.src||this.options.formio||!this.component.form&&!this.component.path||(this.component.project?(this.formSrc=s.getBaseUrl(),r.isMongoId(this.component.project)&&(this.formSrc+="/project"),this.formSrc+=`/${this.component.project}`,this.options.project=this.formSrc):(this.formSrc=s.getProjectUrl(),this.options.project=this.formSrc),this.component.form?this.formSrc+=`/form/${this.component.form}`:this.component.path&&(this.formSrc+=`/${this.component.path}`)),!this.formSrc&&this.options.formio){const e=this.options.formio.formsUrl;if(this.component.path){const t=e.split("/");t.pop(),this.formSrc=`${t.join("/")}/${this.component.path}`}this.component.form&&(this.formSrc=`${e}/${this.component.form}`)}(this.component.revision||0===this.component.revision)&&(this.formSrc+=`/v/${this.component.revision}`)}get dataReady(){return this.subFormReady||i.resolve()}get defaultValue(){return this.subForm?super.defaultValue:null}get defaultSchema(){return a.schema()}get emptyValue(){return{data:{}}}get ready(){return this.subFormReady||i.resolve()}getSubOptions(t={}){return this.options?(this.options.base&&(t.base=this.options.base),this.options.project&&(t.project=this.options.project),this.options.readOnly&&(t.readOnly=this.options.readOnly),this.options.breadcrumbSettings&&(t.breadcrumbSettings=this.options.breadcrumbSettings),this.options.buttonSettings&&(t.buttonSettings=e.clone(this.options.buttonSettings)),this.options.viewAsHtml&&(t.viewAsHtml=this.options.viewAsHtml),this.options.language&&(t.language=this.options.language),this.options.template&&(t.template=this.options.template),this.options.templates&&(t.templates=this.options.templates),this.options.renderMode&&(t.renderMode=this.options.renderMode),this.options.attachMode&&(t.attachMode=this.options.attachMode),this.options.iconset&&(t.iconset=this.options.iconset),t.events=this.createEmitter(),e.set(t,"buttonSettings.showSubmit",!1),t):t}render(){if(this.builderMode)return super.render(this.component.label||"Nested form");const e=this.subForm?this.subForm.render():this.renderTemplate("loading");return super.render(e)}asString(e){return this.getValueAsString(e)}getValueAsString(e){return e?!e.data&&e._id?e._id:e.data&&Object.keys(e.data).length?"[Complex Data]":"No data provided":"No data provided"}attach(e){return this.builderMode?super.attach(e):super.attach(e).then(()=>this.createSubForm()).then(()=>{this.empty(e),this.options.builder?this.setContent(e,this.ce("div",{class:"text-muted text-center p-2"},this.text(this.formObj.title))):(this.setContent(e,this.render()),this.subForm&&this.subForm.attach(e))})}detach(){this.subForm&&this.subForm.detach(),super.detach()}get currentForm(){return this._currentForm}set currentForm(e){this._currentForm=e,this.subForm&&this.subForm.getComponents().forEach(e=>{e.currentForm=this})}destroy(){this.subForm&&(this.subForm.destroy(),this.subForm=null,this.subFormReady=null),super.destroy()}redraw(){return this.subForm&&(this.subForm.form=this.formObj),super.redraw()}everyComponent(...e){this.subForm&&this.subForm.everyComponent(...e)}createSubForm(){return this.subFormReady=this.loadSubForm().then(e=>{if(e)return r.eachComponent(e.components,e=>{"button"!==e.type||"submit"!==e.action&&e.action||(e.hidden=!0)}),this.subForm&&this.subForm.destroy(),new o(e,this.getSubOptions()).ready.then(e=>(this.subForm=e,this.subForm.currentForm=this,this.subForm.parent=this,this.subForm.parentVisible=this.visible,this.subForm.on("change",()=>{this.subForm&&(this.dataValue=this.subForm.getValue(),this.triggerChange({noEmit:!0}))}),this.subForm.url=this.formSrc,this.subForm.nosubmit=!0,this.subForm.root=this.root,this.restoreValue(),this.subForm))}),this.subFormReady}loadSubForm(){return this.builderMode||this.isHidden()?i.resolve():this.formObj&&this.formObj.components&&Array.isArray(this.formObj.components)&&this.formObj.components.length?(this.root&&this.root.form&&this.root.form.config&&!this.formObj.config&&(this.formObj.config=this.root.form.config),i.resolve(this.formObj)):this.formSrc?new s(this.formSrc).loadForm({params:{live:1}}).then(e=>(this.formObj=e,e)):i.resolve()}checkComponentValidity(e,t,n){return this.subForm?this.subForm.checkValidity(this.dataValue.data,t):super.checkComponentValidity(e,t,n)}checkComponentConditions(e,t,n){const i=super.checkComponentConditions(e,t,n);return i&&this.subForm&&this.subForm.hasCondition()?this.subForm.checkConditions(this.dataValue.data):i}calculateValue(e,t,n){return this.subForm?this.subForm.calculateValue(this.dataValue.data,t):super.calculateValue(e,t,n)}setPristine(e){super.setPristine(e),this.subForm&&this.subForm.setPristine(e)}get shouldSubmit(){return this.subFormReady&&(!this.component.hasOwnProperty("reference")||this.component.reference)&&!this.isHidden()}getSubFormData(){return"pdf"===e.get(this.subForm,"form.display")?this.subForm.getSubmission():i.resolve(this.dataValue)}submitSubForm(e){if(this.shouldSubmit){const t=this.subFormReady||this.createSubForm();return t.then(()=>this.subForm?(this.subForm.nosubmit=!1,this.subForm.submitForm().then(e=>(this.subForm.loading=!1,this.dataValue=e.submission,this.dataValue)).catch(t=>e?(this.subForm.onSubmissionError(t),i.reject(t)):{})):this.dataValue)}return this.getSubFormData()}beforePage(e){return this.submitSubForm(!0).then(()=>super.beforePage(e))}beforeSubmit(){const e=this.dataValue;return e&&e._id&&e.form?(this.dataValue=e,i.resolve(this.dataValue)):this.submitSubForm(!1).then(()=>this.dataValue).then(()=>super.beforeSubmit())}isHidden(){return!this.visible||!super.checkConditions(this.rootValue)}setValue(t,n={}){const i=super.setValue(t,n);if(this.subForm)if(t&&t._id&&this.subForm.formio&&e.isEmpty(t.data)){const e=`${this.subForm.formio.formsUrl}/${t.form}/submission/${t._id}`;this.subForm.setUrl(e,this.options),this.subForm.loadSubmission()}else this.subForm.setValue(t,n);return i}getValue(){return this.subForm?this.subForm.getValue():this.dataValue}get errors(){let e=super.errors;return this.subForm&&(e=e.concat(this.subForm.errors)),e}updateSubFormVisibility(){this.subForm&&(this.subForm.parentVisible=this.visible)}get visible(){return super.visible}set visible(e){super.visible=e,this.updateSubFormVisibility()}get parentVisible(){return super.parentVisible}set parentVisible(e){super.parentVisible=e,this.updateSubFormVisibility()}isInternalEvent(e){switch(e){case"focus":case"blur":case"componentChange":case"componentError":case"error":case"formLoad":case"languageChanged":case"render":case"checkValidity":case"initialized":case"submit":case"submitButton":case"nosubmit":case"updateComponent":case"submitDone":case"submissionDeleted":case"requestDone":case"nextPage":case"prevPage":case"wizardNavigationClicked":case"updateWizardNav":case"restoreDraft":case"saveDraft":case"saveComponent":case"pdfUploaded":return!0;default:return!1}}createEmitter(){const e=new n({wildcard:!1,maxListeners:0}),t=e.emit,i=this;return e.emit=function(e,...n){const r=e.replace(`${i.options.namespace}.`,"");t.call(this,e,...n),i.isInternalEvent(r)||i.emit(r,...n)},e}deleteValue(){super.setValue(null,{noUpdateEvent:!0,noDefault:!0}),this.unset()}}}),e("skylark-formio/components/hidden/Hidden",["../_classes/input/Input"],function(e){"use strict";return class t extends e{static schema(...t){return e.schema({type:"hidden",tableView:!1,inputType:"hidden"},...t)}static get builderInfo(){return{title:"Hidden",group:"data",icon:"user-secret",weight:0,documentation:"http://help.form.io/userguide/#hidden",schema:t.schema()}}get defaultSchema(){return t.schema()}get inputInfo(){const e=super.elementInfo();return e.type="input",e.attr.type="hidden",e.changeEvent="change",e}validateMultiple(){return!1}labelIsHidden(){return!0}get emptyValue(){return""}setValue(e,t={}){return this.updateValue(e,t)}getValue(){return this.dataValue}}}),e("skylark-formio/components/html/HTML",["../_classes/component/Component","skylark-lodash"],function(e,t){"use strict";return class n extends e{static schema(...t){return e.schema({label:"HTML",type:"htmlelement",tag:"p",attrs:[],content:"",input:!1,persistent:!1},...t)}static get builderInfo(){return{title:"HTML Element",group:"layout",icon:"code",weight:0,documentation:"http://help.form.io/userguide/#html-element-component",schema:n.schema()}}get defaultSchema(){return n.schema()}get content(){if(this.builderMode)return this.component.content;const e=t.get(this.root,"submission",{});return this.component.content?this.interpolate(this.component.content,{metadata:e.metadata||{},submission:e,data:this.rootValue,row:this.data}):""}get singleTags(){return["br","img","hr"]}checkRefreshOn(e){super.checkRefreshOn(e),!this.builderMode&&this.component.refreshOnChange&&this.element&&this.conditionallyVisible(this.data,this.row)&&this.setContent(this.element,this.renderContent())}renderContent(){const e=t.get(this.root,"submission",{});return this.renderTemplate("html",{component:this.component,tag:this.component.tag,attrs:(this.component.attrs||[]).map(t=>({attr:t.attr,value:this.interpolate(t.value,{metadata:e.metadata||{},submission:e,data:this.rootValue,row:this.data})})),content:this.content,singleTags:this.singleTags})}render(){return super.render(this.renderContent())}attach(e){return this.loadRefs(e,{html:"single"}),super.attach(e)}}}),e("skylark-formio/components/panel/Panel",["../_classes/nested/NestedComponent"],function(e){"use strict";return class t extends e{static schema(...t){return e.schema({label:"Panel",type:"panel",key:"panel",title:"Panel",theme:"default",breadcrumb:"default",components:[],clearOnHide:!1,input:!1,tableView:!1,persistent:!1},...t)}static get builderInfo(){return{title:"Panel",icon:"list-alt",group:"layout",documentation:"http://help.form.io/userguide/#panels",weight:30,schema:t.schema()}}get defaultSchema(){return t.schema()}checkValidity(e,t,n){return this.checkCondition(n,e)?this.getComponents().reduce((i,r)=>(!r.checkValidity(e,t,n)&&this.collapsed&&(this.collapsed=!1),r.checkValidity(e,t,n)&&i),super.checkValidity(e,t,n)):(this.setCustomValidity(""),!0)}get templateName(){return"panel"}constructor(...e){super(...e),this.noField=!0}}}),e("skylark-formio/components/password/Password",["../textfield/TextField","skylark-lodash"],function(e,t){"use strict";return class n extends e{static schema(...t){return e.schema({type:"password",label:"Password",key:"password",protected:!0,tableView:!1},...t)}static get builderInfo(){return{title:"Password",icon:"asterisk",group:"basic",documentation:"http://help.form.io/userguide/#password",weight:40,schema:n.schema()}}get defaultSchema(){return t.omit(n.schema(),["protected","tableView"])}get inputInfo(){const e=super.inputInfo;return e.attr.type="password",e}}}),e("skylark-formio/components/phonenumber/PhoneNumber",["../textfield/TextField"],function(e){"use strict";return class t extends e{static schema(...t){return e.schema({type:"phoneNumber",label:"Phone Number",key:"phoneNumber",inputType:"tel",inputMask:"(999) 999-9999"},...t)}static get builderInfo(){return{title:"Phone Number",group:"advanced",icon:"phone-square",weight:30,documentation:"http://help.form.io/userguide/#phonenumber",schema:t.schema()}}get defaultSchema(){return t.schema()}}}),e("skylark-formio/components/radio/Radio",["skylark-lodash","../_classes/field/Field"],function(e,t){"use strict";return class n extends t{static schema(...e){return t.schema({type:"radio",inputType:"radio",label:"Radio",key:"radio",values:[{label:"",value:""}],fieldSet:!1},...e)}static get builderInfo(){return{title:"Radio",group:"basic",icon:"dot-circle-o",weight:80,documentation:"http://help.form.io/userguide/#radio",schema:n.schema()}}constructor(e,t,n){super(e,t,n),this.previousValue=this.dataValue||null}get defaultSchema(){return n.schema()}get inputInfo(){const e=super.elementInfo();return e.type="input",e.changeEvent="click",e.attr.class="form-check-input",e.attr.name=e.attr.name+=`[${this.id}]`,e}get emptyValue(){return""}get isRadio(){return"radio"===this.component.inputType}render(){return super.render(this.renderTemplate("radio",{input:this.inputInfo,inline:this.component.inline,values:this.component.values,value:this.dataValue,row:this.row}))}attach(e){return this.loadRefs(e,{input:"multiple",wrapper:"multiple"}),this.refs.input.forEach((e,t)=>{this.addEventListener(e,this.inputInfo.changeEvent,()=>this.updateValue(null,{modified:!0})),this.addShortcut(e,this.component.values[t].shortcut),this.isRadio&&(e.checked=this.dataValue===e.value,this.addEventListener(e,"keyup",t=>{" "===t.key&&this.dataValue===e.value&&(t.preventDefault(),this.updateValue(null,{modified:!0}))}))}),super.attach(e)}detach(e){e&&this.refs.input&&this.refs.input.forEach((e,t)=>{this.removeShortcut(e,this.component.values[t].shortcut)})}getValue(){if(this.viewOnly||!this.refs.input||!this.refs.input.length)return this.dataValue;let e=this.dataValue;return this.refs.input.forEach(t=>{t.checked&&(e=t.value)}),e}getValueAsString(t){if(!t)return"";if(!e.isString(t))return e.toString(t);const n=e.find(this.component.values,e=>e.value===t);return e.get(n,"label","")}setValueAt(e,t){if(this.refs.input&&this.refs.input[e]&&null!==t&&void 0!==t){const n=this.refs.input[e].value;this.refs.input[e].checked=n===t.toString()}}updateValue(e,t){const n=super.updateValue(e,t);if(n&&this.refs.wrapper){const e=this.dataValue,t="radio-selected";this.refs.wrapper.forEach((n,i)=>{const r=this.refs.input[i];r&&r.value.toString()===e.toString()?this.addClass(n,t):this.removeClass(n,t)})}if(!t||!t.modified||!this.isRadio)return n;this.currentValue=this.dataValue;const i=!(t&&t.noUpdateEvent)&&this.previousValue===this.currentValue;return i&&(this.resetValue(),this.triggerChange()),this.previousValue=this.dataValue,n}normalizeValue(e){const t=this.component.dataType||"auto";switch(t){case"auto":!isNaN(parseFloat(e))&&isFinite(e)&&(e=+e),"true"===e&&(e=!0),"false"===e&&(e=!1);break;case"number":e=+e;break;case"string":e="object"==typeof e?JSON.stringify(e):e.toString();break;case"boolean":e=!(!e||"false"===e.toString())}return super.normalizeValue(e)}}}),e("skylark-formio/components/recaptcha/ReCaptcha",["../_classes/component/Component","../../Formio","skylark-lodash","../../vendors/getify/npo"],function(e,t,n,i){"use strict";var r=n.get;return class n extends e{static schema(...t){return e.schema({type:"recaptcha",key:"recaptcha",label:"reCAPTCHA"},...t)}static get builderInfo(){return{title:"reCAPTCHA",group:"premium",icon:"refresh",documentation:"http://help.form.io/userguide/#recaptcha",weight:40,schema:n.schema()}}render(){return this.builderMode?super.render("reCAPTCHA"):super.render("",!0)}createInput(){if(this.builderMode)this.append(this.text(this.name));else{const e=r(this.root.form,"settings.recaptcha.siteKey");if(e){const n=`https://www.google.com/recaptcha/api.js?render=${e}`;this.recaptchaApiReady=t.requireLibrary("googleRecaptcha","grecaptcha",n,!0)}else console.warn("There is no Site Key specified in settings in form JSON")}}createLabel(){}verify(e){const n=r(this.root.form,"settings.recaptcha.siteKey");if(n){if(!this.recaptchaApiReady){const e=`https://www.google.com/recaptcha/api.js?render=${r(this.root.form,"settings.recaptcha.siteKey")}`;this.recaptchaApiReady=t.requireLibrary("googleRecaptcha","grecaptcha",e,!0)}this.recaptchaApiReady&&(this.recaptchaVerifiedPromise=new i((t,i)=>{this.recaptchaApiReady.then(()=>{grecaptcha.ready(()=>{grecaptcha.execute(n,{action:e}).then(e=>this.sendVerificationRequest(e)).then(e=>(this.setValue(e),t(e)))})}).catch(()=>i())}))}else console.warn("There is no Site Key specified in settings in form JSON")}beforeSubmit(){return this.recaptchaVerifiedPromise?this.recaptchaVerifiedPromise.then(()=>super.beforeSubmit()):super.beforeSubmit()}sendVerificationRequest(e){return t.makeStaticRequest(`${t.projectUrl}/recaptcha?recaptchaToken=${e}`)}setValue(e){const t=this.hasChanged(e,this.dataValue);return this.dataValue=e,t}getValue(){return this.dataValue}}}),e("skylark-choices/vendors/fuse",[],function(){"use strict";function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function f(e){return Array.isArray?Array.isArray(e):"[object Array]"===_(e)}var m=1/0;function g(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-m?"-0":t}(e)}function y(e){return"string"==typeof e}function v(e){return"number"==typeof e}function b(e){return!0===e||!1===e||function(e){return k(e)&&null!==e}(e)&&"[object Boolean]"==_(e)}function k(t){return"object"===e(t)}function w(e){return void 0!==e&&null!==e}function x(e){return!e.trim().length}function _(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var C=function(e){return"Invalid value for key ".concat(e)},E=function(e){return"Pattern length exceeds max of ".concat(e,".")},S=function(e){return"Missing ".concat(e," property in key")},A=function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")},M=Object.prototype.hasOwnProperty,T=function(){function e(n){var i=this;t(this,e),this._keys=[],this._keyMap={};var r=0;n.forEach(function(e){var t=D(e);r+=t.weight,i._keys.push(t),i._keyMap[t.id]=t,r+=t.weight}),this._keys.forEach(function(e){e.weight/=r})}return i(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function D(e){var t=null,n=null,i=null,r=1;if(y(e)||f(e))i=e,t=O(e),n=P(e);else{if(!M.call(e,"name"))throw new Error(S("name"));var s=e.name;if(i=s,M.call(e,"weight")&&(r=e.weight)<=0)throw new Error(A(s));t=O(s),n=P(s)}return{path:t,id:n,weight:r,src:i}}function O(e){return f(e)?e:e.split(".")}function P(e){return f(e)?e.join("."):e}var L={useExtendedSearch:!1,getFn:function(e,t){var n=[],i=!1;return function e(t,r,s){if(w(t))if(r[s]){var o=r[s],a=t[o];if(!w(a))return;if(s===r.length-1&&(y(a)||v(a)||b(a)))n.push(g(a));else if(f(a)){i=!0;for(var l=0,u=a.length;l<u;l+=1)e(a[l],r,s+1)}else r.length&&e(a,r,s+1)}else n.push(t)}(e,y(t)?t.split("."):t,0),i?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1},I=o({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},L),R=/[^ ]+/g;var F=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.getFn,r=void 0===i?I.getFn:i;t(this,e),this.norm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=new Map,n=Math.pow(10,e);return{get:function(e){var i=e.match(R).length;if(t.has(i))return t.get(i);var r=1/Math.sqrt(i),s=parseFloat(Math.round(r*n)/n);return t.set(i,s),s},clear:function(){t.clear()}}}(3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return i(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach(function(t,n){e._keysMap[t.id]=n})}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,y(this.docs[0])?this.docs.forEach(function(t,n){e._addString(t,n)}):this.docs.forEach(function(t,n){e._addObject(t,n)}),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();y(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(w(e)&&!x(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,i={i:t,$:{}};this.keys.forEach(function(t,r){var s=n.getFn(e,t.path);if(w(s))if(f(s))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:s}];t.length;){var o=t.pop(),a=o.nestedArrIndex,l=o.value;if(w(l))if(y(l)&&!x(l)){var u={v:l,i:a,n:n.norm.get(l)};e.push(u)}else f(l)&&l.forEach(function(e,n){t.push({nestedArrIndex:n,value:e})})}i.$[r]=e}();else if(!x(s)){var o={v:s,n:n.norm.get(s)};i.$[r]=o}}),this.records.push(i)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.getFn,r=void 0===i?I.getFn:i,s=new F({getFn:r});return s.setKeys(e.map(D)),s.setSources(t),s.create(),s}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,i=void 0===n?0:n,r=t.currentLocation,s=void 0===r?0:r,o=t.expectedLocation,a=void 0===o?0:o,l=t.distance,u=void 0===l?I.distance:l,c=t.ignoreLocation,h=void 0===c?I.ignoreLocation:c,d=i/e.length;if(h)return d;var p=Math.abs(a-s);return u?d+p/u:p?1:d}var j=32;function z(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.location,s=void 0===r?I.location:r,o=i.distance,a=void 0===o?I.distance:o,l=i.threshold,u=void 0===l?I.threshold:l,c=i.findAllMatches,h=void 0===c?I.findAllMatches:c,d=i.minMatchCharLength,p=void 0===d?I.minMatchCharLength:d,f=i.includeMatches,m=void 0===f?I.includeMatches:f,g=i.ignoreLocation,y=void 0===g?I.ignoreLocation:g;if(t.length>j)throw new Error(E(j));for(var v,b=t.length,k=e.length,w=Math.max(0,Math.min(s,k)),x=u,_=w,C=p>1||m,S=C?Array(k):[];(v=e.indexOf(t,_))>-1;){var A=N(t,{currentLocation:v,expectedLocation:w,distance:a,ignoreLocation:y});if(x=Math.min(A,x),_=v+b,C)for(var M=0;M<b;)S[v+M]=1,M+=1}_=-1;for(var T=[],D=1,O=b+k,P=1<<b-1,L=0;L<b;L+=1){for(var R=0,F=O;R<F;){var V=N(t,{errors:L,currentLocation:w+F,expectedLocation:w,distance:a,ignoreLocation:y});V<=x?R=F:O=F,F=Math.floor((O-R)/2+R)}O=F;var z=Math.max(1,w-F+1),U=h?k:Math.min(w+F,k)+b,$=Array(U+2);$[U+1]=(1<<L)-1;for(var H=U;H>=z;H-=1){var B=H-1,q=n[e.charAt(B)];if(C&&(S[B]=+!!q),$[H]=($[H+1]<<1|1)&q,L&&($[H]|=(T[H+1]|T[H])<<1|1|T[H+1]),$[H]&P&&(D=N(t,{errors:L,currentLocation:B,expectedLocation:w,distance:a,ignoreLocation:y}))<=x){if(x=D,(_=B)<=w)break;z=Math.max(1,2*w-_)}}var Y=N(t,{errors:L+1,currentLocation:w,expectedLocation:w,distance:a,ignoreLocation:y});if(Y>x)break;T=$}var W={isMatch:_>=0,score:Math.max(.001,D)};if(C){var K=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.minMatchCharLength,n=[],i=-1,r=-1,s=0,o=e.length;s<o;s+=1){var a=e[s];a&&-1===i?i=s:a||-1===i||((r=s-1)-i+1>=t&&n.push([i,r]),i=-1)}e[s-1]&&s-i>=t&&n.push([i,s-1]);return n}(S,p);K.length?m&&(W.indices=K):W.isMatch=!1}return W}var U=function(){function e(n){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.location,o=void 0===s?I.location:s,a=r.threshold,l=void 0===a?I.threshold:a,u=r.distance,c=void 0===u?I.distance:u,h=r.includeMatches,d=void 0===h?I.includeMatches:h,p=r.findAllMatches,f=void 0===p?I.findAllMatches:p,m=r.minMatchCharLength,g=void 0===m?I.minMatchCharLength:m,y=r.isCaseSensitive,v=void 0===y?I.isCaseSensitive:y,b=r.ignoreLocation,k=void 0===b?I.ignoreLocation:b;if(t(this,e),this.options={location:o,threshold:l,distance:c,includeMatches:d,findAllMatches:f,minMatchCharLength:g,isCaseSensitive:v,ignoreLocation:k},this.pattern=v?n:n.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(e,t){i.chunks.push({pattern:e,alphabet:function(e){for(var t={},n=0,i=e.length;n<i;n+=1){var r=e.charAt(n);t[r]=(t[r]||0)|1<<i-n-1}return t}(e),startIndex:t})},x=this.pattern.length;if(x>j){for(var _=0,C=x%j,E=x-C;_<E;)w(this.pattern.substr(_,j),_),_+=j;if(C){var S=x-j;w(this.pattern.substr(S),S)}}else w(this.pattern,0)}}return i(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,i=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var r={isMatch:!0,score:0};return i&&(r.indices=[[0,e.length-1]]),r}var s=this.options,o=s.location,a=s.distance,l=s.threshold,u=s.findAllMatches,c=s.minMatchCharLength,h=s.ignoreLocation,p=[],f=0,m=!1;this.chunks.forEach(function(t){var n=t.pattern,r=t.alphabet,s=t.startIndex,g=z(e,n,r,{location:o+s,distance:a,threshold:l,findAllMatches:u,minMatchCharLength:c,includeMatches:i,ignoreLocation:h}),y=g.isMatch,v=g.score,b=g.indices;y&&(m=!0),f+=v,y&&b&&(p=[].concat(d(p),d(b)))});var g={isMatch:m,score:m?f/this.chunks.length:1};return m&&i&&(g.indices=p),g}}]),e}(),$=function(){function e(n){t(this,e),this.pattern=n}return i(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return H(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return H(e,this.singleRegex)}}]),e}();function H(e,t){var n=e.match(t);return n?n[1]:null}var B=function(e){a(r,e);var n=h(r);function r(e){return t(this,r),n.call(this,e)}return i(r,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),r}($),q=function(e){a(r,e);var n=h(r);function r(e){return t(this,r),n.call(this,e)}return i(r,[{key:"search",value:function(e){var t=e.indexOf(this.pattern),n=-1===t;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),r}($),Y=function(e){a(r,e);var n=h(r);function r(e){return t(this,r),n.call(this,e)}return i(r,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),r}($),W=function(e){a(r,e);var n=h(r);function r(e){return t(this,r),n.call(this,e)}return i(r,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),r}($),K=function(e){a(r,e);var n=h(r);function r(e){return t(this,r),n.call(this,e)}return i(r,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),r}($),G=function(e){a(r,e);var n=h(r);function r(e){return t(this,r),n.call(this,e)}return i(r,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),r}($),J=function(e){a(r,e);var n=h(r);function r(e){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s.location,a=void 0===o?I.location:o,l=s.threshold,u=void 0===l?I.threshold:l,c=s.distance,h=void 0===c?I.distance:c,d=s.includeMatches,p=void 0===d?I.includeMatches:d,f=s.findAllMatches,m=void 0===f?I.findAllMatches:f,g=s.minMatchCharLength,y=void 0===g?I.minMatchCharLength:g,v=s.isCaseSensitive,b=void 0===v?I.isCaseSensitive:v,k=s.ignoreLocation,w=void 0===k?I.ignoreLocation:k;return t(this,r),(i=n.call(this,e))._bitapSearch=new U(e,{location:a,threshold:u,distance:h,includeMatches:p,findAllMatches:m,minMatchCharLength:y,isCaseSensitive:b,ignoreLocation:w}),i}return i(r,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),r}($),Z=function(e){a(r,e);var n=h(r);function r(e){return t(this,r),n.call(this,e)}return i(r,[{key:"search",value:function(e){for(var t,n=0,i=[],r=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+r,i.push([t,n-1]);var s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),r}($),X=[B,Z,Y,W,G,K,q,J],Q=X.length,ee=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,te="|";var ne=new Set([J.type,Z.type]),ie=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.isCaseSensitive,s=void 0===r?I.isCaseSensitive:r,o=i.includeMatches,a=void 0===o?I.includeMatches:o,l=i.minMatchCharLength,u=void 0===l?I.minMatchCharLength:l,c=i.ignoreLocation,h=void 0===c?I.ignoreLocation:c,d=i.findAllMatches,p=void 0===d?I.findAllMatches:d,f=i.location,m=void 0===f?I.location:f,g=i.threshold,y=void 0===g?I.threshold:g,v=i.distance,b=void 0===v?I.distance:v;t(this,e),this.query=null,this.options={isCaseSensitive:s,includeMatches:a,minMatchCharLength:u,findAllMatches:p,ignoreLocation:h,location:m,threshold:y,distance:b},this.pattern=s?n:n.toLowerCase(),this.query=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split(te).map(function(e){for(var n=e.trim().split(ee).filter(function(e){return e&&!!e.trim()}),i=[],r=0,s=n.length;r<s;r+=1){for(var o=n[r],a=!1,l=-1;!a&&++l<Q;){var u=X[l],c=u.isMultiMatch(o);c&&(i.push(new u(c,t)),a=!0)}if(!a)for(l=-1;++l<Q;){var h=X[l],d=h.isSingleMatch(o);if(d){i.push(new h(d,t));break}}}return i})}(this.pattern,this.options)}return i(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,i=n.includeMatches,r=n.isCaseSensitive;e=r?e:e.toLowerCase();for(var s=0,o=[],a=0,l=0,u=t.length;l<u;l+=1){var c=t[l];o.length=0,s=0;for(var h=0,p=c.length;h<p;h+=1){var f=c[h],m=f.search(e),g=m.isMatch,y=m.indices,v=m.score;if(!g){a=0,s=0,o.length=0;break}if(s+=1,a+=v,i){var b=f.constructor.type;ne.has(b)?o=[].concat(d(o),d(y)):o.push(y)}}if(s){var k={isMatch:!0,score:a/s};return i&&(k.indices=o),k}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),re=[];function se(e,t){for(var n=0,i=re.length;n<i;n+=1){var r=re[n];if(r.condition(e,t))return new r(e,t)}return new U(e,t)}var oe={AND:"$and",OR:"$or"},ae={PATH:"$path",PATTERN:"$val"},le=function(e){return!(!e[oe.AND]&&!e[oe.OR])},ue=function(e){return!!e[ae.PATH]},ce=function(e){return!f(e)&&k(e)&&!le(e)},he=function(e){return r({},oe.AND,Object.keys(e).map(function(t){return r({},t,e[t])}))};function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.auto,r=void 0===i||i;return le(e)||(e=he(e)),function e(n){var i=Object.keys(n),s=ue(n);if(!s&&i.length>1&&!le(n))return e(he(n));if(ce(n)){var o=s?n[ae.PATH]:i[0],a=s?n[ae.PATTERN]:n[o];if(!y(a))throw new Error(C(o));var l={keyId:P(o),pattern:a};return r&&(l.searcher=se(a,t)),l}var u={children:[],operator:i[0]};return i.forEach(function(t){var i=n[t];f(i)&&i.forEach(function(t){u.children.push(e(t))})}),u}(e)}function pe(e,t){var n=e.matches;t.matches=[],w(n)&&n.forEach(function(e){if(w(e.indices)&&e.indices.length){var n=e.indices,i=e.value,r={indices:n,value:i};e.key&&(r.key=e.key.src),e.idx>-1&&(r.refIndex=e.idx),t.matches.push(r)}})}function fe(e,t){t.score=e.score}var me=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;t(this,e),this.options=o({},I,{},i),this.options.useExtendedSearch,this._keyStore=new T(this.options.keys),this.setCollection(n,r)}return i(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof F))throw new Error("Incorrect 'index' type");this._myIndex=t||V(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(e){w(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,i=this._docs.length;n<i;n+=1){var r=this._docs[n];e(r,n)&&(this.removeAt(n),n-=1,i-=1,t.push(r))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,i=void 0===n?-1:n,r=this.options,s=r.includeMatches,o=r.includeScore,a=r.shouldSort,l=r.sortFn,u=r.ignoreFieldNorm,c=y(e)?y(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,t){var n=t.ignoreFieldNorm,i=void 0===n?I.ignoreFieldNorm:n;e.forEach(function(e){var t=1;e.matches.forEach(function(e){var n=e.key,r=e.norm,s=e.score,o=n?n.weight:null;t*=Math.pow(0===s&&o?Number.EPSILON:s,(o||1)*(i?1:r))}),e.score=t})}(c,{ignoreFieldNorm:u}),a&&c.sort(l),v(i)&&i>-1&&(c=c.slice(0,i)),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.includeMatches,r=void 0===i?I.includeMatches:i,s=n.includeScore,o=void 0===s?I.includeScore:s,a=[];r&&a.push(pe);o&&a.push(fe);return e.map(function(e){var n=e.idx,i={item:t[n],refIndex:n};return a.length&&a.forEach(function(t){t(e,i)}),i})}(c,this._docs,{includeMatches:s,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=se(e,this.options),n=this._myIndex.records,i=[];return n.forEach(function(e){var n=e.v,r=e.i,s=e.n;if(w(n)){var o=t.searchIn(n),a=o.isMatch,l=o.score,u=o.indices;a&&i.push({item:n,idx:r,matches:[{score:l,value:n,norm:s,indices:u}]})}}),i}},{key:"_searchLogical",value:function(e){var t=this,n=de(e,this.options),i=this._myIndex.records,r={},s=[];return i.forEach(function(e){var i=e.$,o=e.i;if(w(i)){var a=function e(n,i,r){if(!n.children){var s=n.keyId,o=n.searcher,a=t._findMatches({key:t._keyStore.get(s),value:t._myIndex.getValueForItemAtKeyId(i,s),searcher:o});return a&&a.length?[{idx:r,item:i,matches:a}]:[]}switch(n.operator){case oe.AND:for(var l=[],u=0,c=n.children.length;u<c;u+=1){var h=n.children[u],p=e(h,i,r);if(!p.length)return[];l.push.apply(l,d(p))}return l;case oe.OR:for(var f=[],m=0,g=n.children.length;m<g;m+=1){var y=n.children[m],v=e(y,i,r);if(v.length){f.push.apply(f,d(v));break}}return f}}(n,i,o);a.length&&(r[o]||(r[o]={idx:o,item:i,matches:[]},s.push(r[o])),a.forEach(function(e){var t,n=e.matches;(t=r[o].matches).push.apply(t,d(n))}))}}),s}},{key:"_searchObjectList",value:function(e){var t=this,n=se(e,this.options),i=this._myIndex,r=i.keys,s=i.records,o=[];return s.forEach(function(e){var i=e.$,s=e.i;if(w(i)){var a=[];r.forEach(function(e,r){a.push.apply(a,d(t._findMatches({key:e,value:i[r],searcher:n})))}),a.length&&o.push({idx:s,item:i,matches:a})}}),o}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,i=e.searcher;if(!w(n))return[];var r=[];if(f(n))n.forEach(function(e){var n=e.v,s=e.i,o=e.n;if(w(n)){var a=i.searchIn(n),l=a.isMatch,u=a.score,c=a.indices;l&&r.push({score:u,key:t,value:n,idx:s,norm:o,indices:c})}});else{var s=n.v,o=n.n,a=i.searchIn(s),l=a.isMatch,u=a.score,c=a.indices;l&&r.push({score:u,key:t,value:s,norm:o,indices:c})}return r}}]),e}();return me.version="6.4.6",me.createIndex=V,me.parseIndex=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getFn,n=void 0===t?I.getFn:t,i=e.keys,r=e.records,s=new F({getFn:n});return s.setKeys(i),s.setIndexRecords(r),s},me.config=I,me.parseQuery=de,function(){re.push.apply(re,arguments)}(ie),me}),e("skylark-choices/vendors/is-mergeable-object",[],function(){function e(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103;return function(t){return function(e){return!!e&&"object"==typeof e}(t)&&!e(t)}}),e("skylark-choices/vendors/deepmerge",["./is-mergeable-object"],function(e){function t(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function n(e,n,i){return e.concat(n).map(function(e){return t(e,i)})}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function r(e,t){try{return t in e}catch(e){return!1}}function s(e,n,s){var a={};return s.isMergeableObject(e)&&i(e).forEach(function(n){a[n]=t(e[n],s)}),i(n).forEach(function(i){(function(e,t){return r(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(r(e,i)&&s.isMergeableObject(n[i])?a[i]=function(e,t){if(!t.customMerge)return o;var n=t.customMerge(e);return"function"==typeof n?n:o}(i,s)(e[i],n[i],s):a[i]=t(n[i],s))}),a}function o(i,r,o){(o=o||{}).arrayMerge=o.arrayMerge||n,o.isMergeableObject=o.isMergeableObject||e,o.cloneUnlessOtherwiseSpecified=t;var a=Array.isArray(r),l=Array.isArray(i),u=a===l;return u?a?o.arrayMerge(i,r,o):s(i,r,o):t(r,o)}return o.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return o(e,n,t)},{})},o}),e("skylark-redux/utils/symbol-observable",[],function(){"use strict";return(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()}),e("skylark-redux/utils/actionTypes",[],function(){"use strict";const e=()=>Math.random().toString(36).substring(7).split("").join("."),t={INIT:`@@redux/INIT${e()}`,REPLACE:`@@redux/REPLACE${e()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${e()}`};return t}),e("skylark-redux/utils/isPlainObject",[],function(){"use strict";return function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}}),e("skylark-redux/utils/kindOf",[],function(){"use strict";function e(e){if(void 0===e)return"undefined";if(null===e)return"null";const t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";const n=function(e){return"function"==typeof e.constructor?e.constructor.name:null}(e);switch(n){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return n}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}return{kindOf:function(t){let n=typeof t;return n=e(t)}}}),e("skylark-redux/createStore",["./utils/symbol-observable","./utils/actionTypes","./utils/isPlainObject","./utils/kindOf"],function(e,t,n,i){"use strict";return function r(s,o,a){if("function"==typeof o&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if("function"==typeof o&&void 0===a&&(a=o,o=void 0),void 0!==a){if("function"!=typeof a)throw new Error(`Expected the enhancer to be a function. Instead, received: '${i.kindOf(a)}'`);return a(r)(s,o)}if("function"!=typeof s)throw new Error(`Expected the root reducer to be a function. Instead, received: '${i.kindOf(s)}'`);let l=s,u=o,c=[],h=c,d=!1;function p(){h===c&&(h=c.slice())}function f(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function m(e){if("function"!=typeof e)throw new Error(`Expected the listener to be a function. Instead, received: '${i.kindOf(e)}'`);if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");let t=!0;return p(),h.push(e),function(){if(!t)return;if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");t=!1,p();const n=h.indexOf(e);h.splice(n,1),c=null}}function g(e){if(!n(e))throw new Error(`Actions must be plain objects. Instead, the actual type was: '${i.kindOf(e)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,u=l(u,e)}finally{d=!1}const t=c=h;for(let e=0;e<t.length;e++){const n=t[e];n()}return e}return g({type:t.INIT}),{dispatch:g,subscribe:m,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error(`Expected the nextReducer to be a function. Instead, received: '${i.kindOf(e)}`);l=e,g({type:t.REPLACE})},[e]:function(){const t=m;return{subscribe(e){if("object"!=typeof e||null===e)throw new TypeError(`Expected the observer to be an object. Instead, received: '${i.kindOf(e)}'`);function n(){e.next&&e.next(f())}n();const r=t(n);return{unsubscribe:r}},[e](){return this}}}}}}),e("skylark-redux/utils/warning",[],function(){"use strict";return function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}}),e("skylark-redux/combineReducers",["./utils/actionTypes","./utils/warning","./utils/isPlainObject","./utils/kindOf"],function(e,t,n,i){"use strict";return function(r){const s=Object.keys(r),o={};for(let e=0;e<s.length;e++){const n=s[e];void 0===r[n]&&t(`No reducer provided for key "${n}"`),"function"==typeof r[n]&&(o[n]=r[n])}const a=Object.keys(o);let l,u;l={};try{!function(t){Object.keys(t).forEach(n=>{const i=t[n],r=i(void 0,{type:e.INIT});if(void 0===r)throw new Error(`The slice reducer for key "${n}" returned undefined during initialization. `+"If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===i(void 0,{type:e.PROBE_UNKNOWN_ACTION()}))throw new Error(`The slice reducer for key "${n}" returned undefined when probed with a random type. `+`Don't try to handle '${e.INIT}' or other actions in "redux/*" `+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}(o)}catch(e){u=e}return function(r={},s){if(u)throw u;const c=function(t,r,s,o){const a=Object.keys(r),l=s&&s.type===e.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===a.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!n(t))return`The ${l} has unexpected type of "${i.kindOf(t)}". Expected argument to be an object with the following `+`keys: "${a.join('", "')}"`;const u=Object.keys(t).filter(e=>!r.hasOwnProperty(e)&&!o[e]);if(u.forEach(e=>{o[e]=!0}),s&&s.type===e.REPLACE)return;if(u.length>0)return`Unexpected ${u.length>1?"keys":"key"} `+`"${u.join('", "')}" found in ${l}. `+"Expected to find one of the known reducer keys instead: "+`"${a.join('", "')}". Unexpected keys will be ignored.`}(r,o,s,l);c&&t(c);let h=!1;const d={};for(let e=0;e<a.length;e++){const t=a[e],n=o[t],i=r[t],l=n(i,s);if(void 0===l){const e=s&&s.type;throw new Error(`When called with an action of type ${e?`"${String(e)}"`:"(unknown type)"}, the slice reducer for key "${t}" returned undefined. `+"To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.")}d[t]=l,h=h||l!==i}return(h=h||a.length!==Object.keys(r).length)?d:r}}}),e("skylark-redux/bindActionCreators",["./utils/kindOf"],function(e){"use strict";function t(e,t){return function(){return t(e.apply(this,arguments))}}return function(n,i){if("function"==typeof n)return t(n,i);if("object"!=typeof n||null===n)throw new Error(`bindActionCreators expected an object or a function, but instead received: '${e.kindOf(n)}'. `+'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');const r={};for(const e in n){const s=n[e];"function"==typeof s&&(r[e]=t(s,i))}return r}}),e("skylark-redux/compose",[],function(){"use strict";return function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}}),e("skylark-redux/applyMiddleware",["./compose"],function(e){"use strict";return function(...t){return n=>(...i)=>{const r=n(...i);let s=()=>{throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")};const o={getState:r.getState,dispatch:(...e)=>s(...e)},a=t.map(e=>e(o));return s=e(...a)(r.dispatch),{...r,dispatch:s}}}}),e("skylark-redux/main",["skylark-langx-ns","./createStore","./combineReducers","./bindActionCreators","./applyMiddleware","./compose","./utils/warning","./utils/actionTypes"],function(e,t,n,i,r,s,o,a){"use strict";return e.attach("intg.redux",{createStore:t,combineReducers:n,bindActionCreators:i,applyMiddleware:r,compose:s,__DO_NOT_USE__ActionTypes:a})}),e("skylark-redux",["skylark-redux/main"],function(e){return e}),e("skylark-choices/reducers/items",[],function(){"use strict";const e=[];return function(t=e,n){switch(n.type){case"ADD_ITEM":{const e=[...t,{id:n.id,choiceId:n.choiceId,groupId:n.groupId,value:n.value,label:n.label,active:!0,highlighted:!1,customProperties:n.customProperties,placeholder:n.placeholder||!1,keyCode:null}];return e.map(e=>{const t=e;return t.highlighted=!1,t})}case"REMOVE_ITEM":return t.map(e=>{const t=e;return t.id===n.id&&(t.active=!1),t});case"HIGHLIGHT_ITEM":return t.map(e=>{const t=e;return t.id===n.id&&(t.highlighted=n.highlighted),t});default:return t}}}),e("skylark-choices/reducers/groups",[],function(){"use strict";const e=[];return function(t=e,n){switch(n.type){case"ADD_GROUP":return[...t,{id:n.id,value:n.value,active:n.active,disabled:n.disabled}];case"CLEAR_CHOICES":return[];default:return t}}}),e("skylark-choices/reducers/choices",[],function(){"use strict";const e=[];return function(t=e,n){switch(n.type){case"ADD_CHOICE":return[...t,{id:n.id,elementId:n.elementId,groupId:n.groupId,value:n.value,label:n.label||n.value,disabled:n.disabled||!1,selected:!1,active:!0,score:9999,customProperties:n.customProperties,placeholder:n.placeholder||!1,keyCode:null}];case"ADD_ITEM":return n.activateOptions?t.map(e=>{const t=e;return t.active=n.active,t}):n.choiceId>-1?t.map(e=>{const t=e;return t.id===parseInt(n.choiceId,10)&&(t.selected=!0),t}):t;case"REMOVE_ITEM":return n.choiceId>-1?t.map(e=>{const t=e;return t.id===parseInt(n.choiceId,10)&&(t.selected=!1),t}):t;case"FILTER_CHOICES":return t.map(e=>{const t=e;return t.active=n.results.some(({item:e,score:n})=>e.id===t.id&&(t.score=n,!0)),t});case"ACTIVATE_CHOICES":return t.map(e=>{const t=e;return t.active=n.active,t});case"CLEAR_CHOICES":return e;default:return t}}}),e("skylark-choices/reducers/general",[],function(){"use strict";const e={loading:!1};return(t=e,n)=>{switch(n.type){case"SET_IS_LOADING":return{loading:n.isLoading};default:return t}}}),e("skylark-choices/lib/utils",[],function(){"use strict";const e=(e,t)=>Math.floor(Math.random()*(t-e)+e),t=t=>Array.from({length:t},()=>e(0,36).toString(36)).join(""),n=e=>Object.prototype.toString.call(e).slice(8,-1),i=(()=>{const e=document.createElement("div");return t=>{const n=t.trim();e.innerHTML=n;const i=e.children[0];for(;e.firstChild;)e.removeChild(e.firstChild);return i}})();return{getRandomNumber:e,generateChars:t,generateId:(e,n)=>{let i=e.id||e.name&&`${e.name}-${t(2)}`||t(4);return i=i.replace(/(:|\.|\[|\]|,)/g,""),i=`${n}-${i}`},getType:n,isType:(e,t)=>void 0!==t&&null!==t&&n(t)===e,wrap:(e,t=document.createElement("div"))=>{e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t);return t.appendChild(e)},getAdjacentEl:(e,t,n=1)=>{if(!(e instanceof Element)||"string"!=typeof t)return;const i=`${n>0?"next":"previous"}ElementSibling`;let r=e[i];for(;r;){if(r.matches(t))return r;r=r[i]}return r},isScrolledIntoView:(e,t,n=1)=>{if(!e)return!1;let i;i=n>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop;return i},sanitise:e=>{if("string"!=typeof e)return e;return e.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},strToEl:i,sortByAlpha:({value:e,label:t=e},{value:n,label:i=n})=>t.localeCompare(i,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0}),sortByScore:(e,t)=>e.score-t.score,dispatchEvent:(e,t,n=null)=>{const i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});return e.dispatchEvent(i)},existsInArray:(e,t,n="value")=>e.some(e=>"string"==typeof t?e[n]===t.trim():e[n]===t),cloneObject:e=>JSON.parse(JSON.stringify(e)),diff:(e,t)=>{const n=Object.keys(e).sort(),i=Object.keys(t).sort();return n.filter(e=>i.indexOf(e)<0)}}}),e("skylark-choices/reducers/index",["skylark-redux","./items","./groups","./choices","./general","../lib/utils"],function(e,t,n,i,r,s){"use strict";const o=e.combineReducers({items:t,groups:n,choices:i,general:r});return(e,t)=>{let n=e;if("CLEAR_ALL"===t.type)n=void 0;else if("RESET_TO"===t.type)return s.cloneObject(t.state);return o(n,t)}}),e("skylark-choices/store/store",["skylark-redux","../reducers/index"],function(e,t){"use strict";return class{constructor(){this._store=e.createStore(t,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}subscribe(e){this._store.subscribe(e)}dispatch(e){this._store.dispatch(e)}get state(){return this._store.getState()}get items(){return this.state.items}get activeItems(){return this.items.filter(e=>!0===e.active)}get highlightedActiveItems(){return this.items.filter(e=>e.active&&e.highlighted)}get choices(){return this.state.choices}get activeChoices(){return this.choices.filter(e=>!0===e.active)}get selectableChoices(){return this.choices.filter(e=>!0!==e.disabled)}get searchableChoices(){return this.selectableChoices.filter(e=>!0!==e.placeholder)}get placeholderChoice(){return[...this.choices].reverse().find(e=>!0===e.placeholder)}get groups(){return this.state.groups}get activeGroups(){const{groups:e,choices:t}=this;return e.filter(e=>{const n=!0===e.active&&!1===e.disabled,i=t.some(e=>!0===e.active&&!1===e.disabled);return n&&i},[])}isLoading(){return this.state.general.loading}getChoiceById(e){return this.activeChoices.find(t=>t.id===parseInt(e,10))}getGroupById(e){return this.groups.find(t=>t.id===e)}}}),e("skylark-choices/components/dropdown",[],function(){"use strict";return class{constructor({element:e,type:t,classNames:n}){this.element=e,this.classNames=n,this.type=t,this.isActive=!1}get distanceFromTopWindow(){return this.element.getBoundingClientRect().bottom}getChild(e){return this.element.querySelector(e)}show(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this}hide(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this}}}),e("skylark-choices/constants",["./lib/utils"],function(e){"use strict";const t={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},n={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:e.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:t=>`Press Enter to add <b>"${e.sanitise(t)}"</b>`,maxItemText:e=>`Only ${e} values can be added`,valueComparer:(e,t)=>e===t,fuseOptions:{includeScore:!0},callbackOnInit:null,callbackOnCreateTemplates:null,classNames:t};return{DEFAULT_CLASSNAMES:t,DEFAULT_CONFIG:n,EVENTS:{showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice"},ACTION_TYPES:{ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL"},KEY_CODES:{BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},TEXT_TYPE:"text",SELECT_ONE_TYPE:"select-one",SELECT_MULTIPLE_TYPE:"select-multiple",SCROLLING_SPEED:4}}),e("skylark-choices/components/container",["../lib/utils","../constants"],function(e,t){"use strict";return class{constructor({element:e,type:t,classNames:n,position:i}){this.element=e,this.classNames=n,this.type=t,this.position=i,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}addEventListeners(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)}removeEventListeners(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)}shouldFlip(e){if("number"!=typeof e)return!1;let t=!1;return"auto"===this.position?t=!window.matchMedia(`(min-height: ${e+1}px)`).matches:"top"===this.position&&(t=!0),t}setActiveDescendant(e){this.element.setAttribute("aria-activedescendant",e)}removeActiveDescendant(){this.element.removeAttribute("aria-activedescendant")}open(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)}close(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)}focus(){this.isFocussed||this.element.focus()}addFocusState(){this.element.classList.add(this.classNames.focusState)}removeFocusState(){this.element.classList.remove(this.classNames.focusState)}enable(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===t.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1}disable(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===t.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0}wrap(t){e.wrap(t,this.element)}unwrap(e){this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element)}addLoadingState(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0}removeLoadingState(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1}_onFocus(){this.isFocussed=!0}_onBlur(){this.isFocussed=!1}}}),e("skylark-choices/components/input",["../lib/utils","../constants"],function(e,t){"use strict";return class{constructor({element:e,type:t,classNames:n,preventPaste:i}){this.element=e,this.type=t,this.classNames=n,this.preventPaste=i,this.isFocussed=this.element===document.activeElement,this.isDisabled=e.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}set placeholder(e){this.element.placeholder=e}get value(){return e.sanitise(this.element.value)}set value(e){this.element.value=e}addEventListeners(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})}removeEventListeners(){this.element.removeEventListener("input",this._onInput,{passive:!0}),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus,{passive:!0}),this.element.removeEventListener("blur",this._onBlur,{passive:!0})}enable(){this.element.removeAttribute("disabled"),this.isDisabled=!1}disable(){this.element.setAttribute("disabled",""),this.isDisabled=!0}focus(){this.isFocussed||this.element.focus()}blur(){this.isFocussed&&this.element.blur()}clear(e=!0){return this.element.value&&(this.element.value=""),e&&this.setWidth(),this}setWidth(){const{style:e,value:t,placeholder:n}=this.element;e.minWidth=`${n.length+1}ch`,e.width=`${t.length+1}ch`}setActiveDescendant(e){this.element.setAttribute("aria-activedescendant",e)}removeActiveDescendant(){this.element.removeAttribute("aria-activedescendant")}_onInput(){this.type!==t.SELECT_ONE_TYPE&&this.setWidth()}_onPaste(e){this.preventPaste&&e.preventDefault()}_onFocus(){this.isFocussed=!0}_onBlur(){this.isFocussed=!1}}}),e("skylark-choices/components/list",["../constants"],function(e){"use strict";return class{constructor({element:e}){this.element=e,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}clear(){this.element.innerHTML=""}append(e){this.element.appendChild(e)}getChild(e){return this.element.querySelector(e)}hasChildren(){return this.element.hasChildNodes()}scrollToTop(){this.element.scrollTop=0}scrollToChildElement(e,t){if(!e)return;const n=this.element.offsetHeight,i=this.element.scrollTop+n,r=e.offsetHeight,s=e.offsetTop+r,o=t>0?this.element.scrollTop+s-i:e.offsetTop;requestAnimationFrame(()=>{this._animateScroll(o,t)})}_scrollDown(e,t,n){const i=(n-e)/t,r=i>1?i:1;this.element.scrollTop=e+r}_scrollUp(e,t,n){const i=(e-n)/t,r=i>1?i:1;this.element.scrollTop=e-r}_animateScroll(t,n){const i=e.SCROLLING_SPEED,r=this.element.scrollTop;let s=!1;n>0?(this._scrollDown(r,i,t),r<t&&(s=!0)):(this._scrollUp(r,i,t),r>t&&(s=!0)),s&&requestAnimationFrame(()=>{this._animateScroll(t,n)})}}}),e("skylark-choices/components/wrapped-element",["../lib/utils"],function(e){"use strict";return class{constructor({element:e,classNames:t}){if(this.element=e,this.classNames=t,!(e instanceof HTMLInputElement||e instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}get isActive(){return"active"===this.element.dataset.choice}get dir(){return this.element.dir}get value(){return this.element.value}set value(e){this.element.value=e}conceal(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;const e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("data-choice","active")}reveal(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");const e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value}enable(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1}disable(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0}triggerEvent(t,n){e.dispatchEvent(this.element,t,n)}}}),e("skylark-choices/components/wrapped-input",["./wrapped-element"],function(e){"use strict";return class extends e{constructor({element:e,classNames:t,delimiter:n}){super({element:e,classNames:t}),this.delimiter=n}get value(){return this.element.value}set value(e){const t=e.map(({value:e})=>e),n=t.join(this.delimiter);this.element.setAttribute("value",n),this.element.value=n}}}),e("skylark-choices/components/wrapped-select",["./wrapped-element"],function(e){"use strict";return class extends e{constructor({element:e,classNames:t,template:n}){super({element:e,classNames:t}),this.template=n}get placeholderOption(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")}get optionGroups(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))}get options(){return Array.from(this.element.options)}set options(e){const t=document.createDocumentFragment(),n=e=>{const n=this.template(e);t.appendChild(n)};e.forEach(e=>n(e)),this.appendDocFragment(t)}appendDocFragment(e){this.element.innerHTML="",this.element.appendChild(e)}}}),e("skylark-choices/components/index",["./dropdown","./container","./input","./list","./wrapped-input","./wrapped-select"],function(e,t,n,i,r,s){"use strict";return{Dropdown:e,Container:t,Input:n,List:i,WrappedInput:r,WrappedSelect:s}}),e("skylark-choices/templates",[],function(){"use strict";const e={containerOuter({containerOuter:e},t,n,i,r,s){const o=Object.assign(document.createElement("div"),{className:e});return o.dataset.type=s,t&&(o.dir=t),i&&(o.tabIndex=0),n&&(o.setAttribute("role",r?"combobox":"listbox"),r&&o.setAttribute("aria-autocomplete","list")),o.setAttribute("aria-haspopup","true"),o.setAttribute("aria-expanded","false"),o},containerInner:({containerInner:e})=>Object.assign(document.createElement("div"),{className:e}),itemList:({list:e,listSingle:t,listItems:n},i)=>Object.assign(document.createElement("div"),{className:`${e} ${i?t:n}`}),placeholder:({placeholder:e},t)=>Object.assign(document.createElement("div"),{className:e,innerHTML:t}),item({item:e,button:t,highlightedState:n,itemSelectable:i,placeholder:r},{id:s,value:o,label:a,customProperties:l,active:u,disabled:c,highlighted:h,placeholder:d},p){const f=Object.assign(document.createElement("div"),{className:e,innerHTML:a});if(Object.assign(f.dataset,{item:"",id:s,value:o,customProperties:l}),u&&f.setAttribute("aria-selected","true"),c&&f.setAttribute("aria-disabled","true"),d&&f.classList.add(r),f.classList.add(h?n:i),p){c&&f.classList.remove(i),f.dataset.deletable="";const e="Remove item",n=Object.assign(document.createElement("button"),{type:"button",className:t,innerHTML:e});n.setAttribute("aria-label",`${e}: '${o}'`),n.dataset.button="",f.appendChild(n)}return f},choiceList({list:e},t){const n=Object.assign(document.createElement("div"),{className:e});return t||n.setAttribute("aria-multiselectable","true"),n.setAttribute("role","listbox"),n},choiceGroup({group:e,groupHeading:t,itemDisabled:n},{id:i,value:r,disabled:s}){const o=Object.assign(document.createElement("div"),{className:`${e} ${s?n:""}`});return o.setAttribute("role","group"),Object.assign(o.dataset,{group:"",id:i,value:r}),s&&o.setAttribute("aria-disabled","true"),o.appendChild(Object.assign(document.createElement("div"),{className:t,innerHTML:r})),o},choice({item:e,itemChoice:t,itemSelectable:n,selectedState:i,itemDisabled:r,placeholder:s},{id:o,value:a,label:l,groupId:u,elementId:c,disabled:h,selected:d,placeholder:p},f){const m=Object.assign(document.createElement("div"),{id:c,innerHTML:l,className:`${e} ${t}`});return d&&m.classList.add(i),p&&m.classList.add(s),m.setAttribute("role",u>0?"treeitem":"option"),Object.assign(m.dataset,{choice:"",id:o,value:a,selectText:f}),h?(m.classList.add(r),m.dataset.choiceDisabled="",m.setAttribute("aria-disabled","true")):(m.classList.add(n),m.dataset.choiceSelectable=""),m},input({input:e,inputCloned:t},n){const i=Object.assign(document.createElement("input"),{type:"text",className:`${e} ${t}`,autocomplete:"off",autocapitalize:"off",spellcheck:!1});return i.setAttribute("role","textbox"),i.setAttribute("aria-autocomplete","list"),i.setAttribute("aria-label",n),i},dropdown({list:e,listDropdown:t}){const n=document.createElement("div");return n.classList.add(e,t),n.setAttribute("aria-expanded","false"),n},notice({item:e,itemChoice:t,noResults:n,noChoices:i},r,s=""){const o=[e,t];return"no-choices"===s?o.push(i):"no-results"===s&&o.push(n),Object.assign(document.createElement("div"),{innerHTML:r,className:o.join(" ")})},option({label:e,value:t,customProperties:n,active:i,disabled:r}){const s=new Option(e,t,!1,i);return n&&(s.dataset.customProperties=n),s.disabled=r,s}};return e}),e("skylark-choices/actions/choices",["../constants"],function(e){"use strict";return{addChoice:({value:t,label:n,id:i,groupId:r,disabled:s,elementId:o,customProperties:a,placeholder:l,keyCode:u})=>({type:e.ACTION_TYPES.ADD_CHOICE,value:t,label:n,id:i,groupId:r,disabled:s,elementId:o,customProperties:a,placeholder:l,keyCode:u}),filterChoices:t=>({type:e.ACTION_TYPES.FILTER_CHOICES,results:t}),activateChoices:(t=!0)=>({type:e.ACTION_TYPES.ACTIVATE_CHOICES,active:t}),clearChoices:()=>({type:e.ACTION_TYPES.CLEAR_CHOICES})}}),e("skylark-choices/actions/items",["../constants"],function(e){"use strict";return{addItem:({value:t,label:n,id:i,choiceId:r,groupId:s,customProperties:o,placeholder:a,keyCode:l})=>({type:e.ACTION_TYPES.ADD_ITEM,value:t,label:n,id:i,choiceId:r,groupId:s,customProperties:o,placeholder:a,keyCode:l}),removeItem:(t,n)=>({type:e.ACTION_TYPES.REMOVE_ITEM,id:t,choiceId:n}),highlightItem:(t,n)=>({type:e.ACTION_TYPES.HIGHLIGHT_ITEM,id:t,highlighted:n})}}),e("skylark-choices/actions/groups",["../constants"],function(e){"use strict";return{addGroup:({value:t,id:n,active:i,disabled:r})=>({type:e.ACTION_TYPES.ADD_GROUP,value:t,id:n,active:i,disabled:r})}}),e("skylark-choices/actions/misc",[],function(){"use strict";return{clearAll:()=>({type:"CLEAR_ALL"}),resetTo:e=>({type:"RESET_TO",state:e}),setIsLoading:e=>({type:"SET_IS_LOADING",isLoading:e})}}),e("skylark-choices/choices",["./vendors/fuse","./vendors/deepmerge","./store/store","./components/index","./constants","./templates","./actions/choices","./actions/items","./actions/groups","./actions/misc","./lib/utils"],function(e,t,n,i,r,s,o,a,l,u,c){"use strict";const h="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,d={};class p{static get defaults(){return Object.preventExtensions({get options(){return d},get templates(){return s}})}constructor(e="[data-choice]",s={}){this.config=t.all([r.DEFAULT_CONFIG,p.defaults.options,s],{arrayMerge:(e,t)=>[...t]});const o=c.diff(this.config,r.DEFAULT_CONFIG);o.length&&console.warn("Unknown config option(s) passed",o.join(", "));const a="string"==typeof e?document.querySelector(e):e;if(!(a instanceof HTMLInputElement||a instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=a.type===r.TEXT_TYPE,this._isSelectOneElement=a.type===r.SELECT_ONE_TYPE,this._isSelectMultipleElement=a.type===r.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes(this.config.renderSelectedChoices)||(this.config.renderSelectedChoices="auto"),s.addItemFilter&&"function"!=typeof s.addItemFilter){const e=s.addItemFilter instanceof RegExp?s.addItemFilter:new RegExp(s.addItemFilter);this.config.addItemFilter=e.test.bind(e)}if(this._isTextElement?this.passedElement=new i.WrappedInput({element:a,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new i.WrappedSelect({element:a,classNames:this.config.classNames,template:e=>this._templates.option(e)}),this.initialised=!1,this._store=new n,this._initialState={},this._currentState={},this._prevState={},this._currentValue="",this._canSearch=this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=c.generateId(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){const{direction:e}=window.getComputedStyle(this.passedElement.element),{direction:t}=window.getComputedStyle(document.documentElement);e!==t&&(this._direction=e)}if(this._idNames={itemChoice:"item-choice"},this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options,this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&(this._presetItems=this._presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.passedElement.options&&this.passedElement.options.forEach(e=>{this._presetChoices.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:""===e.value||e.hasAttribute("placeholder"),customProperties:e.getAttribute("data-custom-properties")})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onAKey=this._onAKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised"),void(this.initialised=!0);this.init()}init(){if(this.initialised)return;this._createTemplates(),this._createElements(),this._createStructure(),this._initialState=c.cloneObject(this._store.state),this._store.subscribe(this._render),this._render(),this._addEventListeners();const e=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");e&&this.disable(),this.initialised=!0;const{callbackOnInit:t}=this.config;t&&"function"==typeof t&&t.call(this)}destroy(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=null,this.initialised=!1)}enable(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this}disable(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this}highlightItem(e,t=!0){if(!e)return this;const{id:n,groupId:i=-1,value:s="",label:o=""}=e,l=i>=0?this._store.getGroupById(i):null;return this._store.dispatch(a.highlightItem(n,!0)),t&&this.passedElement.triggerEvent(r.EVENTS.highlightItem,{id:n,value:s,label:o,groupValue:l&&l.value?l.value:null}),this}unhighlightItem(e){if(!e)return this;const{id:t,groupId:n=-1,value:i="",label:s=""}=e,o=n>=0?this._store.getGroupById(n):null;return this._store.dispatch(a.highlightItem(t,!1)),this.passedElement.triggerEvent(r.EVENTS.highlightItem,{id:t,value:i,label:s,groupValue:o&&o.value?o.value:null}),this}highlightAll(){return this._store.items.forEach(e=>this.highlightItem(e)),this}unhighlightAll(){return this._store.items.forEach(e=>this.unhighlightItem(e)),this}removeActiveItemsByValue(e){return this._store.activeItems.filter(t=>t.value===e).forEach(e=>this._removeItem(e)),this}removeActiveItems(e){return this._store.activeItems.filter(({id:t})=>t!==e).forEach(e=>this._removeItem(e)),this}removeHighlightedItems(e=!1){return this._store.highlightedActiveItems.forEach(t=>{this._removeItem(t),e&&this._triggerChange(t.value)}),this}showDropdown(e){return this.dropdown.isActive?this:(requestAnimationFrame(()=>{this.dropdown.show(),this.containerOuter.open(this.dropdown.distanceFromTopWindow),!e&&this._canSearch&&this.input.focus(),this.passedElement.triggerEvent(r.EVENTS.showDropdown,{})}),this)}hideDropdown(e){return this.dropdown.isActive?(requestAnimationFrame(()=>{this.dropdown.hide(),this.containerOuter.close(),!e&&this._canSearch&&(this.input.removeActiveDescendant(),this.input.blur()),this.passedElement.triggerEvent(r.EVENTS.hideDropdown,{})}),this):this}getValue(e=!1){const t=this._store.activeItems.reduce((t,n)=>{const i=e?n.value:n;return t.push(i),t},[]);return this._isSelectOneElement?t[0]:t}setValue(e){return this.initialised?(e.forEach(e=>this._setChoiceOrItem(e)),this):this}setChoiceByValue(e){if(!this.initialised||this._isTextElement)return this;const t=Array.isArray(e)?e:[e];return t.forEach(e=>this._findAndSelectChoiceByValue(e)),this}setChoices(e=[],t="value",n="label",i=!1){if(!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(i&&this.clearChoices(),"function"==typeof e){const r=e(this);if("function"==typeof Promise&&r instanceof Promise)return new Promise(e=>requestAnimationFrame(e)).then(()=>this._handleLoadingState(!0)).then(()=>r).then(e=>this.setChoices(e,t,n,i)).catch(e=>{this.config.silent||console.error(e)}).then(()=>this._handleLoadingState(!1)).then(()=>this);if(!Array.isArray(r))throw new TypeError(`.setChoices first argument function must return either array of choices or Promise, got: ${typeof r}`);return this.setChoices(r,t,n,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach(e=>{e.choices?this._addGroup({id:parseInt(e.id,10)||null,group:e,valueKey:t,labelKey:n}):this._addChoice({value:e[t],label:e[n],isSelected:e.selected,isDisabled:e.disabled,customProperties:e.customProperties,placeholder:e.placeholder})}),this._stopLoading(),this}clearChoices(){return this._store.dispatch(o.clearChoices()),this}clearStore(){return this._store.dispatch(u.clearAll()),this}clearInput(){const e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch(o.activateChoices(!0))),this}_render(){if(this._store.isLoading())return;this._currentState=this._store.state;const e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,n=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),n&&this._renderItems(),this._prevState=this._currentState)}_renderChoices(){const{activeGroups:e,activeChoices:t}=this._store;let n=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(()=>this.choiceList.scrollToTop()),e.length>=1&&!this._isSearching){const i=t.filter(e=>!0===e.placeholder&&-1===e.groupId);i.length>=1&&(n=this._createChoicesFragment(i,n)),n=this._createGroupsFragment(e,t,n)}else t.length>=1&&(n=this._createChoicesFragment(t,n));if(n.childNodes&&n.childNodes.length>0){const{activeItems:e}=this._store,t=this._canAddItem(e,this.input.value);t.response?(this.choiceList.append(n),this._highlightChoice()):this.choiceList.append(this._getTemplate("notice",t.notice))}else{let e,t;this._isSearching?(t="function"==typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,e=this._getTemplate("notice",t,"no-results")):(t="function"==typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,e=this._getTemplate("notice",t,"no-choices")),this.choiceList.append(e)}}_renderItems(){const e=this._store.activeItems||[];this.itemList.clear();const t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)}_createGroupsFragment(e,t,n=document.createDocumentFragment()){const i=e=>t.filter(t=>this._isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&("always"===this.config.renderSelectedChoices||!t.selected));return this.config.shouldSort&&e.sort(this.config.sorter),e.forEach(e=>{const t=i(e);if(t.length>=1){const i=this._getTemplate("choiceGroup",e);n.appendChild(i),this._createChoicesFragment(t,n,!0)}}),n}_createChoicesFragment(e,t=document.createDocumentFragment(),n=!1){const{renderSelectedChoices:i,searchResultLimit:r,renderChoiceLimit:s}=this.config,o=this._isSearching?c.sortByScore:this.config.sorter,a=e=>{const n="auto"!==i||(this._isSelectOneElement||!e.selected);if(n){const n=this._getTemplate("choice",e,this.config.itemSelectText);t.appendChild(n)}};let l=e;"auto"!==i||this._isSelectOneElement||(l=e.filter(e=>!e.selected));const{placeholderChoices:u,normalChoices:h}=l.reduce((e,t)=>(t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e),{placeholderChoices:[],normalChoices:[]});(this.config.shouldSort||this._isSearching)&&h.sort(o);let d=l.length;const p=this._isSelectOneElement?[...u,...h]:h;this._isSearching?d=r:s&&s>0&&!n&&(d=s);for(let e=0;e<d;e+=1)p[e]&&a(p[e]);return t}_createItemsFragment(e,t=document.createDocumentFragment()){const{shouldSortItems:n,sorter:i,removeItemButton:r}=this.config;n&&!this._isSelectOneElement&&e.sort(i),this._isTextElement?this.passedElement.value=e:this.passedElement.options=e;return e.forEach(e=>{const n=this._getTemplate("item",e,r);t.appendChild(n)}),t}_triggerChange(e){void 0!==e&&null!==e&&this.passedElement.triggerEvent(r.EVENTS.change,{value:e})}_selectPlaceholderChoice(){const{placeholderChoice:e}=this._store;e&&(this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value))}_handleButtonAction(e,t){if(!(e&&t&&this.config.removeItems&&this.config.removeItemButton))return;const n=t.parentNode.getAttribute("data-id"),i=e.find(e=>e.id===parseInt(n,10));this._removeItem(i),this._triggerChange(i.value),this._isSelectOneElement&&this._selectPlaceholderChoice()}_handleItemAction(e,t,n=!1){if(!e||!t||!this.config.removeItems||this._isSelectOneElement)return;const i=t.getAttribute("data-id");e.forEach(e=>{e.id!==parseInt(i,10)||e.highlighted?!n&&e.highlighted&&this.unhighlightItem(e):this.highlightItem(e)}),this.input.focus()}_handleChoiceAction(e,t){if(!e||!t)return;const{id:n}=t.dataset,i=this._store.getChoiceById(n);if(!i)return;const s=e[0]&&e[0].keyCode?e[0].keyCode:null,o=this.dropdown.isActive;if(i.keyCode=s,this.passedElement.triggerEvent(r.EVENTS.choice,{choice:i}),!i.selected&&!i.disabled){const t=this._canAddItem(e,i.value);t.response&&(this._addItem({value:i.value,label:i.label,choiceId:i.id,groupId:i.groupId,customProperties:i.customProperties,placeholder:i.placeholder,keyCode:i.keyCode}),this._triggerChange(i.value))}this.clearInput(),o&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}_handleBackspace(e){if(!this.config.removeItems||!e)return;const t=e[e.length-1],n=e.some(e=>e.highlighted);this.config.editItems&&!n&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(n||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}_startLoading(){this._store.dispatch(u.setIsLoading(!0))}_stopLoading(){this._store.dispatch(u.setIsLoading(!1))}_handleLoadingState(e=!0){let t=this.itemList.getChild(`.${this.config.classNames.placeholder}`);e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),this.itemList.append(t)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?t.innerHTML=this._placeholderValue||"":this.input.placeholder=this._placeholderValue||"")}_handleSearch(e){if(!e||!this.input.isFocussed)return;const{choices:t}=this._store,{searchFloor:n,searchChoices:i}=this.config,s=t.some(e=>!e.active);if(e&&e.length>=n){const t=i?this._searchChoices(e):0;this.passedElement.triggerEvent(r.EVENTS.search,{value:e,resultCount:t})}else s&&(this._isSearching=!1,this._store.dispatch(o.activateChoices(!0)))}_canAddItem(e,t){let n=!0,i="function"==typeof this.config.addItemText?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){const r=c.existsInArray(e,t);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(n=!1,i="function"==typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&r&&n&&(n=!1,i="function"==typeof this.config.uniqueItemText?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&n&&"function"==typeof this.config.addItemFilter&&!this.config.addItemFilter(t)&&(n=!1,i="function"==typeof this.config.customAddItemText?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:n,notice:i}}_searchChoices(t){const n="string"==typeof t?t.trim():t,i="string"==typeof this._currentValue?this._currentValue.trim():this._currentValue;if(n.length<1&&n===`${i} `)return 0;const r=this._store.searchableChoices,s=n,a=[...this.config.searchFields],l=Object.assign(this.config.fuseOptions,{keys:a}),u=new e(r,l),c=u.search(s);return this._currentValue=n,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch(o.filterChoices(c)),c.length}_addEventListeners(){const{documentElement:e}=document;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()}_removeEventListeners(){const{documentElement:e}=document;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()}_onKeyDown(e){const{target:t,keyCode:n,ctrlKey:i,metaKey:s}=e,{activeItems:o}=this._store,a=this.input.isFocussed,l=this.dropdown.isActive,u=this.itemList.hasChildren(),c=String.fromCharCode(n),{BACK_KEY:h,DELETE_KEY:d,ENTER_KEY:p,A_KEY:f,ESC_KEY:m,UP_KEY:g,DOWN_KEY:y,PAGE_UP_KEY:v,PAGE_DOWN_KEY:b}=r.KEY_CODES,k=i||s;!this._isTextElement&&/[a-zA-Z0-9-_ ]/.test(c)&&this.showDropdown();const w={[f]:this._onAKey,[p]:this._onEnterKey,[m]:this._onEscapeKey,[g]:this._onDirectionKey,[v]:this._onDirectionKey,[y]:this._onDirectionKey,[b]:this._onDirectionKey,[d]:this._onDeleteKey,[h]:this._onDeleteKey};w[n]&&w[n]({event:e,target:t,keyCode:n,metaKey:s,activeItems:o,hasFocusedInput:a,hasActiveDropdown:l,hasItems:u,hasCtrlDownKeyPressed:k})}_onKeyUp({target:e,keyCode:t}){const{value:n}=this.input,{activeItems:i}=this._store,s=this._canAddItem(i,n),{BACK_KEY:a,DELETE_KEY:l}=r.KEY_CODES;if(this._isTextElement){const e=s.notice&&n;if(e){const e=this._getTemplate("notice",s.notice);this.dropdown.element.innerHTML=e.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{const n=(t===a||t===l)&&!e.value,i=!this._isTextElement&&this._isSearching,r=this._canSearch&&s.response;n&&i?(this._isSearching=!1,this._store.dispatch(o.activateChoices(!0))):r&&this._handleSearch(this.input.value)}this._canSearch=this.config.searchEnabled}_onAKey({hasItems:e,hasCtrlDownKeyPressed:t}){if(t&&e){this._canSearch=!1;const e=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;e&&this.highlightAll()}}_onEnterKey({event:e,target:t,activeItems:n,hasActiveDropdown:i}){const{ENTER_KEY:s}=r.KEY_CODES,o=t.hasAttribute("data-button");if(this._isTextElement&&t.value){const{value:e}=this.input,t=this._canAddItem(n,e);t.response&&(this.hideDropdown(!0),this._addItem({value:e}),this._triggerChange(e),this.clearInput())}if(o&&(this._handleButtonAction(n,t),e.preventDefault()),i){const t=this.dropdown.getChild(`.${this.config.classNames.highlightedState}`);t&&(n[0]&&(n[0].keyCode=s),this._handleChoiceAction(n,t)),e.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),e.preventDefault())}_onEscapeKey({hasActiveDropdown:e}){e&&(this.hideDropdown(!0),this.containerOuter.focus())}_onDirectionKey({event:e,hasActiveDropdown:t,keyCode:n,metaKey:i}){const{DOWN_KEY:s,PAGE_UP_KEY:o,PAGE_DOWN_KEY:a}=r.KEY_CODES;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;const t=n===s||n===a?1:-1,r=i||n===a||n===o,l="[data-choice-selectable]";let u;if(r)u=t>0?this.dropdown.element.querySelector(`${l}:last-of-type`):this.dropdown.element.querySelector(l);else{const e=this.dropdown.element.querySelector(`.${this.config.classNames.highlightedState}`);u=e?c.getAdjacentEl(e,l,t):this.dropdown.element.querySelector(l)}u&&(c.isScrolledIntoView(u,this.choiceList.element,t)||this.choiceList.scrollToChildElement(u,t),this._highlightChoice(u)),e.preventDefault()}}_onDeleteKey({event:e,target:t,hasFocusedInput:n,activeItems:i}){!n||t.value||this._isSelectOneElement||(this._handleBackspace(i),e.preventDefault())}_onTouchMove(){this._wasTap&&(this._wasTap=!1)}_onTouchEnd(e){const{target:t}=e||e.touches[0],n=this._wasTap&&this.containerOuter.element.contains(t);if(n){const n=t===this.containerOuter.element||t===this.containerInner.element;n&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()}this._wasTap=!0}_onMouseDown(e){const{target:t}=e;if(!(t instanceof HTMLElement))return;if(h&&this.choiceList.element.contains(t)){const t=this.choiceList.element.firstElementChild,n="ltr"===this._direction?e.offsetX>=t.offsetWidth:e.offsetX<t.offsetLeft;this._isScrollingOnIe=n}if(t===this.input.element)return;const n=t.closest("[data-button],[data-item],[data-choice]");if(n instanceof HTMLElement){const t=e.shiftKey,{activeItems:i}=this._store,{dataset:r}=n;"button"in r?this._handleButtonAction(i,n):"item"in r?this._handleItemAction(i,n,t):"choice"in r&&this._handleChoiceAction(i,n)}e.preventDefault()}_onMouseOver({target:e}){e instanceof HTMLElement&&"choice"in e.dataset&&this._highlightChoice(e)}_onClick({target:e}){const t=this.containerOuter.element.contains(e);if(t)this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&e!==this.input.element&&!this.dropdown.element.contains(e)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus());else{const e=this._store.highlightedActiveItems.length>0;e&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}}_onFocus({target:e}){const t=this.containerOuter.element.contains(e);if(!t)return;const n={[r.TEXT_TYPE]:()=>{e===this.input.element&&this.containerOuter.addFocusState()},[r.SELECT_ONE_TYPE]:()=>{this.containerOuter.addFocusState(),e===this.input.element&&this.showDropdown(!0)},[r.SELECT_MULTIPLE_TYPE]:()=>{e===this.input.element&&(this.showDropdown(!0),this.containerOuter.addFocusState())}};n[this.passedElement.element.type]()}_onBlur({target:e}){const t=this.containerOuter.element.contains(e);if(t&&!this._isScrollingOnIe){const{activeItems:t}=this._store,n=t.some(e=>e.highlighted),i={[r.TEXT_TYPE]:()=>{e===this.input.element&&(this.containerOuter.removeFocusState(),n&&this.unhighlightAll(),this.hideDropdown(!0))},[r.SELECT_ONE_TYPE]:()=>{this.containerOuter.removeFocusState(),(e===this.input.element||e===this.containerOuter.element&&!this._canSearch)&&this.hideDropdown(!0)},[r.SELECT_MULTIPLE_TYPE]:()=>{e===this.input.element&&(this.containerOuter.removeFocusState(),this.hideDropdown(!0),n&&this.unhighlightAll())}};i[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()}_onFormReset(){this._store.dispatch(u.resetTo(this._initialState))}_highlightChoice(e=null){const t=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(!t.length)return;let n=e;const i=Array.from(this.dropdown.element.querySelectorAll(`.${this.config.classNames.highlightedState}`));i.forEach(e=>{e.classList.remove(this.config.classNames.highlightedState),e.setAttribute("aria-selected","false")}),n?this._highlightPosition=t.indexOf(n):(n=t.length>this._highlightPosition?t[this._highlightPosition]:t[t.length-1])||(n=t[0]),n.classList.add(this.config.classNames.highlightedState),n.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(r.EVENTS.highlightChoice,{el:n}),this.dropdown.isActive&&(this.input.setActiveDescendant(n.id),this.containerOuter.setActiveDescendant(n.id))}_addItem({value:e,label:t=null,choiceId:n=-1,groupId:i=-1,customProperties:s=null,placeholder:o=!1,keyCode:l=null}){let u="string"==typeof e?e.trim():e;const c=l,h=s,{items:d}=this._store,p=t||u,f=n||-1,m=i>=0?this._store.getGroupById(i):null,g=d?d.length+1:1;return this.config.prependValue&&(u=this.config.prependValue+u.toString()),this.config.appendValue&&(u+=this.config.appendValue.toString()),this._store.dispatch(a.addItem({value:u,label:p,id:g,choiceId:f,groupId:i,customProperties:s,placeholder:o,keyCode:c})),this._isSelectOneElement&&this.removeActiveItems(g),this.passedElement.triggerEvent(r.EVENTS.addItem,{id:g,value:u,label:p,customProperties:h,groupValue:m&&m.value?m.value:void 0,keyCode:c}),this}_removeItem(e){if(!e||!c.isType("Object",e))return this;const{id:t,value:n,label:i,choiceId:s,groupId:o}=e,l=o>=0?this._store.getGroupById(o):null;return this._store.dispatch(a.removeItem(t,s)),l&&l.value?this.passedElement.triggerEvent(r.EVENTS.removeItem,{id:t,value:n,label:i,groupValue:l.value}):this.passedElement.triggerEvent(r.EVENTS.removeItem,{id:t,value:n,label:i}),this}_addChoice({value:e,label:t=null,isSelected:n=!1,isDisabled:i=!1,groupId:r=-1,customProperties:s=null,placeholder:a=!1,keyCode:l=null}){if(void 0===e||null===e)return;const{choices:u}=this._store,c=t||e,h=u?u.length+1:1,d=`${this._baseId}-${this._idNames.itemChoice}-${h}`;this._store.dispatch(o.addChoice({id:h,groupId:r,elementId:d,value:e,label:c,disabled:i,customProperties:s,placeholder:a,keyCode:l})),n&&this._addItem({value:e,label:c,choiceId:h,customProperties:s,placeholder:a,keyCode:l})}_addGroup({group:e,id:t,valueKey:n="value",labelKey:i="label"}){const r=c.isType("Object",e)?e.choices:Array.from(e.getElementsByTagName("OPTION")),s=t||Math.floor((new Date).valueOf()*Math.random()),o=!!e.disabled&&e.disabled;if(r){this._store.dispatch(l.addGroup({value:e.label,id:s,active:!0,disabled:o}));const t=e=>{const t=e.disabled||e.parentNode&&e.parentNode.disabled;this._addChoice({value:e[n],label:c.isType("Object",e)?e[i]:e.innerHTML,isSelected:e.selected,isDisabled:t,groupId:s,customProperties:e.customProperties,placeholder:e.placeholder})};r.forEach(t)}else this._store.dispatch(l.addGroup({value:e.label,id:e.id,active:!1,disabled:e.disabled}))}_getTemplate(e,...t){if(!e)return null;const{classNames:n}=this.config;return this._templates[e].call(this,n,...t)}_createTemplates(){const{callbackOnCreateTemplates:e}=this.config;let n={};e&&"function"==typeof e&&(n=e.call(this,c.strToEl)),this._templates=t(s,n)}_createElements(){this.containerOuter=new i.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new i.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new i.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new i.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new i.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new i.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})}_createStructure(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)}_addPredefinedGroups(e){const t=this.passedElement.placeholderOption;t&&"SELECT"===t.parentNode.tagName&&this._addChoice({value:t.value,label:t.innerHTML,isSelected:t.selected,isDisabled:t.disabled,placeholder:!0}),e.forEach(e=>this._addGroup({group:e,id:e.id||null}))}_addPredefinedChoices(e){this.config.shouldSort&&e.sort(this.config.sorter);const t=e.some(e=>e.selected),n=e.findIndex(e=>void 0===e.disabled||!e.disabled);e.forEach((e,i)=>{const{value:r,label:s,customProperties:o,placeholder:a}=e;if(this._isSelectElement)if(e.choices)this._addGroup({group:e,id:e.id||null});else{const l=this._isSelectOneElement&&!t&&i===n,u=!!l||e.selected,c=e.disabled;this._addChoice({value:r,label:s,isSelected:u,isDisabled:c,customProperties:o,placeholder:a})}else this._addChoice({value:r,label:s,isSelected:e.selected,isDisabled:e.disabled,customProperties:o,placeholder:a})})}_addPredefinedItems(e){e.forEach(e=>{"object"==typeof e&&e.value&&this._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}),"string"==typeof e&&this._addItem({value:e})})}_setChoiceOrItem(e){const t=c.getType(e).toLowerCase(),n={object:()=>{e.value&&(this._isTextElement?this._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):this._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:()=>{this._isTextElement?this._addItem({value:e}):this._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}};n[t]()}_findAndSelectChoiceByValue(e){const{choices:t}=this._store,n=t.find(t=>this.config.valueComparer(t.value,e));n&&!n.selected&&this._addItem({value:n.value,label:n.label,choiceId:n.id,groupId:n.groupId,customProperties:n.customProperties,placeholder:n.placeholder,keyCode:n.keyCode})}_generatePlaceholderValue(){if(this._isSelectElement){const{placeholderOption:e}=this.passedElement;return!!e&&e.text}const{placeholder:e,placeholderValue:t}=this.config,{element:{dataset:n}}=this.passedElement;if(e){if(t)return t;if(n.placeholder)return n.placeholder}return!1}}return p}),e("skylark-choices/main",["./choices"],function(e){return e}),e("skylark-choices",["skylark-choices/main"],function(e){return e}),e("skylark-formio/utils/ChoicesWrapper",["skylark-choices"],function(e){"use strict";e.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){const{placeholderOption:e}=this.passedElement;return!!e&&e.text}const{placeholder:e,placeholderValue:t}=this.config,{element:{dataset:n}}=this.passedElement;if(e){if(t)return t;if(n.placeholder)return n.placeholder}return!1};const t={BACK_KEY:46,DELETE_KEY:8,TAB_KEY:9,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34};return class extends e{constructor(...e){super(...e),this._onTabKey=this._onTabKey.bind(this),this.isDirectionUsing=!1,this.shouldOpenDropDown=!0}_handleButtonAction(e,t){if(!this._isSelectOneElement)return super._handleButtonAction(e,t);e&&t&&this.config.removeItems&&this.config.removeItemButton&&(this.shouldOpenDropDown=!1,super._handleButtonAction(e,t))}_onDirectionKey(...e){if(!this._isSelectOneElement)return super._onDirectionKey(...e);this.isDirectionUsing=!0,super._onDirectionKey(...e),this.onSelectValue(...e),this.isDirectionUsing=!1}_onTabKey({activeItems:e,hasActiveDropdown:t}){t&&this._selectHighlightedChoice(e)}_selectHighlightedChoice(e){const t=this.dropdown.getChild(`.${this.config.classNames.highlightedState}`);t&&this._handleChoiceAction(e,t),event.preventDefault()}_onKeyDown(e){if(!this._isSelectOneElement)return super._onKeyDown(e);const{target:n,keyCode:i,ctrlKey:r,metaKey:s}=e;if(n!==this.input.element&&!this.containerOuter.element.contains(n))return;const o=this._store.activeItems,a=this.input.isFocussed,l=this.dropdown.isActive,u=this.itemList.hasChildren,c=String.fromCharCode(i),{BACK_KEY:h,DELETE_KEY:d,TAB_KEY:p,ENTER_KEY:f,A_KEY:m,ESC_KEY:g,UP_KEY:y,DOWN_KEY:v,PAGE_UP_KEY:b,PAGE_DOWN_KEY:k}=t,w=r||s;!this._isTextElement&&/[a-zA-Z0-9-_ ]/.test(c)&&this.showDropdown();const x={[m]:this._onAKey,[p]:this._onTabKey,[f]:this._onEnterKey,[g]:this._onEscapeKey,[y]:this._onDirectionKey,[b]:this._onDirectionKey,[v]:this._onDirectionKey,[k]:this._onDirectionKey,[d]:this._onDeleteKey,[h]:this._onDeleteKey};x[i]&&x[i]({event:e,target:n,keyCode:i,metaKey:s,activeItems:o,hasFocusedInput:a,hasActiveDropdown:l,hasItems:u,hasCtrlDownKeyPressed:w})}onSelectValue({event:e,activeItems:t,hasActiveDropdown:n}){n?this._selectHighlightedChoice(t):this._isSelectOneElement&&(this.showDropdown(),e.preventDefault())}showDropdown(...e){this.shouldOpenDropDown?super.showDropdown(...e):this.shouldOpenDropDown=!0}hideDropdown(...e){this.isDirectionUsing||super.hideDropdown(...e)}}}),e("skylark-formio/components/select/Select",["../../utils/ChoicesWrapper","skylark-lodash","../../Formio","../_classes/field/Field","../../Form","../../vendors/getify/npo"],function(e,t,n,i,r,s){"use strict";return class o extends i{static schema(...e){return i.schema({type:"select",label:"Select",key:"select",data:{values:[],json:"",url:"",resource:"",custom:""},clearOnRefresh:!1,limit:100,dataSrc:"values",valueProperty:"",lazyLoad:!0,filter:"",searchEnabled:!0,searchField:"",minSearch:0,readOnlyValue:!1,authenticate:!1,template:"<span>{{ item.label }}</span>",selectFields:"",searchThreshold:.3,tableView:!0,fuseOptions:{include:"score",threshold:.3},customOptions:{}},...e)}static get builderInfo(){return{title:"Select",group:"basic",icon:"th-list",weight:70,documentation:"http://help.form.io/userguide/#select",schema:o.schema()}}init(){super.init(),this.validators=this.validators.concat(["select"]);let e=[];const n=t.debounce((...t)=>(e=[],this.updateItems.apply(this,t)),100);this.triggerUpdate=((...t)=>(t.length&&(e=t),n(...e))),this.selectOptions=[],this.isInfiniteScrollProvided&&(this.isFromSearch=!1,this.searchServerCount=null,this.defaultServerCount=null,this.isScrollLoading=!1,this.searchDownloadedResources=[],this.defaultDownloadedResources=[]),this.activated=!1,this.itemsLoaded=new s(e=>{this.itemsLoadedResolve=e})}get dataReady(){return this.itemsLoaded}get defaultSchema(){return o.schema()}get emptyValue(){return this.valueProperty?"":{}}get valueProperty(){return this.component.valueProperty?this.component.valueProperty:"values"===this.component.dataSrc?"value":""}get inputInfo(){const e=super.elementInfo();return e.type="select",e.changeEvent="change",e}get isSelectResource(){return"resource"===this.component.dataSrc}get isSelectURL(){return"url"===this.component.dataSrc}get isInfiniteScrollProvided(){return this.isSelectResource||this.isSelectURL}get shouldDisabled(){return super.shouldDisabled||this.parentDisabled}itemTemplate(e){if(!e)return"";if(this.options.readOnly&&this.component.readOnlyValue)return this.itemValue(e);if(e&&!this.component.template){const t=e.label||e;return"string"==typeof t?this.t(t):t}if("string"==typeof e)return this.t(e);const t=this.component.template?this.interpolate(this.component.template,{item:e}):e.label;if(t){const e=t.replace(/<\/?[^>]+(>|$)/g,"");return t.replace(e,this.t(e))}return JSON.stringify(e)}addOption(e,n,i={},r){const s={value:t.isObject(e)?e:t.isNull(e)?this.emptyValue:String(this.normalizeSingleValue(e)),label:n};if(e&&this.selectOptions.push(s),this.refs.selectContainer&&"html5"===this.component.widget){const n=document.createElement("div");n.innerHTML=this.sanitize(this.renderTemplate("selectOption",{selected:t.isEqual(this.dataValue,s.value),option:s,attrs:i,id:r,useId:""===this.valueProperty&&t.isObject(e)&&r})).trim(),s.element=n.firstChild,this.refs.selectContainer.appendChild(s.element)}}addValueOptions(e){if(e=e||[],!this.selectOptions.length){if(this.choices){const t=Array.isArray(this.dataValue)?this.dataValue:[this.dataValue];return this.addCurrentChoices(t,e)}this.component.multiple||this.addPlaceholder()}return!1}disableInfiniteScroll(){this.downloadedResources&&(this.downloadedResources.serverCount=this.downloadedResources.length,this.serverCount=this.downloadedResources.length)}setItems(e,n){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){console.warn(t.message),e=[]}if(this.component.onSetItems&&"function"==typeof this.component.onSetItems){const t=this.component.onSetItems(this,e);t&&(e=t)}let i;if(!this.choices&&this.refs.selectContainer&&(this.loading,this.empty(this.refs.selectContainer)),this.component.selectValues&&(e=t.get(e,this.component.selectValues,e)||[]),this.isInfiniteScrollProvided){i=!!this.isSelectURL&&t.isEqual(e,this.downloadedResources);const n=this.component.limit>e.length,r=i&&this.downloadedResources&&this.downloadedResources.length===e.length;n?this.disableInfiniteScroll():r?this.selectOptions=[]:this.serverCount=e.serverCount}if(this.isScrollLoading&&e?(i||(this.downloadedResources=this.downloadedResources?this.downloadedResources.concat(e):e),this.downloadedResources.serverCount=e.serverCount||this.downloadedResources.serverCount):(this.downloadedResources=e||[],this.selectOptions=[]),n||this.addValueOptions(e),"html5"!==this.component.widget||this.component.placeholder||this.addOption(null,""),t.each(e,(e,t)=>{this.addOption(this.itemValue(e),this.itemTemplate(e),{},String(t))}),this.choices?this.choices.setChoices(this.selectOptions,"value","label",!0):this.loading,this.isScrollLoading=!1,this.loading=!1,this.dataValue)this.setValue(this.dataValue,{noUpdateEvent:!0});else{const e=this.multiple?this.defaultValue||[]:this.defaultValue;e&&this.setValue(e)}this.itemsLoadedResolve()}loadItems(e,i,r,s,o,a){s=s||{};const l=parseInt(this.component.minSearch,10);if(this.component.searchField&&l>0&&(!i||i.length<l))return this.setItems([]);"GET"===(o=o||"GET").toUpperCase()&&(a=null);const u=this.component.limit||100,c=this.isScrollLoading?this.selectOptions.length:0,h="url"===this.component.dataSrc?{}:{limit:u,skip:c};e=this.interpolate(e,{formioBase:n.getBaseUrl(),search:i,limit:u,skip:c,page:Math.abs(Math.floor(c/u))}),this.component.searchField&&i&&(Array.isArray(i)?h[`${this.component.searchField}`]=i.join(","):h[`${this.component.searchField}`]=i),this.component.selectFields&&(h.select=this.component.selectFields),this.component.sort&&(h.sort=this.component.sort),t.isEmpty(h)||(e+=(e.includes("?")?"&":"?")+n.serialize(h,e=>this.interpolate(e))),this.component.filter&&(e+=(e.includes("?")?"&":"?")+this.interpolate(this.component.filter)),s.header=r,this.loading=!0,n.makeRequest(this.options.formio,"select",e,o,a,s).then(e=>{this.loading=!1,this.setItems(e,!!i)}).catch(e=>{this.isInfiniteScrollProvided&&(this.setItems([]),this.disableInfiniteScroll()),this.isScrollLoading=!1,this.loading=!1,this.itemsLoadedResolve(),this.emit("componentError",{component:this.component,message:e.toString()}),console.warn(`Unable to load resources for ${this.key}`)})}get requestHeaders(){const e=new n.Headers;if(this.component.data&&this.component.data.headers)try{t.each(this.component.data.headers,t=>{t.key&&e.set(t.key,this.interpolate(t.value))})}catch(e){console.warn(e.message)}return e}getCustomItems(){return this.evaluate(this.component.data.custom,{values:[]},"values")}updateCustomItems(){this.setItems(this.getCustomItems()||[])}refresh(){this.component.clearOnRefresh&&this.setValue(this.emptyValue),this.component.lazyLoad&&(this.activated=!1,this.loading=!0,this.setItems([])),this.updateItems(null,!0)}get additionalResourcesAvailable(){return t.isNil(this.serverCount)||this.serverCount>this.downloadedResources.length}get serverCount(){return this.isFromSearch?this.searchServerCount:this.defaultServerCount}set serverCount(e){this.isFromSearch?this.searchServerCount=e:this.defaultServerCount=e}get downloadedResources(){return this.isFromSearch?this.searchDownloadedResources:this.defaultDownloadedResources}set downloadedResources(e){this.isFromSearch?this.searchDownloadedResources=e:this.defaultDownloadedResources=e}updateItems(e,i){if(!this.component.data)return console.warn(`Select component ${this.key} does not have data configuration.`),void this.itemsLoadedResolve();if(this.checkConditions())switch(this.component.dataSrc){case"values":this.setItems(this.component.data.values);break;case"json":this.setItems(this.component.data.json);break;case"custom":this.updateCustomItems();break;case"resource":{if(!this.component.data.resource||!i&&!this.active)return;let t=this.options.formio?this.options.formio.formsUrl:`${n.getProjectUrl()}/form`;if(t+=`/${this.component.data.resource}/submission`,i||this.additionalResourcesAvailable)try{this.loadItems(t,e,this.requestHeaders)}catch(e){console.warn(`Unable to load resources for ${this.key}`)}else this.setItems(this.downloadedResources);break}case"url":{if(!i&&!this.active)return;let t,r,{url:s}=this.component.data;if(s.startsWith("/")){const e=s.startsWith("/project")?n.getBaseUrl():n.getProjectUrl()||n.getBaseUrl();s=e+s}this.component.data.method?(t=this.component.data.method,r="POST"===t.toUpperCase()?this.component.data.body:null):t="GET";const o=this.component.authenticate?{}:{noToken:!0};this.loadItems(s,e,this.requestHeaders,o,t,r);break}case"indexeddb":if(window.indexedDB||window.alert("Your browser doesn't support current version of indexedDB"),this.component.indexeddb&&this.component.indexeddb.database&&this.component.indexeddb.table){const e=window.indexedDB.open(this.component.indexeddb.database);e.onupgradeneeded=(e=>{if(this.component.customOptions){const t=e.target.result,n=t.createObjectStore(this.component.indexeddb.table,{keyPath:"myKey",autoIncrement:!0});n.transaction.oncomplete=(()=>{const e=t.transaction(this.component.indexeddb.table,"readwrite");this.component.customOptions.forEach(t=>{e.objectStore(this.component.indexeddb.table).put(t)})})}}),e.onerror=(()=>{window.alert(e.errorCode)}),e.onsuccess=(e=>{const n=e.target.result,i=n.transaction(this.component.indexeddb.table,"readwrite"),r=i.objectStore(this.component.indexeddb.table);new s(e=>{const t=[];r.getAll().onsuccess=(n=>{n.target.result.forEach(e=>{t.push(e)}),e(t)})}).then(e=>{t.isEmpty(this.component.indexeddb.filter)||(e=t.filter(e,this.component.indexeddb.filter)),this.setItems(e)})})}}else this.itemsLoadedResolve()}addPlaceholder(){this.component.placeholder&&this.addOption("",this.component.placeholder,{placeholder:!0})}activate(){this.active||(this.activated=!0,this.choices?this.choices.setChoices([{value:"",label:`<i class="${this.iconClass("refresh")}" style="font-size:1.3em;"></i>`,disabled:!0}],"value","label",!0):"url"!==this.component.dataSrc&&"resource"!==this.component.dataSrc||this.addOption("",this.t("loading...")),this.triggerUpdate())}get active(){return!this.component.lazyLoad||this.activated||this.options.readOnly}render(){const e=this.inputInfo;return e.attr=e.attr||{},e.multiple=this.component.multiple,super.render(this.wrapElement(this.renderTemplate("select",{input:e,selectOptions:"",index:null})))}wrapElement(e){return this.component.addResource?this.renderTemplate("resourceAdd",{element:e}):e}choicesOptions(){const e=!this.component.hasOwnProperty("searchEnabled")||this.component.searchEnabled,n=this.t(this.component.placeholder);let i=this.component.customOptions||{};if("string"==typeof i)try{i=JSON.parse(i)}catch(e){console.warn(e.message),i={}}return{removeItemButton:!this.component.disabled&&t.get(this.component,"removeItemButton",!0),itemSelectText:"",classNames:{containerOuter:"choices form-group formio-choices",containerInner:this.transform("class","form-control ui fluid selection dropdown")},addItemText:!1,placeholder:!!this.component.placeholder,placeholderValue:n,noResultsText:this.t("No results found"),noChoicesText:this.t("No choices to choose from"),searchPlaceholderValue:this.t("Type to search"),shouldSort:!1,position:this.component.dropdown||"auto",searchEnabled:e,searchChoices:!this.component.searchField,searchFields:t.get(this,"component.searchFields",["label"]),fuseOptions:Object.assign({},t.get(this,"component.fuseOptions",{}),{include:"score",threshold:t.get(this,"component.searchThreshold",.3)}),valueComparer:t.isEqual,resetScrollPosition:!1,...i}}attach(i){const s=super.attach(i);this.loadRefs(i,{selectContainer:"single",addResource:"single",autocompleteInput:"single"});const o=this.refs.autocompleteInput;o&&this.addEventListener(o,"change",e=>{this.setValue(e.target.value)});const a=this.refs.selectContainer;if(!a)return;if(this.addEventListener(a,this.inputInfo.changeEvent,()=>this.updateValue(null,{modified:!0})),"html5"===this.component.widget)return this.triggerUpdate(),this.focusableElement=a,this.addEventListener(a,"focus",()=>this.update()),void this.addEventListener(a,"keydown",e=>{const{key:t}=e;["Backspace","Delete"].includes(t)&&this.setValue(this.emptyValue)});const l=a.tabIndex;this.addPlaceholder(),a.setAttribute("dir",this.i18next.dir()),this.choices&&this.choices.destroy();const u=this.choicesOptions();return this.choices=new e(a,u),this.addEventListener(a,"hideDropdown",()=>{this.choices.input.element.value="",this.updateItems(null,!0)}),this.selectOptions&&this.selectOptions.length&&this.choices.setChoices(this.selectOptions,"value","label",!0),this.component.multiple?this.focusableElement=this.choices.input.element:(this.focusableElement=this.choices.containerInner.element,this.choices.containerOuter.element.setAttribute("tabIndex","-1"),u.searchEnabled&&this.addEventListener(this.choices.containerOuter.element,"focus",()=>this.focusableElement.focus())),this.isInfiniteScrollProvided&&(this.scrollList=this.choices.choiceList.element,this.onScroll=(()=>{const e=!this.isScrollLoading&&this.additionalResourcesAvailable&&this.scrollList.scrollTop+this.scrollList.clientHeight>=this.scrollList.scrollHeight;e&&(this.isScrollLoading=!0,this.choices.setChoices([{value:`${this.id}-loading`,label:"Loading...",disabled:!0}],"value","label"),this.triggerUpdate(this.choices.input.element.value))}),this.addEventListener(this.scrollList,"scroll",this.onScroll)),this.focusableElement.setAttribute("tabIndex",l),this.component.searchField&&(this.choices&&this.choices.input&&this.choices.input.element&&this.addEventListener(this.choices.input.element,"input",e=>{this.isFromSearch=!!e.target.value,e.target.value?(this.serverCount=null,this.downloadedResources=[]):this.triggerUpdate()}),this.addEventListener(a,"search",e=>this.triggerUpdate(e.detail.value)),this.addEventListener(a,"stopSearch",()=>this.triggerUpdate())),this.addEventListener(a,"showDropdown",()=>{this.dataValue&&this.triggerUpdate(),this.update()}),u.placeholderValue&&this.choices._isSelectOneElement&&(this.addPlaceholderItem(u.placeholderValue),this.addEventListener(a,"removeItem",()=>{this.addPlaceholderItem(u.placeholderValue)})),this.addValueOptions(),this.setChoicesValue(this.dataValue),this.isSelectResource&&this.refs.addResource&&this.addEventListener(this.refs.addResource,"click",e=>{e.preventDefault();const i=this.ce("div"),s=this.createModal(i),o=t.get(this.root,"formio.projectUrl",n.getBaseUrl()),a=`${o}/form/${this.component.data.resource}`;new r(i,a,{}).ready.then(e=>{e.on("submit",e=>{this.component.multiple&&(e=[...this.dataValue,e]),this.setValue(e),s.close()})})}),this.disabled=this.shouldDisabled,this.triggerUpdate(),s}addPlaceholderItem(e){const t=this.choices._store.activeItems;t.length||this.choices._addItem({value:e,label:e,choiceId:0,groupId:-1,customProperties:null,placeholder:!0,keyCode:null})}update(){"custom"===this.component.dataSrc&&this.updateCustomItems(),this.activate()}set disabled(e){super.disabled=e,this.choices&&(e?(this.setDisabled(this.choices.containerInner.element,!0),this.focusableElement.removeAttribute("tabIndex"),this.choices.disable()):(this.setDisabled(this.choices.containerInner.element,!1),this.focusableElement.setAttribute("tabIndex",this.component.tabindex||0),this.choices.enable()))}get disabled(){return super.disabled}set visible(e){e&&!this._visible!=!e&&this.triggerUpdate(),super.visible=e}get visible(){return super.visible}addCurrentChoices(e,n,i){if(!e)return!1;const r=[],s=e.reduce((e,s)=>{if(!s||t.isEmpty(s))return e;let o=!1;const a=n===this.selectOptions;return n&&n.length&&t.each(n,e=>{if(e._id&&s._id&&e._id===s._id)return o=!0,!1;const n=i?e.value:this.itemValue(e,a);return!(o|=t.isEqual(n,s))}),o?o||e:(r.push({value:this.itemValue(s),label:this.itemTemplate(s)}),!0)},!1);return r.length&&(this.choices?this.choices.setChoices(r,"value","label",!0):r.map(e=>{this.addOption(e.value,e.label)})),s}getValueAsString(e){return this.component.multiple&&Array.isArray(e)?e.map(this.asString.bind(this)).join(", "):this.asString(e)}getValue(){if(this.viewOnly||this.loading||!this.component.lazyLoad&&!this.selectOptions.length||!this.element)return this.dataValue;let e=this.emptyValue;if(this.choices)e=this.choices.getValue(!0),!this.component.multiple&&this.component.placeholder&&e===this.t(this.component.placeholder)&&(e=this.emptyValue);else if(this.refs.selectContainer){if(e=this.refs.selectContainer.value,""===this.valueProperty){if(""===e)return{};const n=this.selectOptions[e];n&&t.isObject(n.value)&&(e=n.value)}}else e=this.dataValue;return void 0!==e&&null!==e||(e=""),e}redraw(){const e=super.redraw();return this.triggerUpdate(),e}normalizeSingleValue(e){if(!e)return;const n=this.component.dataType||"auto",i="string"==typeof e?e.toLowerCase():e,r={value:i,toNumber(){try{const e=parseFloat(this.value);return!Number.isNaN(e)&&isFinite(e)?(this.value=e,this):this}catch(e){return this}},toBoolean(){try{const e="true"===this.value||"false"===this.value;return e?(this.value="true"===this.value,this):this}catch(e){return this}},toString(){try{const e="object"==typeof this.value?JSON.stringify(this.value):this.value.toString();return e?(this.value=e,this):this}catch(e){return this}},auto(){try{const e=this.toString().toNumber().toBoolean();return e&&!t.isObject(e)&&(this.value=e),this}catch(e){return this}}};switch(n){case"auto":return r.auto().value;case"number":return r.toNumber().value;case"string":return r.toString().value;case"boolean":return r.toBoolean().value}}normalizeValue(e){return this.component.multiple&&Array.isArray(e)?e.map(e=>this.normalizeSingleValue(e)):super.normalizeValue(this.normalizeSingleValue(e))}setValue(e,n={}){const i=this.dataValue,r=this.updateValue(e,n);e=this.dataValue;const s=Array.isArray(i)?i.length:i,o=Array.isArray(e)?e.length:e;if(this.component.multiple&&Array.isArray(e)?e=e.map(e=>"boolean"==typeof e||"number"==typeof e?e.toString():e):"boolean"!=typeof e&&"number"!=typeof e||(e=e.toString()),this.loading)return r;if(this.isInitApiCallNeeded(o)){this.loading=!0,this.lazyLoadInit=!0;const n=this.component.searchField||this.component.valueProperty;return this.triggerUpdate(t.get(e.data||e,n,e),!0),r}return this.addValueOptions(),this.setChoicesValue(e,s),r}isInitApiCallNeeded(e){return this.component.lazyLoad&&!this.lazyLoadInit&&!this.active&&!this.selectOptions.length&&e&&this.visible&&(this.component.searchField||this.component.valueProperty)}setChoicesValue(e,n){const i=Array.isArray(e)?e.length:e;if(n=void 0===n||n,this.choices)if(i){this.choices.removeActiveItems();const t=Array.isArray(e)?e:[e];this.addCurrentChoices(t,this.selectOptions,!0)||this.choices.setChoices(this.selectOptions,"value","label",!0),this.choices.setChoiceByValue(e)}else n&&this.choices.removeActiveItems();else if(i){const n=Array.isArray(e)?e:[e];t.each(this.selectOptions,e=>{t.each(n,n=>{if(t.isEqual(n,e.value)&&e.element)return e.element.selected=!0,e.element.setAttribute("selected","selected"),!1})})}else t.each(this.selectOptions,e=>{e.element&&(e.element.selected=!1,e.element.removeAttribute("selected"))})}deleteValue(){this.setValue("",{noUpdateEvent:!0}),this.unset()}validateMultiple(){return!1}isBooleanOrNumber(e){return"number"==typeof e||"boolean"==typeof e}asString(e){if(e=e||this.getValue(),this.isBooleanOrNumber(e)&&(e=e.toString()),Array.isArray(e)&&e.some(e=>this.isBooleanOrNumber(e))&&(e=e.map(e=>{this.isBooleanOrNumber(e)&&(e=e.toString())})),["values","custom"].includes(this.component.dataSrc)){const{items:n,valueProperty:i}="values"===this.component.dataSrc?{items:this.component.data.values,valueProperty:"value"}:{items:this.getCustomItems(),valueProperty:this.valueProperty};e=this.component.multiple&&Array.isArray(e)?t.filter(n,t=>e.includes(t.value)):i?t.find(n,[i,e]):e}if(t.isString(e))return e;if(Array.isArray(e)){const t=[];return e.forEach(e=>t.push(this.itemTemplate(e))),t.length>0?t.join("<br />"):"-"}return t.isNil(e)?"-":this.itemTemplate(e)}detach(){super.detach(),this.choices&&(this.choices.destroy(),this.choices=null)}focus(){this.focusableElement&&this.focusableElement.focus()}setErrorClasses(e,t,n){super.setErrorClasses(e,t,n),this.choices?super.setErrorClasses([this.choices.containerInner.element],t,n):super.setErrorClasses([this.refs.selectContainer],t,n)}}}),e("skylark-formio/components/resource/Resource",["../select/Select"],function(e){"use strict";return class t extends e{static schema(...t){return e.schema({type:"resource",label:"Resource",key:"resource",dataSrc:"resource",resource:"",project:"",template:"<span>{{ item.data }}</span>"},...t)}static get builderInfo(){return{title:"Resource",group:"premium",icon:"files-o",weight:90,documentation:"http://help.form.io/userguide/#resource",schema:t.schema()}}init(){super.init(),this.component.dataSrc="resource",this.component.data={resource:this.component.resource}}get defaultSchema(){return t.schema()}}}),e("skylark-formio/components/selectboxes/SelectBoxes",["skylark-lodash","../radio/Radio"],function(e,t){"use strict";return class n extends t{static schema(...e){return t.schema({type:"selectboxes",label:"Select Boxes",key:"selectBoxes",inline:!1},...e)}static get builderInfo(){return{title:"Select Boxes",group:"basic",icon:"plus-square",weight:60,documentation:"http://help.form.io/userguide/#selectboxes",schema:n.schema()}}constructor(...e){super(...e),this.validators=this.validators.concat("minSelectedCount","maxSelectedCount")}init(){super.init(),this.component.inputType="checkbox"}get defaultSchema(){return n.schema()}get inputInfo(){const e=super.elementInfo();return e.attr.name+="[]",e.attr.type="checkbox",e.attr.class="form-check-input",e}get emptyValue(){return this.component.values.reduce((e,t)=>(e[t.value]=!1,e),{})}isEmpty(e=this.dataValue){let t=!0;for(const n in e)if(e.hasOwnProperty(n)&&e[n]){t=!1;break}return t}getValue(){if(this.viewOnly||!this.refs.input||!this.refs.input.length)return this.dataValue;const t={};return e.each(this.refs.input,e=>{t[e.value]=!!e.checked}),t}normalizeValue(t){return"object"!=typeof(t=t||{})&&(t="string"==typeof t?{[t]:!0}:{}),Array.isArray(t)&&e.each(t,e=>{t[e]=!0}),t}setValue(t,n={}){const i=this.updateValue(t,n);return t=this.dataValue,e.each(this.refs.input,n=>{e.isUndefined(t[n.value])&&(t[n.value]=!1),n.checked=!!t[n.value]}),i}getValueAsString(t){return t?e(this.component.values||[]).filter(e=>t[e.value]).map("label").join(", "):""}checkComponentValidity(e,t,n){const i=this.component.validate.minSelectedCount,r=this.component.validate.maxSelectedCount;if((r||i)&&!this.isValid(e,t)){const e=Object.keys(this.validationValue).reduce((e,t)=>(this.validationValue[t]&&e++,e),0);if(r&&e>=r){if(this.refs.input&&this.refs.input.forEach(e=>{e.checked||(e.disabled=!0)}),r&&e>r){const e=this.component.maxSelectedCountMessage?this.component.maxSelectedCountMessage:`You can only select up to ${r} items.`;return this.setCustomValidity(e,t),!1}}else{if(i&&e<i){this.refs.input&&this.refs.input.forEach(e=>{e.disabled=!1});const e=this.component.minSelectedCountMessage?this.component.minSelectedCountMessage:`You must select at least ${i} items.`;return this.setCustomValidity(e,t),!1}this.refs.input&&this.refs.input.forEach(e=>{e.disabled=!1})}}return super.checkComponentValidity(e,t,n)}}}),e("skylark-formio/vendors/signature_pad/Point",[],function(){function e(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}return e.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},e.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},e.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},e}),e("skylark-formio/vendors/signature_pad/bezier",[],function(){function e(e,t,n,i){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=i}return e.prototype.length=function(){let e,t,n=0;for(let i=0;i<=10;i+=1){const r=i/10,s=this._point(r,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(r,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){const i=s-e,r=o-t;n+=Math.sqrt(i*i+r*r)}e=s,t=o}return n},e.prototype._point=function(e,t,n,i,r){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*i*(1-e)*e*e+r*e*e*e},e}),e("skylark-formio/vendors/signature_pad/throttle",[],function(){return function(e,t,n){var i,r,s,o=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:Date.now(),o=null,s=e.apply(i,r),o||(i=r=null)};return function(){var u=Date.now();a||!1!==n.leading||(a=u);var c=t-(u-a);return i=this,r=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),a=u,s=e.apply(i,r),o||(i=r=null)):o||!1===n.trailing||(o=setTimeout(l,c)),s}}}),e("skylark-formio/vendors/signature_pad/SignaturePad",["./Point","./bezier","./throttle"],function(e,t,n){function i(e,t){const r=this,s=t||{};this.velocityFilterWeight=s.velocityFilterWeight||.7,this.minWidth=s.minWidth||.5,this.maxWidth=s.maxWidth||2.5,this.throttle="throttle"in s?s.throttle:16,this.minDistance="minDistance"in s?s.minDistance:5,this.throttle?this._strokeMoveUpdate=n(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=s.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=s.penColor||"black",this.backgroundColor=s.backgroundColor||"rgba(0,0,0,0)",this.onBegin=s.onBegin,this.onEnd=s.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(r._mouseButtonDown=!0,r._strokeBegin(e))},this._handleMouseMove=function(e){r._mouseButtonDown&&r._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&r._mouseButtonDown&&(r._mouseButtonDown=!1,r._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){const t=e.changedTouches[0];r._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();const t=e.targetTouches[0];r._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){const t=e.target===r._canvas;t&&(e.preventDefault(),r._strokeEnd(e))},this.on()}return i.prototype.clear=function(){const e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(e,t={}){const n=new Image,i=t.ratio||window.devicePixelRatio||1,r=t.width||this._canvas.width/i,s=t.height||this._canvas.height/i;this._reset(),n.src=e,n.onload=(()=>{this._ctx.drawImage(n,0,0,r,s)}),this._isEmpty=!1},i.prototype.toDataURL=function(e,...t){switch(e){case"image/svg+xml":return this._toSVG();default:return this._canvas.toDataURL(e,...t)}},i.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},i.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},i.prototype._strokeUpdate=function(e){const t=e.clientX,n=e.clientY,i=this._createPoint(t,n),r=this._data[this._data.length-1],s=r&&r[r.length-1],o=s&&i.distanceTo(s)<this.minDistance;if(!s||!o){const{curve:e,widths:t}=this._addPoint(i);e&&t&&this._drawCurve(e,t.start,t.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},i.prototype._strokeEnd=function(e){const t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){const e=this._data[this._data.length-1],t=e[e.length-1];n.equals(t)||e.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(e)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(t,n,i){const r=this._canvas.getBoundingClientRect();return new e(t-r.left,n-r.top,i||(new Date).getTime())},i.prototype._addPoint=function(e){const n=this.points;let i;if(n.push(e),n.length>2){3===n.length&&n.unshift(n[0]);const e=(i=this._calculateCurveControlPoints(n[0],n[1],n[2])).c2,r=(i=this._calculateCurveControlPoints(n[1],n[2],n[3])).c1,s=new t(n[1],e,r,n[2]),o=this._calculateCurveWidths(s);return n.shift(),{curve:s,widths:o}}return{}},i.prototype._calculateCurveControlPoints=function(t,n,i){const r=t.x-n.x,s=t.y-n.y,o=n.x-i.x,a=n.y-i.y,l={x:(t.x+n.x)/2,y:(t.y+n.y)/2},u={x:(n.x+i.x)/2,y:(n.y+i.y)/2},c=Math.sqrt(r*r+s*s),h=Math.sqrt(o*o+a*a),d=l.x-u.x,p=l.y-u.y,f=h/(c+h),m={x:u.x+d*f,y:u.y+p*f},g=n.x-m.x,y=n.y-m.y;return{c1:new e(l.x+g,l.y+y),c2:new e(u.x+g,u.y+y)}},i.prototype._calculateCurveWidths=function(e){const t=e.startPoint,n=e.endPoint,i={start:null,end:null},r=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(r);return i.start=this._lastWidth,i.end=s,this._lastVelocity=r,this._lastWidth=s,i},i.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},i.prototype._drawPoint=function(e,t,n){const i=this._ctx;i.moveTo(e,t),i.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(e,t,n){const i=this._ctx,r=n-t,s=Math.floor(e.length());i.beginPath();for(let n=0;n<s;n+=1){const i=n/s,o=i*i,a=o*i,l=1-i,u=l*l,c=u*l;let h=c*e.startPoint.x;h+=3*u*i*e.control1.x,h+=3*l*o*e.control2.x,h+=a*e.endPoint.x;let d=c*e.startPoint.y;d+=3*u*i*e.control1.y,d+=3*l*o*e.control2.y,d+=a*e.endPoint.y;const p=t+a*r;this._drawPoint(h,d,p)}i.closePath(),i.fill()},i.prototype._drawDot=function(e){const t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},i.prototype._fromData=function(t,n,i){for(let r=0;r<t.length;r+=1){const s=t[r];if(s.length>1)for(let t=0;t<s.length;t+=1){const i=s[t],r=new e(i.x,i.y,i.time),o=i.color;if(0===t)this.penColor=o,this._reset(),this._addPoint(r);else if(t!==s.length-1){const{curve:e,widths:t}=this._addPoint(r);e&&t&&n(e,t,o)}}else{this._reset();const e=s[0];i(e)}}},i.prototype._toSVG=function(){const e=this._data,t=this._canvas,n=Math.max(window.devicePixelRatio||1,1),i=t.width/n,r=t.height/n,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttributeNS(null,"width",t.width),s.setAttributeNS(null,"height",t.height),this._fromData(e,(e,t,n)=>{const i=document.createElement("path");if(!(isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y))){const r=`M ${e.startPoint.x.toFixed(3)},${e.startPoint.y.toFixed(3)} `+`C ${e.control1.x.toFixed(3)},${e.control1.y.toFixed(3)} `+`${e.control2.x.toFixed(3)},${e.control2.y.toFixed(3)} `+`${e.endPoint.x.toFixed(3)},${e.endPoint.y.toFixed(3)}`;i.setAttribute("d",r),i.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),s.appendChild(i)}},e=>{const t=document.createElement("circle"),n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.setAttribute("r",n),t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("fill",e.color),s.appendChild(t)});const o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+` viewBox="0 0 ${i} ${r}"`+` width="${i}"`+` height="${r}"`+">";let a=s.innerHTML;if(void 0===a){const e=document.createElement("dummy"),t=s.childNodes;e.innerHTML="";for(let n=0;n<t.length;n+=1)e.appendChild(t[n].cloneNode(!0));a=e.innerHTML}const l=o+a+"</svg>";return"data:image/svg+xml;base64,"+btoa(l)},i.prototype.fromData=function(e){this.clear(),this._fromData(e,(e,t)=>this._drawCurve(e,t.start,t.end),e=>this._drawDot(e)),this._data=e},i.prototype.toData=function(){return this._data},i}),e("skylark-formio/components/signature/Signature",["../../vendors/signature_pad/SignaturePad","../_classes/input/Input","skylark-lodash"],function(e,t,n){"use strict";return class i extends t{static schema(...e){return t.schema({type:"signature",label:"Signature",key:"signature",footer:"Sign above",width:"100%",height:"150px",penColor:"black",backgroundColor:"rgb(245,245,235)",minWidth:"0.5",maxWidth:"2.5"},...e)}static get builderInfo(){return{title:"Signature",group:"advanced",icon:"pencil",weight:120,documentation:"http://help.form.io/userguide/#signature",schema:i.schema()}}init(){super.init(),this.currentWidth=0,this.scale=1,this.component.width||(this.component.width="100%"),this.component.height||(this.component.height="200px")}get emptyValue(){return""}get defaultSchema(){return i.schema()}get inputInfo(){const e=super.inputInfo;return e.type="input",e.attr.type="hidden",e}get className(){return`${super.className} signature-pad`}labelIsHidden(){return!0}setValue(e,t={}){const n=super.setValue(e,t);return e&&this.refs.signatureImage&&this.options.readOnly&&(this.refs.signatureImage.setAttribute("src",e),this.showCanvas(!1)),this.signaturePad&&(e?n&&this.triggerChange():this.signaturePad.clear()),n}showCanvas(e){e?(this.refs.canvas&&(this.refs.canvas.style.display="inherit"),this.refs.signatureImage&&(this.refs.signatureImage.style.display="none")):(this.refs.canvas&&(this.refs.canvas.style.display="none"),this.refs.signatureImage&&(this.refs.signatureImage.style.display="inherit"))}onDisabled(){this.showCanvas(!super.disabled),this.signaturePad&&(super.disabled?(this.signaturePad.off(),this.refs.refresh&&this.refs.refresh.classList.add("disabled")):(this.signaturePad.on(),this.refs.refresh&&this.refs.refresh.classList.remove("disabled")))}checkSize(e,t){if(e||this.refs.padBody.offsetWidth!==this.currentWidth){this.scale=e?t:this.scale,this.currentWidth=this.refs.padBody.offsetWidth,this.refs.canvas.width=this.currentWidth*this.scale,this.refs.canvas.height=this.refs.padBody.offsetHeight*this.scale;const n=this.refs.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0),n.scale(1/this.scale,1/this.scale),n.fillStyle=this.signaturePad.backgroundColor,n.fillRect(0,0,this.refs.canvas.width,this.refs.canvas.height),this.signaturePad.clear(),this.dataValue&&this.signaturePad.fromDataURL(this.dataValue)}}renderElement(e,t){return this.renderTemplate("signature",{element:super.renderElement(e,t),required:n.get(this.component,"validate.required",!1)})}setOpenModalElement(){const e=`\n      <label class="control-label">${this.component.label}</label><br>\n      <button lang='en' class='btn btn-light btn-md open-modal-button' ref='openModal'>Click to Sign</button>\n    `;this.componentModal.setOpenModalElement(e)}getModalPreviewTemplate(){return`\n      <label class="control-label">${this.component.label}</label><br>\n      <img src=${this.dataValue} ref='openModal' />\n    `}attach(t){this.loadRefs(t,{canvas:"single",refresh:"single",padBody:"single",signatureImage:"single"});const i=super.attach(t);return this.onDisabled(),this.refs.refresh&&this.options.readOnly&&this.refs.refresh.classList.add("disabled"),this.refs.canvas&&(this.signaturePad=new e(this.refs.canvas,{minWidth:this.component.minWidth,maxWidth:this.component.maxWidth,penColor:this.component.penColor,backgroundColor:this.component.backgroundColor}),this.signaturePad.onEnd=(()=>this.setValue(this.signaturePad.toDataURL())),this.refs.signatureImage.setAttribute("src",this.signaturePad.toDataURL()),this.refs.padBody&&(this.refs.padBody.style.maxWidth||(this.refs.padBody.style.maxWidth="100%"),this.addEventListener(window,"resize",n.debounce(()=>this.checkSize(),100)),setTimeout(function e(){this.refs.padBody&&this.refs.padBody.offsetWidth?this.checkSize():setTimeout(e.bind(this),200)}.bind(this),200))),this.addEventListener(this.refs.refresh,"click",e=>{e.preventDefault(),this.showCanvas(!0),this.signaturePad.clear(),this.setValue(this.defaultValue)}),this.setValue(this.dataValue),i}detach(){this.signaturePad&&this.signaturePad.off(),this.signaturePad=null,this.currentWidth=0,super.detach()}getValueAsString(e){return e?"Yes":"No"}focus(){this.refs.padBody.focus()}}}),e("skylark-formio/components/survey/Survey",["skylark-lodash","../_classes/field/Field","../../utils/utils"],function(e,t,n){"use strict";return class i extends t{static schema(...e){return t.schema({type:"survey",label:"Survey",key:"survey",questions:[],values:[]},...e)}static get builderInfo(){return{title:"Survey",group:"advanced",icon:"list",weight:110,documentation:"http://help.form.io/userguide/#survey",schema:i.schema()}}get defaultSchema(){return i.schema()}render(){return super.render(this.renderTemplate("survey"))}attach(e){this.loadRefs(e,{input:"multiple"});const t=super.attach(e);return this.refs.input.forEach(e=>{this.disabled?e.setAttribute("disabled","disabled"):this.addEventListener(e,"change",()=>this.updateValue(null,{modified:!0}))}),this.setValue(this.dataValue),t}setValue(t,n={}){return!!t&&(e.each(this.component.questions,n=>{e.each(this.refs.input,e=>{e.name===this.getInputName(n)&&(e.checked=e.value===t[n.value])})}),this.updateValue(t,n))}get emptyValue(){return{}}getValue(){if(this.viewOnly||!this.refs.input||!this.refs.input.length)return this.dataValue;const t={};return e.each(this.component.questions,n=>{e.each(this.refs.input,e=>{if(e.checked&&e.name===this.getInputName(n))return t[n.value]=e.value,!1})}),t}set disabled(t){super.disabled=t,e.each(this.refs.input,e=>{e.disabled=!0})}get disabled(){return super.disabled}validateRequired(e,t){return!n.boolValue(e)||this.component.questions.reduce((e,n)=>e&&Boolean(t[n.value]),!0)}getInputName(e){return`${this.options.name}[${e.value}]`}}}),e("skylark-formio/utils/builder",["skylark-lodash","./utils"],function(e,t){"use strict";return{uniquify(e,n){let i=!1;const r={};return t.eachComponent(e,function(e){r[e.key]=!0},!0),t.eachComponent([n],e=>{if(!e.key)return;const n=t.uniqueKey(r,e.key);n!==e.key&&(e.key=n,r[n]=!0,i=!0)},!0),i},additionalShortcuts:{button:["Enter","Esc"]},getAlphaShortcuts:()=>e.range("A".charCodeAt(),"Z".charCodeAt()+1).map(e=>String.fromCharCode(e)),getAdditionalShortcuts(e){return this.additionalShortcuts[e]||[]},getBindedShortcuts(e,n){const i=[];return t.eachComponent(e,e=>{e!==n&&(e.shortcut&&i.push(e.shortcut),e.values&&e.values.forEach(e=>{e.shortcut&&i.push(e.shortcut)}))},!0),i},getAvailableShortcuts(t,n){return n?[""].concat(e.difference(this.getAlphaShortcuts().concat(this.getAdditionalShortcuts(n.type)),this.getBindedShortcuts(t.components,n))).map(e=>({label:e,value:e})):[]}}}),e("skylark-formio/components/table/Table",["skylark-lodash","../../utils/builder","../_classes/nested/NestedComponent"],function(e,t,n){"use strict";return class i extends n{static emptyTable(e,t){const n=[];for(let i=0;i<e;i++){const e=[];for(let n=0;n<t;n++)e.push({components:[]});n.push(e)}return n}static schema(...e){return n.schema({label:"Table",type:"table",input:!1,key:"table",numRows:3,numCols:3,rows:i.emptyTable(3,3),header:[],caption:"",cloneRows:!1,striped:!1,bordered:!1,hover:!1,condensed:!1,persistent:!1},...e)}static get builderInfo(){return{title:"Table",group:"layout",icon:"table",weight:40,documentation:"http://help.form.io/userguide/#table",schema:i.schema()}}get defaultSchema(){return i.schema()}get schema(){const t=e.omit(super.schema,"components");return t.rows=[],this.eachComponent(e=>{t.rows&&t.rows.length||(t.rows=i.emptyTable(this.component.numRows,this.component.numCols)),t.rows[e.tableRow]||(t.rows[e.tableRow]=[]),t.rows[e.tableRow][e.tableColumn]||(t.rows[e.tableRow][e.column]={components:[]}),t.rows[e.tableRow][e.tableColumn].components.push(e.schema)}),t.rows.length||(t.rows=i.emptyTable(this.component.numRows,this.component.numCols)),t}get className(){let e=`table-responsive ${super.className}`;return this.component.bordered||(e+=" no-top-border-table"),e}get cellClassName(){let e="";return this.component.cellAlignment&&(e=`cell-align-${this.component.cellAlignment}`),e}get tableKey(){return`table-${this.key}`}constructor(...e){super(...e),this.noField=!0}init(){super.init();for(let e=0;e<this.component.numRows;e++){this.component.rows[e]=this.component.rows[e]||[];for(let t=0;t<this.component.numCols;t++)this.component.rows[e][t]=this.component.rows[e][t]||{components:[]};this.component.rows[e]=this.component.rows[e].slice(0,this.component.numCols)}this.component.rows=this.component.rows.slice(0,this.component.numRows);const n=[];this.table=[],e.each(this.component.rows,(i,r)=>{this.table[r]=[],e.each(i,(i,s)=>{this.table[r][s]=[],this.component.cloneRows&&(i.components.length?n[s]=i:n[s]&&(i.components=e.cloneDeep(n[s].components),t.uniquify(this.root._form.components,i))),e.each(i.components,e=>{const t=this.createComponent(e);t.tableRow=r,t.tableColumn=s,this.table[r][s].push(t)})})})}render(){return super.render(this.renderTemplate("table",{cellClassName:this.cellClassName,tableKey:this.tableKey,tableComponents:this.table.map(e=>e.map(e=>this.renderComponents(e)))}))}attach(e){const t=this.table.reduce((e,t,n)=>(e[`${this.tableKey}-${n}`]="multiple",e),{});this.loadRefs(e,t);const n=super.attach(e);return this.table.forEach((e,t)=>{e.forEach((e,n)=>{this.attachComponents(this.refs[`${this.tableKey}-${t}`][n],this.table[t][n],this.component.rows[t][n].components)})}),n}destroy(e){super.destroy(e),delete this.table}}}),e("skylark-formio/components/tabs/Tabs",["skylark-lodash","../_classes/nested/NestedComponent"],function(e,t){"use strict";return class n extends t{static schema(...e){return t.schema({label:"Tabs",type:"tabs",input:!1,key:"tabs",persistent:!1,tableView:!1,components:[{label:"Tab 1",key:"tab1",components:[]}]},...e)}static get builderInfo(){return{title:"Tabs",group:"layout",icon:"folder-o",weight:50,documentation:"http://help.form.io/userguide/#tabs",schema:n.schema()}}get defaultSchema(){return n.schema()}get schema(){const t=super.schema,n=e.cloneDeep(this.component.components);return t.components=n.map((e,t)=>(e.components=this.tabs[t].map(e=>e.schema),e)),t}get tabKey(){return`tab-${this.key}`}get tabLikey(){return`tabLi-${this.key}`}get tabLinkKey(){return`tabLink-${this.key}`}constructor(...e){super(...e),this.currentTab=0,this.noField=!0}init(){this.components=[],this.tabs=[],e.each(this.component.components,(t,n)=>{this.tabs[n]=[],t.components=t.components||[],e.each(t.components,e=>{const t=this.createComponent(e);t.tab=n,this.tabs[n].push(t)})})}render(){return super.render(this.renderTemplate("tab",{tabKey:this.tabKey,tabLikey:this.tabLikey,tabLinkKey:this.tabLinkKey,currentTab:this.currentTab,tabComponents:this.tabs.map(e=>this.renderComponents(e))},this.options.flatten||this.options.pdf?"flat":null))}attach(e){this.loadRefs(e,{[this.tabLinkKey]:"multiple",[this.tabKey]:"multiple",[this.tabLikey]:"multiple"});const t=super.attach(e);return this.refs[this.tabLinkKey].forEach((e,t)=>{this.addEventListener(e,"click",e=>{e.preventDefault(),this.setTab(t)})}),this.refs[this.tabKey].forEach((e,t)=>{this.attachComponents(e,this.tabs[t],this.component.components[t].components)}),t}detach(e){super.detach(e)}setTab(t){this.tabs&&this.tabs[t]&&this.refs[this.tabKey]&&this.refs[this.tabKey][t]&&(this.currentTab=t,e.each(this.refs[this.tabKey],e=>{this.removeClass(e,"formio-tab-panel-active"),e.style.display="none"}),this.addClass(this.refs[this.tabKey][t],"formio-tab-panel-active"),this.refs[this.tabKey][t].style.display="block",e.each(this.refs[this.tabLinkKey],(e,t)=>{this.refs[this.tabLinkKey][t]&&this.removeClass(e,"formio-tab-link-active"),this.refs[this.tabLikey][t]&&this.removeClass(this.refs[this.tabLikey][t],"formio-tab-link-container-active")}),this.refs[this.tabLikey][t]&&this.addClass(this.refs[this.tabLikey][t],"formio-tab-link-container-active"),this.refs[this.tabLinkKey][t]&&this.addClass(this.refs[this.tabLinkKey][t],"formio-tab-link-active"),this.triggerChange())}}}),e("skylark-formio/components/tags/Tags",["skylark-choices","../_classes/input/Input"],function(e,t){"use strict";return class n extends t{static schema(...e){return t.schema({type:"tags",label:"Tags",key:"tags",delimeter:",",storeas:"string",maxTags:0},...e)}static get builderInfo(){return{title:"Tags",icon:"tags",group:"advanced",documentation:"http://help.form.io/userguide/#tags",weight:30,schema:n.schema()}}init(){super.init()}get emptyValue(){return"string"===this.component.storeas?"":[]}get defaultSchema(){return n.schema()}get inputInfo(){const e=super.inputInfo;return e.type="input",e.attr.type="text",e.changeEvent="change",e}get delimiter(){return this.component.delimeter||","}attachElement(t,n){super.attachElement(t,n),t&&(t.setAttribute("dir",this.i18next.dir()),this.choices&&this.choices.destroy(),this.choices=new e(t,{delimiter:this.delimiter,editItems:!0,maxItemCount:this.component.maxTags,removeItemButton:!0,duplicateItemsAllowed:!1}),this.choices.itemList.element.tabIndex=t.tabIndex,this.addEventListener(this.choices.input.element,"blur",()=>{const e=this.choices.input.value;e&&(this.choices.setValue([e]),this.choices.clearInput(),this.choices.hideDropdown(!0),this.updateValue(null,{modified:!0}))}))}detach(){super.detach(),this.choices&&(this.choices.destroy(),this.choices=null)}normalizeValue(e){return"string"===this.component.storeas&&Array.isArray(e)?e.join(this.delimiter):"array"===this.component.storeas&&"string"==typeof e?e.split(this.delimiter).filter(e=>e):e}setValue(e,t={}){const n=super.setValue(e,t);if(this.choices){let e=this.dataValue;this.choices.removeActiveItems(),e&&("string"==typeof e&&(e=e.split(this.delimiter).filter(e=>e)),this.choices.setValue(Array.isArray(e)?e:[e]))}return n}set disabled(e){super.disabled=e,this.choices&&(e?this.choices.disable():this.choices.enable())}get disabled(){return super.disabled}focus(){this.refs.input&&this.refs.input.length&&this.refs.input[0].parentNode.lastChild.focus()}}}),e("skylark-formio/components/textarea/TextArea",["../textfield/TextField","skylark-lodash","../../vendors/getify/npo","../../utils/utils"],function(e,t,n,i){"use strict";return class r extends e{static schema(...t){return e.schema({type:"textarea",label:"Text Area",key:"textArea",rows:3,wysiwyg:!1,editor:"",inputFormat:"html",validate:{minWords:"",maxWords:""}},...t)}static get builderInfo(){return{title:"Text Area",group:"basic",icon:"font",documentation:"http://help.form.io/userguide/#textarea",weight:20,schema:r.schema()}}init(){super.init(),this.editors=[],this.editorsReady=[],this.updateSizes=[],this.options.submitOnEnter=!1}get defaultSchema(){return r.schema()}get inputInfo(){const e=super.inputInfo;return e.type=this.component.wysiwyg?"div":"textarea",this.component.rows&&(e.attr.rows=this.component.rows),e}validateMultiple(){return!this.isJsonValue}renderElement(e,t){const n=this.inputInfo;return n.attr=n.attr||{},n.content=e,this.options.readOnly||this.disabled?this.renderTemplate("well",{children:'<div ref="input"></div>',nestedKey:this.key,value:e}):this.component.editor||this.component.wysiwyg?'<div ref="input"></div>':this.renderTemplate("input",{input:n,value:e,index:t})}get autoExpand(){return this.component.autoExpand}updateEditorValue(e,n){n=this.getConvertedValue(this.removeBlanks(n));const i=this.dataValue;if(this.component.multiple&&Array.isArray(i)){const r=t.clone(i);r[e]=n,n=r}t.isEqual(n,i)||t.isEmpty(n)&&t.isEmpty(i)||this.updateValue(n,{modified:!this.autoModified}),this.autoModified=!1}attachElement(e,i){if(this.autoExpand&&(this.isPlain||this.options.readOnly||this.options.htmlView)&&"TEXTAREA"===e.nodeName&&this.addAutoExpanding(e,i),this.options.readOnly)return e;this.component.wysiwyg&&!this.component.editor&&(this.component.editor="ckeditor");let r=t.isEmpty(this.component.wysiwyg)?this.wysiwygDefault[this.component.editor]||this.wysiwygDefault.default:this.component.wysiwyg;return this.editorsReady[i]=new n(n=>{switch(this.component.editor){case"ace":r||(r={}),r.mode=this.component.as,this.addAce(e,r,e=>this.updateEditorValue(i,e)).then(e=>{this.editors[i]=e;let t=this.dataValue;return t=this.component.multiple&&Array.isArray(t)?t[i]:t,e.setValue(this.setConvertedValue(t,i)),n(e),e}).catch(e=>console.warn(e));break;case"quill":(r.hasOwnProperty("toolbarGroups")||r.hasOwnProperty("toolbar"))&&(console.warn("The WYSIWYG settings are configured for CKEditor. For this renderer, you will need to use configurations for the Quill Editor. See https://quilljs.com/docs/configuration for more information."),r=this.wysiwygDefault.quill),this.addQuill(e,r,()=>this.updateEditorValue(i,this.editors[i].root.innerHTML)).then(e=>{if(this.editors[i]=e,this.component.isUploadEnabled){const t=this;e.getModule("toolbar").addHandler("image",function(){t.imageHandler.call(t,this)})}e.root.spellcheck=this.component.spellcheck,(this.options.readOnly||this.component.disabled)&&e.disable();let t=this.dataValue;return t=this.component.multiple&&Array.isArray(t)?t[i]:t,e.setContents(e.clipboard.convert(this.setConvertedValue(t,i))),n(e),e}).catch(e=>console.warn(e));break;case"ckeditor":(r=r||{}).rows=this.component.rows,this.addCKE(e,r,e=>this.updateEditorValue(i,e)).then(e=>{this.editors[i]=e,(this.options.readOnly||this.component.disabled)&&(e.isReadOnly=!0);const r=parseInt(this.component.rows,10);if(t.isFinite(r)&&t.has(e,"ui.view.editable.editableElement")){const t=31*r+14;e.ui.view.editable.editableElement.style.height=`${t}px`}let s=this.dataValue;return s=this.component.multiple&&Array.isArray(s)?s[i]:s,e.data.set(this.setConvertedValue(s,i)),n(e),e});break;case"tiny":r||(r={}),r.mode=this.component.as||"javascript",this.addTiny(e,r,e=>this.updateEditorValue(e)).then(e=>(this.editors[i]=e,e.setContent(this.setConvertedValue(this.dataValue)),n(e),e)).catch(e=>console.warn(e));break;default:super.attachElement(e,i)}}),e}attach(e){const t=super.attach(e);return this.restoreValue(),t}imageHandler(e){let t=e.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/*"),t.classList.add("ql-image"),this.addEventListener(t,"change",()=>{const n=t.files,r=e.quill.getSelection(!0);if(!n||!n.length)return void console.warn("No files selected");e.quill.enable(!1);const{uploadStorage:s,uploadUrl:o,uploadOptions:a,uploadDir:l,fileKey:u}=this.component;let c;this.root.formio.uploadFile(s,n[0],i.uniqueName(n[0].name),l||"",null,o,a,u).then(e=>(c=e,this.root.formio.downloadFile(e))).then(n=>{e.quill.enable(!0);const i=Quill.import("delta");e.quill.updateContents((new i).retain(r.index).delete(r.length).insert({image:n.url},{alt:JSON.stringify(c)}),Quill.sources.USER),t.value=""}).catch(t=>{console.warn("Quill image upload failed"),console.warn(t),e.quill.enable(!0)})}),e.container.appendChild(t)),t.click()}get isPlain(){return!this.component.wysiwyg&&!this.component.editor}get htmlView(){return this.options.readOnly&&(this.component.editor||this.component.wysiwyg)}setValueAt(e,n,i={}){if(super.setValueAt(e,n,i),this.editorsReady[e]){const r=t=>i=>{if(this.autoModified=!0,!t.skipWysiwyg)switch(this.component.editor){case"ace":i.setValue(this.setConvertedValue(n,e));break;case"quill":this.component.isUploadEnabled?this.setAsyncConvertedValue(n).then(e=>{i.setContents(i.clipboard.convert(e))}):i.setContents(i.clipboard.convert(this.setConvertedValue(n,e)));break;case"ckeditor":i.data.set(this.setConvertedValue(n,e));break;case"tiny":i.setContent(this.setConvertedValue(n))}};this.editorsReady[e].then(r(t.clone(i)))}}setValue(e,n={}){return this.isPlain||this.options.readOnly||this.disabled?(e=this.component.multiple&&Array.isArray(e)?e.map((e,t)=>this.setConvertedValue(e,t)):this.setConvertedValue(e),super.setValue(e,n)):(n.skipWysiwyg=t.isEqual(e,this.getValue()),super.setValue(e,n))}setReadOnlyValue(e,t){t=t||0,(this.options.readOnly||this.disabled)&&this.refs.input&&this.refs.input[t]&&this.setContent(this.refs.input[t],this.interpolate(e))}get isJsonValue(){return this.component.as&&"json"===this.component.as}setConvertedValue(e,n){if(this.isJsonValue&&!t.isNil(e))try{e=JSON.stringify(e,null,2)}catch(e){console.warn(e)}return t.isString(e)||(e=""),this.setReadOnlyValue(e,n),e}setAsyncConvertedValue(e){if(this.isJsonValue&&e)try{e=JSON.stringify(e,null,2)}catch(e){console.warn(e)}t.isString(e)||(e="");const i=(new DOMParser).parseFromString(e,"text/html"),r=i.getElementsByTagName("img");return r.length?this.setImagesUrl(r).then(()=>(e=i.getElementsByTagName("body")[0].firstElementChild,(new XMLSerializer).serializeToString(e))):n.resolve(e)}setImagesUrl(e){return n.all(t.map(e,e=>{let t;try{t=JSON.parse(e.getAttribute("alt"))}catch(e){console.warn(e)}return this.root.formio.downloadFile(t).then(t=>{e.setAttribute("src",t.url)})}))}addAutoExpanding(e,n){let i=null,r=null;const s=t=>{const n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t},o=()=>{0!==e.scrollHeight&&((e,t)=>{const n=[];for(;e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&n.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;t(),n.forEach(e=>{e.node.scrollTop=e.scrollTop})})(e,()=>{e.style.height="",e.style.height=`${e.scrollHeight+i}px`})},a=t.debounce(()=>{o();const t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null);let i=e.offsetHeight;i<t&&"hidden"===n.overflowY?s("scroll"):"hidden"!==n.overflowY&&s("hidden"),o(),i=e.offsetHeight,r!==i&&(r=i,a())},200),l=window.getComputedStyle(e,null);e.style.resize="none",i=parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth)||0,window&&this.addEventListener(window,"resize",a),this.addEventListener(e,"input",a),this.on("initialized",a),this.updateSizes[n]=a,a()}removeBlanks(e){if(!e)return e;const t=function(e){return"string"!=typeof e?e:e.replace(/<p>&nbsp;<\/p>|<p><br><\/p>|<p><br>&nbsp;<\/p>/g,"").trim()};return Array.isArray(e)?e.forEach((n,i)=>{e[i]=t(n)}):e=t(e),e}onChange(e,t){const n=super.onChange(e,t);return this.updateSizes.forEach(e=>e()),n}hasChanged(e,t){return super.hasChanged(this.removeBlanks(e),this.removeBlanks(t))}isEmpty(e=this.dataValue){return super.isEmpty(this.removeBlanks(e))}get defaultValue(){let e=super.defaultValue;return"quill"!==this.component.editor||e||(e="<p><br></p>"),e}getConvertedValue(e){if(this.isJsonValue&&e)try{e=JSON.parse(e)}catch(e){}return e}detach(){this.editors.forEach(e=>{e.destroy&&e.destroy()}),this.editors=[],this.editorsReady=[],this.updateSizes.forEach(e=>this.removeEventListener(window,"resize",e)),this.updateSizes=[]}getValue(){return this.isPlain?this.getConvertedValue(super.getValue()):this.dataValue}}}),e("skylark-formio/components/time/Time",["skylark-moment","../textfield/TextField"],function(e,t){"use strict";return class n extends t{static schema(...e){return t.schema({type:"time",label:"Time",key:"time",inputType:"time",format:"HH:mm",dataFormat:"HH:mm:ss"},...e)}constructor(e,t,n){super(e,t,n),this.component.inputMask="99:99",this.component.inputType=this.component.inputType||"time",this.rawData=this.component.multiple?[]:this.emptyValue}static get builderInfo(){return{title:"Time",icon:"clock-o",group:"advanced",documentation:"http://help.form.io/userguide/#time",weight:55,schema:n.schema()}}get dataFormat(){return this.component.dataFormat||"HH:mm:ss"}get defaultSchema(){return n.schema()}get defaultValue(){let e=super.defaultValue;return this.component.multiple&&Array.isArray(e)?e=e.map(e=>e?this.getStringAsValue(e):e):e&&(e=this.getStringAsValue(e)),e}get validationValue(){return this.rawData}get inputInfo(){const e=super.inputInfo;return e.attr.type=this.component.inputType,e}get skipMaskValidation(){return!0}isNotCompleteInput(e){return e.includes("_")}removeValue(e){this.rawData=Array.isArray(this.rawData)?[...this.rawData.slice(0,e),...this.rawData.slice(e+1)]:this.emptyValue,super.removeValue(e)}resetRawData(e){e?this.setRawValue(this.emptyValue,e):this.rawData=[]}setRawValue(e,t){Array.isArray(this.rawData)?this.rawData[t]=e:this.rawData=e}getRawValue(e){return e&&Array.isArray(this.rawData)?this.rawData[e]||this.emptyValue:this.rawData}getValueAt(e){if(!this.refs.input.length||!this.refs.input[e])return this.emptyValue;const{value:t}=this.refs.input[e];return t?(this.setRawValue(t,e),this.getStringAsValue(t)):(this.resetRawData(e),this.emptyValue)}setValueAt(e,t){t&&!this.getRawValue(e)&&this.setRawValue(this.getValueAsString(t),e),this.refs.input[e].value=this.getRawValue(e)}getStringAsValue(t){return t?e(t,this.component.format).format(this.component.dataFormat):t}getValueAsString(t){return(t?e(t,this.component.dataFormat).format(this.component.format):t)||""}}}),e("skylark-formio/components/tree/Node",["skylark-lodash"],function(e){"use strict";return class t{constructor(n,{data:i={},children:r=[]}={},{checkNode:s,createComponents:o,isNew:a=!0,removeComponents:l}={}){this.parent=n,this.previousData={},this.persistentData=e.cloneDeep(i),this.new=a,this.createComponents=o,this.checkNode=s,this.removeComponents=l,this.revertAvailable=!1,this.editing=!1,this.collapsed=!1,this.components=[],this.children=[],this.resetData(),this.children=r.map(e=>new t(this,e,{checkNode:s,createComponents:o,isNew:!1,removeComponents:l}))}get value(){return this.new?null:{data:e.cloneDeep(this.persistentData),children:this.children.filter(e=>!e.new).map(e=>e.value)}}get isRoot(){return null===this.parent}get changing(){return this.new||this.editing}get hasChangingChildren(){return this.changin||this.children.some(e=>e.hasChangingChildren)}get hasData(){return!e.isEmpty(this.persistentData)}get hasChildren(){return Array.isArray(this.children)&&this.children.length>0}eachChild(e){return e(this),this.children.forEach(t=>t.eachChild(e)),this}getComponents(){return this.children.reduce((e,t)=>e.concat(t.getComponents()),this.components)}addChild(){if(this.new)return null;const e=new t(this,{},{checkNode:this.checkNode,createComponents:this.createComponents,isNew:!0,removeComponents:this.removeComponents});return this.children=this.children.concat(e),e}removeChild(e){return this.new||(this.children=this.children.filter(t=>t!==e)),this}edit(){return this.new?this:(this.editing=!0,this.resetData())}save(){return this.changing&&(this.new?this.new=!1:(this.editing=!1,this.revertAvailable=!0),this.commitData()),this}cancel(){return this.new?this.remove():this.editing&&(this.editing=!1,this.resetData()),this}remove(){return this.parent.removeChild(this),this.parent=null,this.clearComponents(),this}revert(){return this.revertAvailable?(this.data=this.previousData,this.commitData()):this}commitData(){return this.previousData=this.persistentData,this.persistentData=e.cloneDeep(this.data),this.clearComponents(),this}resetData(){return this.data=e.cloneDeep(this.persistentData),this.updateComponentsContext(),this}updateComponentsContext(){return this.changing?this.instantiateComponents():this.clearComponents(),this}instantiateComponents(){this.components=this.createComponents(this.data,this),this.checkNode(this)}clearComponents(){this.removeComponents(this.components),this.components=[]}}}),e("skylark-formio/components/tree/Tree",["skylark-lodash","../_classes/component/Component","../Components","../_classes/nested/NestedComponent","./Node","../../vendors/getify/npo"],function(e,t,n,i,r,s){"use strict";return class t extends i{static schema(...e){return i.schema({label:"Tree",key:"tree",type:"tree",clearOnHide:!0,input:!0,tree:!0,components:[]},...e)}static get builderInfo(){return{title:"Tree",icon:"indent",group:"data",weight:40,schema:t.schema()}}constructor(...e){super(...e),this.type="tree"}get emptyValue(){return{}}get viewComponents(){return this.viewComponentsInstantiated||(this.viewComponentsInstantiated=!0,this._viewComponents=this.createComponents({})),this._viewComponents}init(){if(this.builderMode)return super.init();this.components=[],this.componentOptions={...this.options,parent:this,root:this.root||this},this.setRoot(),this.viewComponentsInstantiated=!1,this._viewComponents=[]}destroy(){super.destroy(),this.builderMode||this.removeComponents(this._viewComponents)}createComponents(e,t){const i=this.componentComponents.map(t=>n.create(t,this.componentOptions,e));return t&&this.checkNode(this.data,t),i}removeComponents(e){return e.map(e=>e.destroy())}render(){return this.builderMode?super.render():super.render(this.renderTree(this.treeRoot))}renderTree(e={},t=!0){const n=e.hasChildren&&!e.collapsed?this.renderChildNodes(e.children,!t):[],i=e.changing?this.renderEdit(e):this.renderView(e);return this.renderTemplate("tree",{odd:t,childNodes:n,content:i,node:e})}renderChildNodes(e=[],t){return e.map(e=>this.renderTree(e,t))}renderEdit(e={}){return this.renderTemplate("treeEdit",{children:this.renderComponents(e.components),node:e})}renderView(e={}){return this.renderTemplate("treeView",{values:this.viewComponents.map(t=>(t.data=e.data,t.checkComponentConditions(e.data),t.getView(t.dataValue))),nodeData:e.data,node:e})}attach(e){return this.builderMode?super.attach(e):(this.loadRefs(e,{root:"single"}),s.all([super.attach(e),this.attachNode(this.refs.root,this.treeRoot)]))}attachNode(t,n){if(!t)return s.resolve();let i=s.resolve(),r=s.resolve();return n.refs=e.reduce(t.children,(e,t)=>t.hasAttribute("ref")?{...e,[t.getAttribute("ref")]:t}:e,{}),n.refs.content&&(this.attachActions(n),i=this.attachComponents(n)),n.refs.childNodes&&(r=this.attachChildren(n)),s.all([i,r])}attachActions(e){this.loadRefs.call(e,e.refs.content,{addChild:"single",cancelNode:"single",editNode:"single",removeNode:"single",revertNode:"single",saveNode:"single",toggleNode:"single"}),e.refs.addChild&&this.addEventListener(e.refs.addChild,"click",()=>{this.addChild(e)}),e.refs.cancelNode&&this.addEventListener(e.refs.cancelNode,"click",()=>{this.cancelNode(e)}),e.refs.editNode&&this.addEventListener(e.refs.editNode,"click",()=>{this.editNode(e)}),e.refs.removeNode&&this.addEventListener(e.refs.removeNode,"click",()=>{this.removeNode(e)}),e.refs.revertNode&&this.addEventListener(e.refs.revertNode,"click",()=>{this.revertNode(e)}),e.refs.saveNode&&this.addEventListener(e.refs.saveNode,"click",()=>{this.saveNode(e)}),e.refs.toggleNode&&this.addEventListener(e.refs.toggleNode,"click",()=>{this.toggleNode(e)})}attachComponents(e,...t){return this.builderMode?super.attachComponents.call(this,e,...t):(this.loadRefs.call(e,e.refs.content,{nodeEdit:"single"}),e.refs.nodeEdit?super.attachComponents(e.refs.nodeEdit,e.components):s.resolve())}attachChildren(t){const n=t.refs.childNodes.children;return s.all(e.map(n,(e,n)=>this.attachNode(e,t.children[n])))}setValue(e,t={}){const n=this.updateValue(e,t);return this.setRoot(),n}addChild(e){this.options.readOnly||e.new||this.hook("tree.addChild",{parent:e,component:this},()=>{const t=e.addChild();return this.redraw(),t})}cancelNode(e){this.options.readOnly||this.hook("tree.cancelNode",{node:e,component:this},()=>(e.isRoot?this.removeRoot():(e.cancel(),this.redraw()),e))}editNode(e){this.options.readOnly||e.new||this.hook("tree.editNode",{node:e,component:this},()=>(e.edit(),this.redraw(),e))}removeNode(e){this.options.readOnly||e.new||this.hook("tree.removeNode",{node:e,component:this},()=>(e.isRoot?this.removeRoot():(e.remove(),this.updateTree()),e))}revertNode(e){!this.options.readOnly&&e.revertAvailable&&this.hook("tree.revertNode",{node:e,component:this},()=>(e.revert(),this.updateTree(),e))}saveNode(e){this.options.readOnly||this.hook("tree.saveNode",{node:e,component:this},()=>(e.save(),this.updateTree(),e))}toggleNode(e){this.hook("tree.toggleNode",{node:e,component:this},()=>(e.collapsed=!e.collapsed,this.redraw(),e))}removeRoot(){this.options.readOnly||(this.dataValue=this.defaultValue,this.setRoot(),this.redraw())}setRoot(){const e=this.dataValue;this.treeRoot=new r(null,e,{isNew:!e.data,createComponents:this.createComponents.bind(this),checkNode:this.checkNode.bind(this,this.data),removeComponents:this.removeComponents}),this.hook("tree.setRoot",{root:this.treeRoot,component:this})}getValue(){return this.dataValue}updateTree(){this.updateValue(this.treeRoot.value),this.redraw()}checkData(e,t,n){return this.checkNode(e,this.treeRoot,t,n)}checkNode(e,t,n,i){return t.children.reduce((t,r)=>this.checkNode(e,r,n,i)&&t,super.checkData(e,n,t.data,t.components))}}}),e("skylark-formio/components/unknown/Unknown",["../_classes/component/Component"],function(e){"use strict";return class t extends e{static schema(){return{type:"custom",key:"custom",protected:!1,persistent:!0}}static get builderInfo(){return{title:"Custom",icon:"cubes",group:"premium",documentation:"https://help.form.io/userguide/form-components/#custom",weight:120,schema:t.schema()}}get defaultSchema(){return t.schema()}}}),e("skylark-formio/components/url/Url",["../textfield/TextField"],function(e){"use strict";return class t extends e{static schema(...t){return e.schema({type:"url",label:"Url",key:"url",inputType:"url"},...t)}static get builderInfo(){return{title:"Url",group:"advanced",icon:"link",documentation:"http://help.form.io/userguide/#url",weight:20,schema:t.schema()}}constructor(e,t,n){super(e,t,n),this.validators.push("url")}get defaultSchema(){return t.schema()}elementInfo(){const e=super.elementInfo();return e.attr.type=this.component.mask?"password":"url",e}}}),e("skylark-formio/components/well/Well",["../_classes/nested/NestedComponent"],function(e){"use strict";return class t extends e{static schema(...t){return e.schema({type:"well",key:"well",input:!1,persistent:!1,components:[]},...t)}static get builderInfo(){return{title:"Well",icon:"square-o",group:"layout",documentation:"http://help.form.io/userguide/#well",weight:60,schema:t.schema()}}get defaultSchema(){return t.schema()}get className(){return`${this.component.customClass}`}get templateName(){return"well"}constructor(...e){super(...e),this.noField=!0}}}),e("skylark-formio/components/index",["./address/Address","./button/Button","./checkbox/Checkbox","./columns/Columns","./_classes/component/Component","./container/Container","./content/Content","./currency/Currency","./datagrid/DataGrid","./datamap/DataMap","./datetime/DateTime","./day/Day","./editgrid/EditGrid","./email/Email","./fieldset/Fieldset","./file/File","./form/Form","./hidden/Hidden","./_classes/input/Input","./_classes/multivalue/Multivalue","./_classes/field/Field","./html/HTML","./_classes/nested/NestedComponent","./_classes/nesteddata/NestedDataComponent","./_classes/nestedarray/NestedArrayComponent","./number/Number","./panel/Panel","./password/Password","./phonenumber/PhoneNumber","./radio/Radio","./recaptcha/ReCaptcha","./resource/Resource","./selectboxes/SelectBoxes","./select/Select","./signature/Signature","./survey/Survey","./table/Table","./tabs/Tabs","./tags/Tags","./textarea/TextArea","./textfield/TextField","./time/Time","./tree/Tree","./unknown/Unknown","./url/Url","./well/Well"],function(e,t,n,i,r,s,o,a,l,u,c,h,d,p,f,m,g,y,v,b,k,w,x,_,C,E,S,A,M,T,D,O,P,L,I,R,F,V,N,j,z,U,$,H,B,q){"use strict";return{address:e,base:r,component:r,button:t,checkbox:n,columns:i,container:s,content:o,currency:a,datagrid:l,datamap:u,datetime:c,day:h,editgrid:d,email:p,input:v,field:k,multivalue:b,fieldset:f,file:m,form:g,hidden:y,htmlelement:w,nested:x,nesteddata:_,nestedarray:C,number:E,panel:S,password:A,phoneNumber:M,radio:T,recaptcha:D,resource:O,select:L,selectboxes:P,signature:I,survey:R,table:F,tabs:V,tags:N,textarea:j,textfield:z,time:U,tree:$,unknown:H,url:B,well:q}}),e("skylark-formio/vendors/tooltip-js/tooltip",["skylark-popper"],function(e){var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};const n={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0,arrowSelector:".tooltip-arrow, .tooltip__arrow",innerSelector:".tooltip-inner, .tooltip__inner"};var i=function(){this.show=(()=>this._show(this.reference,this.options)),this.hide=(()=>this._hide()),this.dispose=(()=>this._dispose()),this.toggle=(()=>this._isOpen?this.hide():this.show()),this.updateTitleContent=(e=>this._updateTitleContent(e)),this._events=[],this._setTooltipNodeEvent=((e,t,n,i)=>{const r=e.relatedreference||e.toElement||e.relatedTarget,s=n=>{const r=n.relatedreference||n.toElement||n.relatedTarget;this._tooltipNode.removeEventListener(e.type,s),t.contains(r)||this._scheduleHide(t,i.delay,i,n)};return!!this._tooltipNode.contains(r)&&(this._tooltipNode.addEventListener(e.type,s),!0)})};return class{constructor(e,r){i.call(this),r=t({},n,r),e.jquery&&(e=e[0]),this.reference=e,this.options=r;const s="string"==typeof r.trigger?r.trigger.split(" ").filter(e=>-1!==["click","hover","focus"].indexOf(e)):[];this._isOpen=!1,this._popperOptions={},this._setEventListeners(e,s,r)}_create(e,t,n,i){const r=window.document.createElement("div");r.innerHTML=t.trim();const s=r.childNodes[0];s.id=`tooltip_${Math.random().toString(36).substr(2,10)}`,s.setAttribute("aria-hidden","false");const o=r.querySelector(this.options.innerSelector);return this._addTitleContent(e,n,i,o),s}_addTitleContent(e,t,n,i){if(1===t.nodeType||11===t.nodeType)n&&i.appendChild(t);else if((r=t)&&"[object Function]"==={}.toString.call(r)){const r=t.call(e);n?i.innerHTML=r:i.textContent=r}else n?i.innerHTML=t:i.textContent=t;var r}_show(n,i){if(this._isOpen&&!this._isOpening)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.visibility="visible",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;const r=n.getAttribute("title")||i.title;if(!r)return this;const s=this._create(n,i.template,r,i.html);n.setAttribute("aria-describedby",s.id);const o=this._findContainer(i.container,n);return this._append(s,o),this._popperOptions=t({},i.popperOptions,{placement:i.placement}),this._popperOptions.modifiers=t({},this._popperOptions.modifiers,{arrow:{element:this.options.arrowSelector},offset:{offset:i.offset}}),i.boundariesElement&&(this._popperOptions.modifiers.preventOverflow={boundariesElement:i.boundariesElement}),this.popperInstance=new e(n,s,this._popperOptions),this._tooltipNode=s,this}_hide(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.visibility="hidden",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}_dispose(){return this._events.forEach(({func:e,event:t})=>{this.reference.removeEventListener(t,e)}),this._events=[],this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||(this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null)),this}_findContainer(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}_append(e,t){t.appendChild(e)}_setEventListeners(e,t,n){const i=[],r=[];t.forEach(e=>{switch(e){case"hover":i.push("mouseenter"),r.push("mouseleave");break;case"focus":i.push("focus"),r.push("blur");break;case"click":i.push("click"),r.push("click")}}),i.forEach(t=>{const i=t=>{!0!==this._isOpening&&(t.usedByTooltip=!0,this._scheduleShow(e,n.delay,n,t))};this._events.push({event:t,func:i}),e.addEventListener(t,i)}),r.forEach(t=>{const i=t=>{!0!==t.usedByTooltip&&this._scheduleHide(e,n.delay,n,t)};this._events.push({event:t,func:i}),e.addEventListener(t,i),"click"===t&&n.closeOnClickOutside&&document.addEventListener("mousedown",t=>{if(!this._isOpening)return;const n=this.popperInstance.popper;e.contains(t.target)||n.contains(t.target)||i(t)},!0)})}_scheduleShow(e,t,n){this._isOpening=!0;const i=t&&t.show||t||0;this._showTimeout=window.setTimeout(()=>this._show(e,n),i)}_scheduleHide(e,t,n,i){this._isOpening=!1;const r=t&&t.hide||t||0;window.setTimeout(()=>{if(window.clearTimeout(this._showTimeout),!1!==this._isOpen&&document.body.contains(this._tooltipNode)){if("mouseleave"===i.type){const r=this._setTooltipNodeEvent(i,e,t,n);if(r)return}this._hide(e,n)}},r)}_updateTitleContent(e){if(void 0===this._tooltipNode)return void(void 0!==this.options.title&&(this.options.title=e));const t=this._tooltipNode.parentNode.querySelector(this.options.innerSelector);this._clearTitleContent(t,this.options.html,this.reference.getAttribute("title")||this.options.title),this._addTitleContent(this.reference,e,this.options.html,t),this.options.title=e,this.popperInstance.update()}_clearTitleContent(e,t,n){1===n.nodeType||11===n.nodeType?t&&e.removeChild(n):t?e.innerHTML="":e.textContent=""}}}),e("skylark-formio/components/_classes/component/editForm/utils",["skylark-lodash","../../../../utils/Evaluator"],function(e,t){"use strict";const n={sortAndFilterComponents:t=>e.filter(e.sortBy(t,"weight"),e=>!e.ignore),unifyComponents:(t,i)=>t.key&&i.key?!t.skipMerge&&!i.skipMerge&&(t.key===i.key&&(e.each(t,(e,t)=>{i.hasOwnProperty(t)||(i[t]=e)}),e.each(i,(e,n)=>{t.hasOwnProperty(n)||(t[n]=e)}),t.components&&(i.components=n.sortAndFilterComponents(e.unionWith(t.components,i.components,n.unifyComponents))),!0)):e.isEqual(t,i),logicVariablesTable:e=>({type:"htmlelement",tag:"div",content:'<p>The following variables are available in all scripts.</p><table class="table table-bordered table-condensed table-striped">'+(e=e||"")+'<tr><th>form</th><td>The complete form JSON object</td></tr><tr><th>submission</th><td>The complete submission object.</td></tr><tr><th>data</th><td>The complete submission data object.</td></tr><tr><th>row</th><td>Contextual "row" data, used within DataGrid, EditGrid, and Container components</td></tr><tr><th>component</th><td>The current component JSON</td></tr><tr><th>instance</th><td>The current component instance.</td></tr><tr><th>value</th><td>The current value of the component.</td></tr><tr><th>moment</th><td>The moment.js library for date manipulation.</td></tr><tr><th>_</th><td>An instance of <a href="https://lodash.com/docs/" target="_blank">Lodash</a>.</td></tr><tr><th>utils</th><td>An instance of the <a href="http://formio.github.io/formio.js/docs/identifiers.html#utils" target="_blank">FormioUtils</a> object.</td></tr><tr><th>util</th><td>An alias for "utils".</td></tr></table><br/>'}),javaScriptValue(e,n,i,r,s,o,a){return{type:"panel",title:e,theme:"default",collapsible:!0,collapsed:!0,key:`${n}Panel`,weight:r,components:[this.logicVariablesTable(a),{type:"panel",title:"JavaScript",collapsible:!0,collapsed:!1,style:{"margin-bottom":"10px"},key:`${n}-js`,customConditional:()=>!t.noeval,components:[{type:"textarea",key:n,rows:5,editor:"ace",hideLabel:!0,input:!0},{type:"htmlelement",tag:"div",content:`<p>Enter custom javascript code.</p>${s}`}]},{type:"panel",title:"JSONLogic",collapsible:!0,collapsed:!0,key:`${n}-json`,components:[{type:"htmlelement",tag:"div",content:'<p>Execute custom logic using <a href="http://jsonlogic.com/" target="_blank">JSONLogic</a>.</p><p>Full <a href="https://lodash.com/docs" target="_blank">Lodash</a> support is provided using an "_" before each operation, such as <code>{"_sum": {var: "data.a"}}</code></p>'+o},{type:"textarea",key:i,rows:5,editor:"ace",hideLabel:!0,as:"json",input:!0}]}]}}};return n}),e("skylark-formio/components/_classes/component/editForm/Component.edit.conditional",["./utils","../../../../utils/utils"],function(e,t){"use strict";return[{type:"panel",title:"Simple",key:"simple-conditional",theme:"default",components:[{type:"select",input:!0,label:"This component should Display:",key:"conditional.show",dataSrc:"values",data:{values:[{label:"True",value:"true"},{label:"False",value:"false"}]}},{type:"select",input:!0,label:"When the form component:",key:"conditional.when",dataSrc:"custom",valueProperty:"value",data:{custom:e=>t.getContextComponents(e)}},{type:"textfield",input:!0,label:"Has the value:",key:"conditional.eq"}]},e.javaScriptValue("Advanced Conditions","customConditional","conditional.json",110,"<p>You must assign the <strong>show</strong> variable a boolean result.</p><p><strong>Note: Advanced Conditional logic will override the results of the Simple Conditional logic.</strong></p><h5>Example</h5><pre>show = !!data.showMe;</pre>",'<p><a href="http://formio.github.io/formio.js/app/examples/conditions.html" target="_blank">Click here for an example</a></p>')]}),e("skylark-formio/components/_classes/component/editForm/Component.edit.data",["./utils"],function(e){"use strict";return[{weight:0,type:"checkbox",label:"Multiple Values",tooltip:"Allows multiple values to be entered for this field.",key:"multiple",input:!0},{type:"textfield",label:"Default Value",key:"defaultValue",weight:5,placeholder:"Default Value",tooltip:"The will be the value for this field, before user interaction. Having a default value will override the placeholder text.",input:!0},{weight:30,type:"radio",label:"Persistent",tooltip:"A persistent field will be stored in database when the form is submitted.",key:"persistent",input:!0,inline:!0,defaultValue:!0,values:[{label:"None",value:!1},{label:"Server",value:!0},{label:"Client",value:"client-only"}]},{weight:150,type:"checkbox",label:"Protected",tooltip:"A protected field will not be returned when queried via API.",key:"protected",input:!0},{type:"checkbox",input:!0,weight:200,key:"dbIndex",label:"Database Index",tooltip:"Set this field as an index within the database. Increases performance for submission queries."},{weight:400,type:"checkbox",label:"Encrypted (Enterprise Only)",tooltip:"Encrypt this field on the server. This is two way encryption which is not suitable for passwords.",key:"encrypted",input:!0},{type:"select",input:!0,key:"redrawOn",label:"Redraw On",weight:600,tooltip:"Redraw this component if another component changes. This is useful if interpolating parts of the component like the label.",dataSrc:"custom",valueProperty:"value",data:{custom(e){var t=[];return t.push({label:"Any Change",value:"data"}),e.utils.eachComponent(e.instance.options.editForm.components,function(n,i){n.key!==e.data.key&&t.push({label:n.label||n.key,value:i})}),t}},conditional:{json:{"!":[{var:"data.dataSrc"}]}}},{weight:700,type:"checkbox",label:"Clear Value When Hidden",key:"clearOnHide",defaultValue:!0,tooltip:"When a field is hidden, clear the value.",input:!0},e.javaScriptValue("Custom Default Value","customDefaultValue","customDefaultValue",1e3,'<p><h4>Example:</h4><pre>value = data.firstName + " " + data.lastName;</pre></p>','<p><h4>Example:</h4><pre>{"cat": [{"var": "data.firstName"}, " ", {"var": "data.lastName"}]}</pre>'),e.javaScriptValue("Calculated Value","calculateValue","calculateValue",1100,"<p><h4>Example:</h4><pre>value = data.a + data.b + data.c;</pre></p>",'<p><h4>Example:</h4><pre>{"+": [{"var": "data.a"}, {"var": "data.b"}, {"var": "data.c"}]}</pre><p><a target="_blank" href="http://formio.github.io/formio.js/app/examples/calculated.html">Click here for an example</a></p>',"<tr><th>token</th><td>The decoded JWT token for the authenticated user.</td></tr>"),{type:"checkbox",input:!0,weight:1100,key:"calculateServer",label:"Calculate Value on server",tooltip:"Checking this will run the calculation on the server. This is useful if you wish to override the values submitted with the calculations performed on the server."},{type:"checkbox",input:!0,weight:1200,key:"allowCalculateOverride",label:"Allow Manual Override of Calculated Value",tooltip:"When checked, this will allow the user to manually override the calculated value."}]}),e("skylark-formio/components/_classes/component/editForm/Component.edit.api",[],function(){"use strict";return[{weight:0,type:"textfield",input:!0,key:"key",label:"Property Name",tooltip:"The name of this field in the API endpoint.",validate:{pattern:"(\\w|\\w[\\w-.]*\\w)",patternMessage:"The property name must only contain alphanumeric characters, underscores, dots and dashes and should not be ended by dash or dot."}},{weight:100,type:"tags",input:!0,label:"Field Tags",storeas:"array",tooltip:"Tag the field for use in custom logic.",key:"tags"},{weight:200,type:"datamap",label:"Custom Properties",tooltip:"This allows you to configure any custom properties for this component.",key:"properties",valueComponent:{type:"textfield",key:"value",label:"Value",placeholder:"Value",input:!0}}]}),e("skylark-formio/components/_classes/component/editForm/Component.edit.display",[],function(){"use strict";return[{weight:0,type:"textfield",input:!0,key:"label",label:"Label",placeholder:"Field Label",tooltip:"The label for this field that will appear next to it.",validate:{required:!0}},{type:"select",input:!0,key:"labelPosition",label:"Label Position",tooltip:"Position for the label for this field.",weight:20,defaultValue:"top",dataSrc:"values",data:{values:[{label:"Top",value:"top"},{label:"Left (Left-aligned)",value:"left-left"},{label:"Left (Right-aligned)",value:"left-right"},{label:"Right (Left-aligned)",value:"right-left"},{label:"Right (Right-aligned)",value:"right-right"},{label:"Bottom",value:"bottom"}]}},{type:"number",input:!0,key:"labelWidth",label:"Label Width",tooltip:"The width of label on line in percentages.",clearOnHide:!1,weight:30,placeholder:"30",suffix:"%",validate:{min:0,max:100},conditional:{json:{and:[{"!==":[{var:"data.labelPosition"},"top"]},{"!==":[{var:"data.labelPosition"},"bottom"]}]}}},{type:"number",input:!0,key:"labelMargin",label:"Label Margin",tooltip:"The width of label margin on line in percentages.",clearOnHide:!1,weight:30,placeholder:"3",suffix:"%",validate:{min:0,max:100},conditional:{json:{and:[{"!==":[{var:"data.labelPosition"},"top"]},{"!==":[{var:"data.labelPosition"},"bottom"]}]}}},{weight:100,type:"textfield",input:!0,key:"placeholder",label:"Placeholder",placeholder:"Placeholder",tooltip:"The placeholder text that will appear when this field is empty."},{weight:200,type:"textarea",input:!0,key:"description",label:"Description",placeholder:"Description for this field.",tooltip:"The description is text that will appear below the input field.",editor:"ace",as:"html",wysiwyg:{minLines:3}},{weight:300,type:"textarea",input:!0,key:"tooltip",label:"Tooltip",placeholder:"To add a tooltip to this field, enter text here.",tooltip:"Adds a tooltip to the side of this field.",editor:"ace",as:"html",wysiwyg:{minLines:3}},{weight:500,type:"textfield",input:!0,key:"customClass",label:"Custom CSS Class",placeholder:"Custom CSS Class",tooltip:"Custom CSS class to add to this component."},{weight:600,type:"textfield",input:!0,key:"tabindex",label:"Tab Index",placeholder:"0",tooltip:"Sets the tabindex attribute of this component to override the tab order of the form. See the <a href='https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex'>MDN documentation</a> on tabindex for more information."},{weight:1100,type:"checkbox",label:"Hidden",tooltip:"A hidden field is still a part of the form, but is hidden from view.",key:"hidden",input:!0},{weight:1200,type:"checkbox",label:"Hide Label",tooltip:"Hide the label of this component. This allows you to show the label in the form builder, but not when it is rendered.",key:"hideLabel",input:!0},{weight:1350,type:"checkbox",label:"Initial Focus",tooltip:"Make this field the initially focused element on this form.",key:"autofocus",input:!0},{weight:1370,type:"checkbox",label:"Show Label in DataGrid",tooltip:"Show the label when in a Datagrid.",key:"dataGridLabel",input:!0,customConditional:e=>e.instance.options.editComponent.inDataGrid},{weight:1400,type:"checkbox",label:"Disabled",tooltip:"Disable the form input.",key:"disabled",input:!0},{weight:1500,type:"checkbox",label:"Table View",tooltip:"Shows this value within the table view of the submissions.",key:"tableView",input:!0},{weight:1600,type:"checkbox",label:"Modal Edit",tooltip:"Opens up a modal to edit the value of this component.",key:"modalEdit",input:!0}]}),e("skylark-formio/components/_classes/component/editForm/Component.edit.logic",["../../../../utils/utils"],function(e){"use strict";return[{weight:0,input:!0,label:"Advanced Logic",key:"logic",templates:{header:'<div class="row"> \n  <div class="col-sm-6">\n    <strong>{{ value.length }} Advanced Logic Configured</strong>\n  </div>\n</div>',row:'<div class="row"> \n  <div class="col-sm-6">\n    <div>{{ row.name }} </div>\n  </div>\n  <div class="col-sm-2"> \n    <div class="btn-group pull-right"> \n      <div class="btn btn-default editRow">Edit</div> \n      <div class="btn btn-danger removeRow">Delete</div> \n    </div> \n  </div> \n</div>',footer:""},type:"editgrid",addAnother:"Add Logic",saveRow:"Save Logic",components:[{weight:0,input:!0,inputType:"text",label:"Logic Name",key:"name",validate:{required:!0},type:"textfield"},{weight:10,key:"triggerPanel",input:!1,title:"Trigger",tableView:!1,components:[{weight:0,input:!0,tableView:!1,components:[{weight:0,input:!0,label:"Type",key:"type",tableView:!1,data:{values:[{value:"simple",label:"Simple"},{value:"javascript",label:"Javascript"},{value:"json",label:"JSON Logic"},{value:"event",label:"Event"}]},dataSrc:"values",template:"<span>{{ item.label }}</span>",type:"select"},{weight:10,label:"",key:"simple",type:"container",tableView:!1,customConditional:({row:e})=>"simple"===e.type,components:[{input:!0,key:"show",label:"Show",type:"hidden",tableView:!1,calculateValue:()=>!0},{type:"select",input:!0,label:"When the form component:",key:"when",dataSrc:"custom",valueProperty:"value",tableView:!1,data:{custom:t=>e.getContextComponents(t)}},{type:"textfield",input:!0,label:"Has the value:",key:"eq",tableView:!1}]},{weight:10,type:"textarea",key:"javascript",rows:5,editor:"ace",input:!0,tableView:!1,placeholder:"result = (data['mykey'] > 1);",description:'"row", "data", and "component" variables are available. Return "result".',customConditional:({row:e})=>"javascript"===e.type},{weight:10,type:"textarea",key:"json",rows:5,editor:"ace",label:"JSON Logic",as:"json",input:!0,tableView:!1,placeholder:"{ ... }",description:'"row", "data", "component" and "_" variables are available. Return the result to be passed to the action if truthy.',customConditional:({row:e})=>"json"===e.type},{weight:10,type:"textfield",key:"event",label:"Event Name",placeholder:"event",description:"The event that will trigger this logic. You can trigger events externally or via a button.",tableView:!1,customConditional:({row:e})=>"event"===e.type}],key:"trigger",type:"container"}],type:"panel"},{weight:20,input:!0,label:"Actions",key:"actions",tableView:!1,templates:{header:'<div class="row"> \n  <div class="col-sm-6"><strong>{{ value.length }} actions</strong></div>\n</div>',row:'<div class="row"> \n  <div class="col-sm-6">\n    <div>{{ row.name }} </div>\n  </div>\n  <div class="col-sm-2"> \n    <div class="btn-group pull-right"> \n      <div class="btn btn-default editRow">Edit</div> \n      <div class="btn btn-danger removeRow">Delete</div> \n    </div> \n  </div> \n</div>',footer:""},type:"editgrid",addAnother:"Add Action",saveRow:"Save Action",components:[{weight:0,title:"Action",input:!1,key:"actionPanel",type:"panel",components:[{weight:0,input:!0,inputType:"text",label:"Action Name",key:"name",validate:{required:!0},type:"textfield"},{weight:10,input:!0,label:"Type",key:"type",data:{values:[{value:"property",label:"Property"},{value:"value",label:"Value"},{label:"Merge Component Schema",value:"mergeComponentSchema"}]},dataSrc:"values",template:"<span>{{ item.label }}</span>",type:"select"},{weight:20,type:"select",template:"<span>{{ item.label }}</span>",dataSrc:"json",tableView:!1,data:{json:[{label:"Hidden",value:"hidden",type:"boolean"},{label:"Required",value:"validate.required",type:"boolean"},{label:"Disabled",value:"disabled",type:"boolean"},{label:"Label",value:"label",type:"string"},{label:"Title",value:"title",type:"string"},{label:"Prefix",value:"prefix",type:"string"},{label:"Suffix",value:"suffix",type:"string"},{label:"Tooltip",value:"tooltip",type:"string"},{label:"Description",value:"description",type:"string"},{label:"Placeholder",value:"placeholder",type:"string"},{label:"Input Mask",value:"inputMask",type:"string"},{label:"CSS Class",value:"className",type:"string"},{label:"Container Custom Class",value:"customClass",type:"string"}]},key:"property",label:"Component Property",input:!0,customConditional:({row:e})=>"property"===e.type},{weight:30,input:!0,label:"Set State",key:"state",tableView:!1,data:{values:[{label:"True",value:"true"},{label:"False",value:"false"}]},dataSrc:"values",template:"<span>{{ item.label }}</span>",type:"select",customConditional:({row:e})=>"property"===e.type&&e.hasOwnProperty("property")&&"boolean"===e.property.type},{weight:30,type:"textfield",key:"text",label:"Text",inputType:"text",input:!0,tableView:!1,description:'Can use templating with {{ data.myfield }}. "data", "row", "component" and "result" variables are available.',customConditional:({row:e})=>"property"===e.type&&e.hasOwnProperty("property")&&"string"===e.property.type&&!e.property.component},{weight:20,input:!0,label:"Value (Javascript)",key:"value",editor:"ace",rows:5,placeholder:"value = data.myfield;",type:"textarea",tableView:!1,description:'"row", "data", "component", and "result" variables are available. Return the value.',customConditional:({row:e})=>"value"===e.type},{weight:20,input:!0,label:"Schema Defenition",key:"schemaDefinition",editor:"ace",rows:5,placeholder:"schema = { label: 'Updated' };",type:"textarea",tableView:!1,description:'"row", "data", "component", and "result" variables are available. Return the schema.',customConditional:({row:e})=>"mergeComponentSchema"===e.type}]}]}]}]}),e("skylark-formio/components/_classes/component/editForm/Component.edit.validation",["./utils","../../../../utils/Evaluator"],function(e,t){"use strict";return[{weight:10,type:"checkbox",label:"Required",tooltip:"A required field must be filled in before the form can be submitted.",key:"validate.required",input:!0},{weight:100,type:"checkbox",label:"Unique",tooltip:"Makes sure the data submitted for this field is unique, and has not been submitted before.",key:"unique",input:!0},{weight:0,type:"select",key:"validateOn",defaultValue:"change",input:!0,label:"Validate On",tooltip:"Determines when this component should trigger front-end validation.",dataSrc:"values",data:{values:[{label:"Change",value:"change"},{label:"Blur",value:"blur"}]}},{weight:190,type:"textfield",input:!0,key:"errorLabel",label:"Error Label",placeholder:"Error Label",tooltip:"The label for this field when an error occurs."},{weight:200,key:"validate.customMessage",label:"Custom Error Message",placeholder:"Custom Error Message",type:"textfield",tooltip:"Error message displayed if any error occurred.",input:!0},{type:"panel",title:"Custom Validation",collapsible:!0,collapsed:!0,style:{"margin-bottom":"10px"},key:"custom-validation-js",weight:300,customConditional:()=>!t.noeval,components:[e.logicVariablesTable("<tr><th>input</th><td>The value that was input into this component</td></tr>"),{type:"textarea",key:"validate.custom",rows:5,editor:"ace",hideLabel:!0,input:!0},{type:"htmlelement",tag:"div",content:"\n          <small>\n            <p>Enter custom validation code.</p>\n            <p>You must assign the <strong>valid</strong> variable as either <strong>true</strong> or an error message if validation fails.</p>\n            <h5>Example:</h5>\n            <pre>valid = (input === 'Joe') ? true : 'Your name must be \"Joe\"';</pre>\n          </small>"},{type:"well",components:[{weight:100,type:"checkbox",label:"Secret Validation",tooltip:"Check this if you wish to perform the validation ONLY on the server side. This keeps your validation logic private and secret.",description:"Check this if you wish to perform the validation ONLY on the server side. This keeps your validation logic private and secret.",key:"validate.customPrivate",input:!0}]}]},{type:"panel",title:"JSONLogic Validation",collapsible:!0,collapsed:!0,key:"json-validation-json",weight:400,components:[{type:"htmlelement",tag:"div",content:'<p>Execute custom logic using <a href="http://jsonlogic.com/" target="_blank">JSONLogic</a>.</p><h5>Example:</h5><pre>'+JSON.stringify({if:[{"===":[{var:"input"},"Bob"]},!0,"Your name must be 'Bob'!"]},null,2)+"</pre>"},{type:"textarea",key:"validate.json",hideLabel:!0,rows:5,editor:"ace",as:"json",input:!0}]}]}),e("skylark-formio/components/_classes/component/editForm/Component.edit.layout",[],function(){"use strict";return[{label:"HTML Attributes",type:"datamap",input:!0,key:"attributes",keyLabel:"Attribute Name",valueComponent:{type:"textfield",key:"value",label:"Attribute Value",input:!0},tooltip:"Provide a map of HTML attributes for component's input element (attributes provided by other component settings or other attributes generated by form.io take precedence over attributes in this grid)",addAnother:"Add Attribute"},{type:"panel",legend:"PDF Overlay",title:"PDF Overlay",key:"overlay",weight:2e3,collapsible:!0,collapsed:!0,components:[{type:"textfield",input:!0,key:"overlay.style",label:"Style",placeholder:"",tooltip:"Custom styles that should be applied to this component when rendered in PDF."},{type:"textfield",input:!0,key:"overlay.page",label:"Page",placeholder:"",tooltip:"The PDF page to place this component."},{type:"textfield",input:!0,key:"overlay.left",label:"Left",placeholder:"",tooltip:"The left margin within a page to place this component."},{type:"textfield",input:!0,key:"overlay.top",label:"Top",placeholder:"",tooltip:"The top margin within a page to place this component."},{type:"textfield",input:!0,key:"overlay.width",label:"Width",placeholder:"",tooltip:"The width of the component (in pixels)."},{type:"textfield",input:!0,key:"overlay.height",label:"Height",placeholder:"",tooltip:"The height of the component (in pixels)."}]}]}),e("skylark-formio/components/_classes/component/Component.form",["skylark-langx","skylark-lodash","./editForm/Component.edit.conditional","./editForm/Component.edit.data","./editForm/Component.edit.api","./editForm/Component.edit.display","./editForm/Component.edit.logic","./editForm/Component.edit.validation","./editForm/Component.edit.layout","./editForm/utils"],function(e,t,n,i,r,s,o,a,l,u){"use strict";return function(...c){const h=e.clone([{type:"tabs",key:"tabs",components:[{label:"Display",key:"display",weight:0,components:s},{label:"Data",key:"data",weight:10,components:i},{label:"Validation",key:"validation",weight:20,components:a},{label:"API",key:"api",weight:30,components:r},{label:"Conditional",key:"conditional",weight:40,components:n},{label:"Logic",key:"logic",weight:50,components:o},{label:"Layout",key:"layout",weight:60,components:l}]}]).concat(c.map(t=>({type:"tabs",key:"tabs",components:e.clone(t)})));return{components:t.unionWith(h,u.unifyComponents).concat({type:"hidden",key:"type"})}}}),e("skylark-formio/components/address/editForm/Address.edit.data",[],function(){"use strict";return[{key:"multiple",ignore:!0},{type:"address",label:"Default Value",key:"defaultValue",weight:5,placeholder:"Default Value",tooltip:"The will be the value for this field, before user interaction. Having a default value will override the placeholder text.",input:!0,customDefaultValue:({instance:e})=>e.manualModeEnabled?{mode:"autocomplete",address:{}}:{}}]}),e("skylark-formio/components/address/editForm/Address.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{weight:20,type:"checkbox",input:!0,key:"enableManualMode",label:"Enable Manual Mode",tooltip:"Should Manual Mode be enabled for that component or not."},{weight:30,type:"textfield",input:!0,key:"switchToManualModeLabel",label:"Switch To Matual Mode Label",placeholder:"Switch To Matual Mode Label",tooltip:"The label for the checkbox used to switch to manual mode.",validate:{required:!0},customConditional:({data:e})=>Boolean(e.enableManualMode)},{weight:40,type:"checkbox",input:!0,key:"disableClearIcon",label:"Disable Clear Icon",tooltip:"Clear Icon allows easily clear component's value."}]}),e("skylark-formio/components/address/editForm/Address.edit.provider",["skylark-lodash","../../../Formio"],function(e,t){"use strict";return[{type:"select",input:!0,key:"provider",label:"Provider",placeholder:"Select your address search provider",weight:0,tooltip:"Which address search service should be used.",valueProperty:"value",dataSrc:"custom",data:{custom:()=>e.values(t.Providers.getProviders("address")).sort().map(e=>({label:e.displayName,value:e.name}))},validate:{required:!0}},{type:"textfield",input:!0,key:"providerOptions.params['subscription-key']",label:"Subscription Key",placeholder:"Enter Subscription Key",weight:10,tooltip:"Use your Azure Maps subscription key here.",validate:{required:!0},conditional:{json:{"===":[{var:"data.provider"},"azure"]}}},{type:"textfield",input:!0,key:"providerOptions.url",label:"Url",placeholder:"Enter Url",weight:10,tooltip:"Url to the service which should be used to search addresses for autocomplete.",validate:{required:!0},conditional:{json:{"===":[{var:"data.provider"},"custom"]}}},{type:"textfield",input:!0,key:"providerOptions.queryProperty",label:"Query Property",defaultValue:"query",placeholder:"Enter Query Property",weight:20,tooltip:"Which query param should be used to pass as a search string. Default is `query`.",conditional:{json:{"===":[{var:"data.provider"},"custom"]}}},{type:"textfield",input:!0,key:"providerOptions.responseProperty",label:"Response Property",placeholder:"Enter Response Property",weight:30,tooltip:"The property within the response data, where iterable addresses reside. For example: results.",conditional:{json:{"===":[{var:"data.provider"},"custom"]}}},{type:"textfield",input:!0,key:"providerOptions.displayValueProperty",label:"Display Value Property",placeholder:"Display Value Property",weight:40,tooltip:"The property of each address in the response to use as the display value.",conditional:{json:{"===":[{var:"data.provider"},"custom"]}}},{type:"textarea",input:!0,key:"providerOptions.params",label:"Params",placeholder:"{ ... }",weight:50,rows:5,editor:"ace",as:"json",tooltip:"Additional query params can be specified here in a way of JSON object.",conditional:{json:{"===":[{var:"data.provider"},"custom"]}}},{type:"textfield",input:!0,key:"providerOptions.params.key",label:"API Key",placeholder:"Enter API Key",weight:10,tooltip:"Use your Google API key here.",validate:{required:!0},conditional:{json:{"===":[{var:"data.provider"},"google"]}}},{type:"textfield",input:!0,key:"providerOptions.params.region",label:"Region",placeholder:"Enter Region",weight:20,tooltip:"Specify Region for Google Maps APIs.",conditional:{json:{"===":[{var:"data.provider"},"google"]}}},{type:"textarea",input:!0,key:"manualModeViewString",label:"Manual Mode View String",placeholder:"Enter Manual Mode View String",description:'"address" variable references component value, "data" - submission data and "component" - address component schema.',weight:60,rows:5,editor:"ace",tooltip:"Specify template which should be when quering view string for the component value entered in manual mode. This string is used in table view, CSV export and email rendering. When left blank combined value of all components joined with comma will be used."}]}),e("skylark-formio/components/address/Address.form",["../_classes/component/Component.form","./editForm/Address.edit.data","./editForm/Address.edit.display","./editForm/Address.edit.provider"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"data",components:t},{key:"display",components:n},{label:"Provider",key:"provider",weight:15,components:i}],...r)}}),e("skylark-formio/components/button/editForm/Button.edit.display",["../../../utils/builder","skylark-lodash"],function(e,t){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"hideLabel",ignore:!0},{type:"select",key:"action",label:"Action",input:!0,dataSrc:"values",weight:110,tooltip:"This is the action to be performed by this button.",data:{values:[{label:"Submit",value:"submit"},{label:"Save in state",value:"saveState"},{label:"Event",value:"event"},{label:"Custom",value:"custom"},{label:"Reset",value:"reset"},{label:"OAuth",value:"oauth"},{label:"POST to URL",value:"url"}]}},{type:"textfield",label:"Save in state",key:"state",weight:112,tooltip:'The state you wish to save the submission under when this button is pressed. Example "draft" would save the submission in Draft Mode.',placeholder:"submitted",input:!0,conditional:{json:{"===":[{var:"data.action"},"saveState"]}}},{type:"checkbox",input:!0,inputType:"checkbox",key:"showValidations",label:"Show Validations",weight:115,tooltip:"When the button is pressed, show any validation errors on the form.",conditional:{json:{"!==":[{var:"data.action"},"submit"]}}},{type:"textfield",label:"Button Event",key:"event",input:!0,weight:120,tooltip:"The event to fire when the button is clicked.",conditional:{json:{"===":[{var:"data.action"},"event"]}}},{type:"textfield",inputType:"url",key:"url",input:!0,weight:120,label:"Button URL",tooltip:"The URL where the submission will be sent.",placeholder:"https://example.form.io",conditional:{json:{"===":[{var:"data.action"},"url"]}}},{type:"datagrid",key:"headers",input:!0,weight:130,label:"Headers",addAnother:"Add Header",tooltip:"Headers Properties and Values for your request",components:[{key:"header",label:"Header",input:!0,type:"textfield"},{key:"value",label:"Value",input:!0,type:"textfield"}],conditional:{json:{"===":[{var:"data.action"},"url"]}}},{type:"textarea",key:"custom",label:"Button Custom Logic",tooltip:"The custom logic to evaluate when the button is clicked.",rows:5,editor:"ace",input:!0,weight:120,placeholder:"data['mykey'] = data['anotherKey'];",conditional:{json:{"===":[{var:"data.action"},"custom"]}}},{type:"select",key:"theme",label:"Theme",input:!0,tooltip:"The color theme of this button.",dataSrc:"values",weight:140,data:{values:[{label:"Primary",value:"primary"},{label:"Secondary",value:"secondary"},{label:"Info",value:"info"},{label:"Success",value:"success"},{label:"Danger",value:"danger"},{label:"Warning",value:"warning"}]}},{type:"select",key:"size",label:"Size",input:!0,tooltip:"The size of this button.",dataSrc:"values",weight:150,data:{values:[{label:"Extra Small",value:"xs"},{label:"Small",value:"sm"},{label:"Medium",value:"md"},{label:"Large",value:"lg"}]}},{type:"textfield",key:"leftIcon",label:"Left Icon",input:!0,placeholder:"Enter icon classes",tooltip:"This is the full icon class string to show the icon. Example: 'fa fa-plus'",weight:160},{type:"textfield",key:"rightIcon",label:"Right Icon",input:!0,placeholder:"Enter icon classes",tooltip:"This is the full icon class string to show the icon. Example: 'fa fa-plus'",weight:170},{type:"select",input:!0,weight:180,label:"Shortcut",key:"shortcut",tooltip:"Shortcut for this component.",dataSrc:"custom",valueProperty:"value",customDefaultValue:()=>"",template:"{{ item.label }}",data:{custom:n=>e.getAvailableShortcuts(t.get(n,"instance.options.editForm",{}),t.get(n,"instance.options.editComponent",{}))}},{type:"checkbox",key:"block",label:"Block Button",input:!0,weight:155,tooltip:"This control should span the full width of the bounding container."},{type:"checkbox",key:"disableOnInvalid",label:"Disable on Form Invalid",tooltip:"This will disable this field if the form is invalid.",input:!0,weight:620}]}),e("skylark-formio/components/button/Button.form",["../_classes/component/Component.form","./editForm/Button.edit.display"],function(e,t){"use strict";return function(...n){return e([{key:"display",components:t},{key:"data",ignore:!0},{key:"validation",ignore:!0}],...n)}}),e("skylark-formio/components/checkbox/editForm/Checkbox.edit.data",[],function(){"use strict";return[{key:"multiple",ignore:!0}]}),e("skylark-formio/components/checkbox/editForm/Checkbox.edit.display",["../../../utils/builder","skylark-lodash"],function(e,t){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{type:"select",input:!0,weight:350,label:"Shortcut",key:"shortcut",tooltip:"Shortcut for this component.",dataSrc:"custom",valueProperty:"value",customDefaultValue:()=>"",template:"{{ item.label }}",data:{custom:n=>e.getAvailableShortcuts(t.get(n,"instance.options.editForm",{}),t.get(n,"instance.options.editComponent",{}))}},{type:"select",input:!0,key:"inputType",label:"Input Type",tooltip:"This is the input type used for this checkbox.",dataSrc:"values",weight:410,data:{values:[{label:"Checkbox",value:"checkbox"},{label:"Radio",value:"radio"}]}},{type:"textfield",input:!0,key:"name",label:"Radio Key",tooltip:"The key used to trigger the radio button toggle.",weight:420,conditional:{json:{"===":[{var:"data.inputType"},"radio"]}}},{type:"textfield",input:!0,label:"Radio Value",key:"value",tooltip:"The value used with this radio button.",weight:430,conditional:{json:{"===":[{var:"data.inputType"},"radio"]}}}]}),e("skylark-formio/components/checkbox/editForm/Checkbox.edit.validation",[],function(){"use strict";return[{key:"validateOn",ignore:!0},{key:"unique",ignore:!0}]}),e("skylark-formio/components/checkbox/Checkbox.form",["../_classes/component/Component.form","./editForm/Checkbox.edit.data","./editForm/Checkbox.edit.display","./editForm/Checkbox.edit.validation"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"data",components:t},{key:"display",components:n},{key:"validation",components:i}],...r)}}),e("skylark-formio/components/_classes/nested/NestedComponent.form",["../component/Component.form"],function(e){"use strict";return function(...t){return e([{key:"data",ignore:!0},{key:"validation",ignore:!0}],...t)}}),e("skylark-formio/components/columns/editForm/Columns.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"tooltip",ignore:!0},{key:"autofocus",ignore:!0},{key:"tabindex",ignore:!0},{key:"disabled",ignore:!0},{weight:150,type:"datagrid",input:!0,key:"columns",label:"Column Properties",addAnother:"Add Column",tooltip:"The width, offset, push, and pull settings for each column.",reorder:!0,components:[{type:"hidden",key:"components",defaultValue:[]},{type:"select",key:"size",defaultValue:"md",label:"Size",data:{values:[{label:"xs",value:"xs"},{label:"sm",value:"sm"},{label:"md",value:"md"},{label:"lg",value:"lg"},{label:"xl",value:"xl"}]}},{type:"number",key:"width",defaultValue:6,label:"Width"},{type:"number",key:"offset",defaultValue:0,label:"Offset"},{type:"number",key:"push",defaultValue:0,label:"Push"},{type:"number",key:"pull",defaultValue:0,label:"Pull"}]},{weight:160,type:"checkbox",label:"Auto adjust columns",tooltip:"Will automatically adjust columns based on if nested components are hidden.",key:"autoAdjust",input:!0},{weight:161,type:"checkbox",label:"Hide Column when Children Hidden",key:"hideOnChildrenHidden",tooltip:"Check this if you would like to hide any column when the children within that column are also hidden",input:!0}]}),e("skylark-formio/components/columns/Columns.form",["../_classes/nested/NestedComponent.form","./editForm/Columns.edit.display"],function(e,t){"use strict";return function(...n){return e([{key:"display",components:t}],...n)}}),e("skylark-formio/components/container/editForm/Container.edit.display",[],function(){"use strict";return[{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"autofocus",ignore:!0},{key:"tabindex",ignore:!0}]}),e("skylark-formio/components/container/editForm/Container.edit.data",[],function(){"use strict";return[{key:"multiple",ignore:!0},{key:"allowCalculateOverride",ignore:!0},{key:"defaultValue",ignore:!0}]}),e("skylark-formio/components/container/Container.form",["../_classes/component/Component.form","./editForm/Container.edit.display","./editForm/Container.edit.data"],function(e,t,n){"use strict";return function(...i){return e([{key:"display",components:t},{key:"data",components:n}],...i)}}),e("skylark-formio/components/content/editForm/Content.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"tooltip",ignore:!0},{key:"hideLabel",ignore:!0},{key:"autofocus",ignore:!0},{key:"disabled",ignore:!0},{key:"tabindex",ignore:!0},{weight:700,type:"checkbox",label:"Refresh On Change",tooltip:"Rerender the field whenever a value on the form changes.",key:"refreshOnChange",input:!0}]}),e("skylark-formio/components/content/editForm/Content.edit.logic",[],function(){"use strict";return[{key:"logic",components:[{key:"actions",components:[{key:"actionPanel",components:[{data:{json:[{label:"Hidden",value:"hidden",type:"boolean"},{label:"Required",value:"validate.required",type:"boolean"},{label:"Disabled",value:"disabled",type:"boolean"},{label:"Label",value:"label",type:"string"},{label:"Title",value:"title",type:"string"},{label:"Tooltip",value:"tooltip",type:"string"},{label:"Description",value:"description",type:"string"},{label:"Placeholder",value:"placeholder",type:"string"},{label:"CSS Class",value:"className",type:"string"},{label:"Container Custom Class",value:"customClass",type:"string"},{label:"Content",value:"html",type:"string",component:"content"}]},key:"property"},{type:"textarea",editor:"ace",rows:10,as:"html",label:"Content",tooltip:"The content of this HTML element.",defaultValue:'<div class="well">Content</div>',key:"content",weight:30,input:!0,customConditional:e=>"property"===e.row.type&&e.row.hasOwnProperty("property")&&"string"===e.row.property.type&&"content"===e.row.property.component}]}]}]}]}),e("skylark-formio/components/content/Content.form",["../_classes/component/Component.form","./editForm/Content.edit.display","./editForm/Content.edit.logic"],function(e,t,n){"use strict";return function(...i){const r=e([{key:"display",components:t},{key:"data",ignore:!0},{key:"validation",ignore:!0},{key:"logic",components:n}],...i);return r.components=[{weight:0,type:"textarea",editor:"ckeditor",label:"Content",hideLabel:!0,input:!0,key:"html",as:"html",rows:3,tooltip:"The HTML template for the result data items."}].concat(r.components),r}}),e("skylark-formio/components/textfield/editForm/TextField.edit.data",[],function(){"use strict";return[{type:"select",label:"Input Format",key:"inputFormat",weight:105,placeholder:"Input Format",tooltip:"Force the output of this field to be sanitized in a specific format.",template:"<span>{{ item.label }}</span>",data:{values:[{value:"plain",label:"Plain"},{value:"html",label:"HTML"},{value:"raw",label:"Raw (Insecure)"}]},defaultValue:"plain",input:!0},{weight:200,type:"radio",label:"Text Case",key:"case",tooltip:"When data is entered, you can change the case of the value.",input:!0,values:[{value:"mixed",label:"Mixed (Allow upper and lower case)"},{value:"uppercase",label:"Uppercase"},{value:"lowercase",label:"Lowercase"}]}]}),e("skylark-formio/components/textfield/editForm/TextField.edit.display",["../../../widgets/index","skylark-lodash"],function(e,t){"use strict";return[{weight:400,type:"select",input:!0,key:"widget.type",label:"Widget",placeholder:"Select a widget",tooltip:"The widget is the display UI used to input the value of the field.",defaultValue:"input",onChange:e=>{e.data.widget=t.pick(e.data.widget,"type")},dataSrc:"values",data:{values:[{label:"Input Field",value:"input"},{label:"Calendar Picker",value:"calendar"}]},conditional:{json:{"===":[{var:"data.type"},"textfield"]}}},{weight:405,type:"textarea",key:"widget",label:"Widget Settings",refreshOn:"wiget.type",clearOnHide:!1,calculateValue:n=>{const{calculatedValue:i}=n.instance,{type:r}=n.data.widget;if(t.isEmpty(t.omit(n.data.widget,"type"))||t.isEmpty(t.omit(i,"type"))){if(i&&!i.type)return n.data.widget;const s=n.instance._currentForm.options.editComponent.widget;if(s&&!t.isEmpty(t.omit(s,"type"))&&r===s.type)return t.omit(s,"language");if(r)return t.omit(e[r].defaultSettings,"language")}return n.data.widget},input:!0,rows:5,editor:"ace",as:"json",conditional:{json:{"!==":[{var:"data.widget.type"},"input"]}}},{weight:410,type:"textfield",input:!0,key:"inputMask",label:"Input Mask",tooltip:"An input mask helps the user with input by ensuring a predefined format.<br><br>9: numeric<br>a: alphabetical<br>*: alphanumeric<br><br>Example telephone mask: (999) 999-9999<br><br>See the <a target='_blank' href='https://github.com/RobinHerbots/jquery.inputmask'>jquery.inputmask documentation</a> for more information.</a>",customConditional:e=>!e.data.allowMultipleMasks},{weight:413,type:"checkbox",input:!0,key:"allowMultipleMasks",label:"Allow Multiple Masks"},{weight:1350,type:"checkbox",input:!0,key:"spellcheck",defaultValue:!0,label:"Allow Spellcheck"},{weight:417,type:"datagrid",input:!0,key:"inputMasks",label:"Input Masks",customConditional:e=>!0===e.data.allowMultipleMasks,reorder:!0,components:[{type:"textfield",key:"label",label:"Label",input:!0},{type:"textfield",key:"mask",label:"Mask",input:!0}]},{weight:320,type:"textfield",input:!0,key:"prefix",label:"Prefix"},{weight:330,type:"textfield",input:!0,key:"suffix",label:"Suffix"},{weight:1300,type:"checkbox",label:"Hide Input",tooltip:"Hide the input in the browser. This does not encrypt on the server. Do not use for passwords.",key:"mask",input:!0},{weight:1200,type:"checkbox",label:"Show Word Counter",tooltip:"Show a live count of the number of words.",key:"showWordCount",input:!0},{weight:1201,type:"checkbox",label:"Show Character Counter",tooltip:"Show a live count of the number of characters.",key:"showCharCount",input:!0}]}),e("skylark-formio/components/textfield/editForm/TextField.edit.validation",[],function(){"use strict";return[{weight:110,key:"validate.minLength",label:"Minimum Length",placeholder:"Minimum Length",type:"number",tooltip:"The minimum length requirement this field must meet.",input:!0},{weight:120,key:"validate.maxLength",label:"Maximum Length",placeholder:"Maximum Length",type:"number",tooltip:"The maximum length requirement this field must meet.",input:!0},{weight:125,key:"validate.minWords",label:"Minimum Word Length",placeholder:"Minimum Word Length",type:"number",tooltip:"The minimum amount of words that can be added to this field.",input:!0},{weight:126,key:"validate.maxWords",label:"Maximum Word Length",placeholder:"Maximum Word Length",type:"number",tooltip:"The maximum amount of words that can be added to this field.",input:!0},{weight:130,key:"validate.pattern",label:"Regular Expression Pattern",placeholder:"Regular Expression Pattern",type:"textfield",tooltip:"The regular expression pattern test that the field value must pass before the form can be submitted.",input:!0}]}),e("skylark-formio/components/textfield/TextField.form",["../_classes/component/Component.form","./editForm/TextField.edit.data","./editForm/TextField.edit.display","./editForm/TextField.edit.validation"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"display",components:n},{key:"data",components:t},{key:"validation",components:i}],...r)}}),e("skylark-formio/components/currency/editForm/Currency.edit.display",[],function(){"use strict";return[{key:"inputMask",ignore:!0},{key:"allowMultipleMasks",ignore:!0},{key:"showWordCount",ignore:!0},{key:"showCharCount",ignore:!0},{type:"textfield",input:!0,weight:310,key:"prefix",label:"prefix",tooltip:"Specify the prefix symbol after the component (e.g.: USD, EUR)"},{type:"textfield",input:!0,weight:320,key:"suffix",label:"suffix",tooltip:"Specify the suffix symbol after the component (e.g.: USD, EUR)."}]}),e("skylark-formio/components/currency/editForm/Currency.edit.data",[],function(){return[{type:"select",input:!0,weight:50,key:"currency",label:"Currency",tooltip:"The currency to use in currency formatting. Possible values are (ISO-4217) currency codes.",defaultValue:"USD",dataSrc:"values",data:{values:[{label:"US Dollar (USD)",value:"USD"},{label:"Euro (EUR)",value:"EUR"},{label:"Pound Sterling (GBP)",value:"GBP"},{label:"Australian Dollar (AUD)",value:"AUD"},{label:"Afghani (AFN)",value:"AFN"},{label:"Lek (ALL)",value:"ALL"},{label:"Algerian Dinar (DZD)",value:"DZD"},{label:"Kwanza (AOA)",value:"AOA"},{label:"East Caribbean Dollar (XCD)",value:"XCD"},{label:"Argentine Peso (ARS)",value:"ARS"},{label:"Armenian Dram (AMD)",value:"AMD"},{label:"Aruban Florin (AWG)",value:"AWG"},{label:"Azerbaijan Manat (AZN)",value:"AZN"},{label:"Bahamian Dollar (BSD)",value:"BSD"},{label:"Bahraini Dinar (BHD)",value:"BHD"},{label:"Taka (BDT)",value:"BDT"},{label:"Barbados Dollar (BBD)",value:"BBD"},{label:"Belarusian Ruble (BYN)",value:"BYN"},{label:"Belize Dollar (BZD)",value:"BZD"},{label:"CFA Franc BCEAO (XOF)",value:"XOF"},{label:"Bermudian Dollar (BMD)",value:"BMD"},{label:"Indian Rupee (INR)",value:"INR"},{label:"Ngultrum (BTN)",value:"BTN"},{label:"Boliviano (BOB)",value:"BOB"},{label:"Mvdol (BOV)",value:"BOV"},{label:"Convertible Mark (BAM)",value:"BAM"},{label:"Pula (BWP)",value:"BWP"},{label:"Norwegian Krone (NOK)",value:"NOK"},{label:"Brazilian Real (BRL)",value:"BRL"},{label:"Brunei Dollar (BND)",value:"BND"},{label:"Bulgarian Lev (BGN)",value:"BGN"},{label:"Burundi Franc (BIF)",value:"BIF"},{label:"Cabo Verde Escudo (CVE)",value:"CVE"},{label:"Riel (KHR)",value:"KHR"},{label:"CFA Franc BEAC (XAF)",value:"XAF"},{label:"Canadian Dollar (CAD)",value:"CAD"},{label:"Cayman Islands Dollar (KYD)",value:"KYD"},{label:"Chilean Peso (CLP)",value:"CLP"},{label:"Unidad de Fomento (CLF)",value:"CLF"},{label:"Yuan Renminbi (CNY)",value:"CNY"},{label:"Colombian Peso (COP)",value:"COP"},{label:"Unidad de Valor Real (COU)",value:"COU"},{label:"Comorian Franc (KMF)",value:"KMF"},{label:"Congolese Franc (CDF)",value:"CDF"},{label:"New Zealand Dollar (NZD)",value:"NZD"},{label:"Costa Rican Colon (CRC)",value:"CRC"},{label:"Kuna (HRK)",value:"HRK"},{label:"Cuban Peso (CUP)",value:"CUP"},{label:"Peso Convertible (CUC)",value:"CUC"},{label:"Netherlands Antillean Guilder (ANG)",value:"ANG"},{label:"Czech Koruna (CZK)",value:"CZK"},{label:"Danish Krone (DKK)",value:"DKK"},{label:"Djibouti Franc (DJF)",value:"DJF"},{label:"Dominican Peso (DOP)",value:"DOP"},{label:"Egyptian Pound (EGP)",value:"EGP"},{label:"El Salvador Colon (SVC)",value:"SVC"},{label:"Nakfa (ERN)",value:"ERN"},{label:"Ethiopian Birr (ETB)",value:"ETB"},{label:"Falkland Islands Pound (FKP)",value:"FKP"},{label:"Fiji Dollar (FJD)",value:"FJD"},{label:"CFP Franc (XPF)",value:"XPF"},{label:"Dalasi (GMD)",value:"GMD"},{label:"Lari (GEL)",value:"GEL"},{label:"Ghana Cedi (GHS)",value:"GHS"},{label:"Gibraltar Pound (GIP)",value:"GIP"},{label:"Quetzal (GTQ)",value:"GTQ"},{label:"Guinean Franc (GNF)",value:"GNF"},{label:"Guyana Dollar (GYD)",value:"GYD"},{label:"Gourde (HTG)",value:"HTG"},{label:"Lempira (HNL)",value:"HNL"},{label:"Hong Kong Dollar (HKD)",value:"HKD"},{label:"Forint (HUF)",value:"HUF"},{label:"Iceland Krona (ISK)",value:"ISK"},{label:"Indian Rupee (INR)",value:"INR"},{label:"Rupiah (IDR)",value:"IDR"},{label:"SDR (Special Drawing Right) (XDR)",value:"XDR"},{label:"Iranian Rial (IRR)",value:"IRR"},{label:"Iraqi Dinar (IQD)",value:"IQD"},{label:"New Israeli Sheqel (ILS)",value:"ILS"},{label:"Jamaican Dollar (JMD)",value:"JMD"},{label:"Yen (JPY)",value:"JPY"},{label:"Jordanian Dinar (JOD)",value:"JOD"},{label:"Tenge (KZT)",value:"KZT"},{label:"Kenyan Shilling (KES)",value:"KES"},{label:"North Korean Won (KPW)",value:"KPW"},{label:"Won (KRW)",value:"KRW"},{label:"Kuwaiti Dinar (KWD)",value:"KWD"},{label:"Som (KGS)",value:"KGS"},{label:"Lao Kip (LAK)",value:"LAK"},{label:"Lebanese Pound (LBP)",value:"LBP"},{label:"Loti (LSL)",value:"LSL"},{label:"Rand (ZAR)",value:"ZAR"},{label:"Liberian Dollar (LRD)",value:"LRD"},{label:"Libyan Dinar (LYD)",value:"LYD"},{label:"Swiss Franc (CHF)",value:"CHF"},{label:"Pataca (MOP)",value:"MOP"},{label:"Denar (MKD)",value:"MKD"},{label:"Malagasy Ariary (MGA)",value:"MGA"},{label:"Malawi Kwacha (MWK)",value:"MWK"},{label:"Malaysian Ringgit (MYR)",value:"MYR"},{label:"Rufiyaa (MVR)",value:"MVR"},{label:"Ouguiya (MRU)",value:"MRU"},{label:"Mauritius Rupee (MUR)",value:"MUR"},{label:"ADB Unit of Account (XUA)",value:"XUA"},{label:"Mexican Peso (MXN)",value:"MXN"},{label:"Mexican Unidad de Inversion (UDI) (MXV)",value:"MXV"},{label:"Moldovan Leu (MDL)",value:"MDL"},{label:"Tugrik (MNT)",value:"MNT"},{label:"Moroccan Dirham (MAD)",value:"MAD"},{label:"Mozambique Metical (MZN)",value:"MZN"},{label:"Kyat (MMK)",value:"MMK"},{label:"Namibia Dollar (NAD)",value:"NAD"},{label:"Nepalese Rupee (NPR)",value:"NPR"},{label:"Cordoba Oro (NIO)",value:"NIO"},{label:"Naira (NGN)",value:"NGN"},{label:"Rial Omani (OMR)",value:"OMR"},{label:"Pakistan Rupee (PKR)",value:"PKR"},{label:"Balboa (PAB)",value:"PAB"},{label:"Kina (PGK)",value:"PGK"},{label:"Guarani (PYG)",value:"PYG"},{label:"Sol (PEN)",value:"PEN"},{label:"Philippine Peso (PHP)",value:"PHP"},{label:"Zloty (PLN)",value:"PLN"},{label:"Qatari Rial (QAR)",value:"QAR"},{label:"Romanian Leu (RON)",value:"RON"},{label:"Russian Ruble (RUB)",value:"RUB"},{label:"Rwanda Franc (RWF)",value:"RWF"},{label:"Saint Helena Pound (SHP)",value:"SHP"},{label:"Tala (WST)",value:"WST"},{label:"Dobra (STN)",value:"STN"},{label:"Saudi Riyal (SAR)",value:"SAR"},{label:"Serbian Dinar (RSD)",value:"RSD"},{label:"Seychelles Rupee (SCR)",value:"SCR"},{label:"Leone (SLL)",value:"SLL"},{label:"Singapore Dollar (SGD)",value:"SGD"},{label:"Sucre (XSU)",value:"XSU"},{label:"Solomon Islands Dollar (SBD)",value:"SBD"},{label:"Somali Shilling (SOS)",value:"SOS"},{label:"South Sudanese Pound (SSP)",value:"SSP"},{label:"Sri Lanka Rupee (LKR)",value:"LKR"},{label:"Sudanese Pound (SDG)",value:"SDG"},{label:"Surinam Dollar (SRD)",value:"SRD"},{label:"Lilangeni (SZL)",value:"SZL"},{label:"Swedish Krona (SEK)",value:"SEK"},{label:"WIR Euro (CHE)",value:"CHE"},{label:"WIR Franc (CHW)",value:"CHW"},{label:"Syrian Pound (SYP)",value:"SYP"},{label:"New Taiwan Dollar (TWD)",value:"TWD"},{label:"Somoni (TJS)",value:"TJS"},{label:"Tanzanian Shilling (TZS)",value:"TZS"},{label:"Baht (THB)",value:"THB"},{label:"Paanga (TOP)",value:"TOP"},{label:"Trinidad and Tobago Dollar (TTD)",value:"TTD"},{label:"Tunisian Dinar (TND)",value:"TND"},{label:"Turkish Lira (TRY)",value:"TRY"},{label:"Turkmenistan New Manat (TMT)",value:"TMT"},{label:"Uganda Shilling (UGX)",value:"UGX"},{label:"Hryvnia (UAH)",value:"UAH"},{label:"UAE Dirham (AED)",value:"AED"},{label:"US Dollar (Next day) (USN)",value:"USN"},{label:"Peso Uruguayo (UYU)",value:"UYU"},{label:"Uruguay Peso en Unidades Indexadas (UYI)",value:"UYI"},{label:"Unidad Previsional (UYW)",value:"UYW"},{label:"Uzbekistan Sum (UZS)",value:"UZS"},{label:"Vatu (VUV)",value:"VUV"},{label:"Bolvar Soberano (VES)",value:"VES"},{label:"Dong (VND)",value:"VND"},{label:"Yemeni Rial (YER)",value:"YER"},{label:"Zambian Kwacha (ZMW)",value:"ZMW"},{label:"Zimbabwe Dollar (ZWL),",value:"ZWL"}]}}]}),e("skylark-formio/components/currency/Currency.form",["../textfield/TextField.form","./editForm/Currency.edit.display","./editForm/Currency.edit.data"],function(e,t,n){"use strict";return function(...i){return e([{key:"display",components:t},{key:"data",components:n},{key:"validation",components:[{key:"validate.minLength",ignore:!0},{key:"validate.maxLength",ignore:!0},{key:"validate.minWords",ignore:!0},{key:"validate.maxWords",ignore:!0},{key:"validate.pattern",ignore:!0}]}],...i)}}),e("skylark-formio/components/datagrid/editForm/DataGrid.edit.data",[],function(){"use strict";return[{key:"multiple",ignore:!0}]}),e("skylark-formio/components/datagrid/editForm/DataGrid.edit.display",[],function(){"use strict";return[{key:"placeholder",ignore:!0},{type:"checkbox",label:"Disable Adding / Removing Rows",key:"disableAddingRemovingRows",tooltip:"Check if you want to hide Add Another button and Remove Row button",weight:405,input:!0,clearOnHide:!1,customConditional:e=>!e.data.enableRowGroups,calculateValue:e=>!!e.data.enableRowGroups||e.data.disableAddingRemovingRows},{weight:406,type:"textarea",input:!0,key:"conditionalAddButton",label:"Conditional Add Button",placeholder:"show = ...",tooltip:"Specify condition when Add Button should be displayed.",editor:"ace",as:"js",wysiwyg:{minLines:3}},{type:"checkbox",label:"Allow Reorder",key:"reorder",weight:407,input:!0},{type:"textfield",label:"Add Another Text",key:"addAnother",tooltip:"Set the text of the Add Another button.",placeholder:"Add Another",weight:410,input:!0,customConditional:e=>!e.data.disableAddingRemovingRows},{type:"select",label:"Add Another Position",key:"addAnotherPosition",dataSrc:"values",tooltip:"Position for Add Another button with respect to Data Grid Array.",defaultValue:"bottom",input:!0,data:{values:[{label:"Top",value:"top"},{label:"Bottom",value:"bottom"},{label:"Both",value:"both"}]},weight:411,customConditional:e=>!e.data.disableAddingRemovingRows},{type:"checkbox",label:"Default Open Rows",key:"defaultOpen",tooltip:"Check this if you would like for the rows of the edit grid to be defaulted to opened if values exist.",weight:420,input:!0},{type:"checkbox",label:"Equal column width",key:"layoutFixed",weight:430,input:!0},{key:"enableRowGroups",type:"checkbox",label:"Enable Row Groups",weight:440,input:!0},{label:"Groups",disableAddingRemovingRows:!1,defaultOpen:!1,addAnother:"",addAnotherPosition:"bottom",mask:!1,tableView:!0,alwaysEnabled:!1,type:"datagrid",input:!0,key:"rowGroups",reorder:!0,components:[{label:"Label",allowMultipleMasks:!1,showWordCount:!1,showCharCount:!1,tableView:!0,alwaysEnabled:!1,type:"textfield",input:!0,key:"label",widget:{type:""},row:"0-0"},{label:"Number of Rows",mask:!1,tableView:!0,alwaysEnabled:!1,type:"number",input:!0,key:"numberOfRows",row:"0-1"}],weight:441,conditional:{json:{var:"data.enableRowGroups"}}},{label:"Hide Group on Header Click",type:"checkbox",input:!0,key:"groupToggle",weight:442,conditional:{json:{var:"data.enableRowGroups"}}}]}),e("skylark-formio/components/datagrid/editForm/DataGrid.edit.validation",[],function(){"use strict";return[{weight:110,key:"validate.minLength",label:"Minimum Length",placeholder:"Minimum Length",type:"number",tooltip:"The minimum length requirement this field must meet.",input:!0},{weight:120,key:"validate.maxLength",label:"Maximum Length",placeholder:"Maximum Length",type:"number",tooltip:"The maximum length requirement this field must meet.",input:!0}]}),e("skylark-formio/components/datagrid/DataGrid.form",["../_classes/component/Component.form","./editForm/DataGrid.edit.data","./editForm/DataGrid.edit.display","./editForm/DataGrid.edit.validation"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"display",components:n},{key:"data",components:t},{key:"validation",components:i}],...r)}}),e("skylark-formio/components/datamap/editForm/DataMap.edit.data",[],function(){"use strict";return[{key:"multiple",ignore:!0},{key:"defaultValue",ignore:!0}]}),e("skylark-formio/components/datamap/editForm/DataMap.edit.display",[],function(){"use strict";return[{key:"placeholder",ignore:!0},{key:"tabindex",ignore:!0},{type:"textfield",label:"Label for Key column",key:"keyLabel",tooltip:"Provide a label text for Key column (otherwise 'Key' will be used)",weight:404,input:!0},{type:"checkbox",label:"Disable Adding / Removing Rows",key:"disableAddingRemovingRows",tooltip:"Check if you want to hide Add Another button and Remove Row button",weight:405,input:!0},{type:"checkbox",label:"Show key column before value",key:"keyBeforeValue",tooltip:"Check if you would like to show the Key before the Value column.",weight:406,input:!0},{type:"textfield",label:"Add Another Text",key:"addAnother",tooltip:"Set the text of the Add Another button.",placeholder:"Add Another",weight:410,input:!0,customConditional:e=>!e.data.disableAddingRemovingRows}]}),e("skylark-formio/components/datamap/DataMap.form",["../_classes/component/Component.form","./editForm/DataMap.edit.data","./editForm/DataMap.edit.display"],function(e,t,n){"use strict";return function(...i){return e([{key:"display",components:n},{key:"data",components:t}],...i)}}),e("skylark-formio/components/datetime/editForm/DateTime.edit.data",[],function(){"use strict";return[{type:"textfield",input:!0,key:"defaultDate",label:"Default Date",placeholder:"moment()",tooltip:"You can use Moment.js functions to set the default value to a specific date. For example: \n \n moment().subtract(10, 'days')",weight:6},{type:"textarea",as:"json",editor:"ace",weight:28,input:!0,key:"customOptions",label:"Flatpikr options",tooltip:"A raw JSON object to use as options for the Date / Time component (Flatpickr).",defaultValue:{}}]}),e("skylark-formio/components/datetime/editForm/DateTime.edit.date",["../../../utils/Evaluator","../../_classes/component/editForm/utils"],function(e,t){"use strict";return[{type:"checkbox",input:!0,key:"enableDate",label:"Enable Date Input",weight:0,tooltip:"Enables date input for this field."},{type:"checkbox",input:!0,key:"enableMinDateInput",label:"Use Input to add moment.js for minDate",persistent:!1,weight:0,tooltip:"Enables to use input for moment functions instead of calendar."},{type:"datetime",input:!0,key:"datePicker.minDate",label:"Use calendar to set minDate",weight:10,tooltip:"Enables to use calendar to set date.",customConditional:({data:e,component:t})=>(!t.datePicker||!t.datePicker.minDate||-1===t.datePicker.minDate.indexOf("moment"))&&!e.enableMinDateInput},{type:"textfield",input:!0,enableTime:!1,key:"datePicker.minDate",label:"Minimum Date",tooltip:"The minimum date that can be picked. You can also use Moment.js functions. For example: \n \n moment().subtract(10, 'days')",customConditional:({data:e,component:t})=>!(!t.datePicker||!t.datePicker.minDate||-1===t.datePicker.minDate.indexOf("moment"))||e.enableMinDateInput,weight:10},{type:"checkbox",input:!0,key:"enableMaxDateInput",label:"Use Input to add moment.js for maxDate",persistent:!1,weight:20,tooltip:"Enables to use input for moment functions instead of calendar."},{type:"textfield",input:!0,enableTime:!1,key:"datePicker.maxDate",label:"Maximum Date",tooltip:"The maximum date that can be picked. You can also use Moment.js functions. For example: \n \n moment().add(10, 'days')",weight:20,customConditional:({data:e,component:t})=>!(!t.datePicker||!t.datePicker.maxDate||-1===t.datePicker.maxDate.indexOf("moment"))||e.enableMaxDateInput},{type:"datetime",input:!0,key:"datePicker.maxDate",label:"Use calendar to set maxDate",weight:20,tooltip:"Enables to use calendar to set date.",customConditional:({data:e,component:t})=>(!t.datePicker||!t.datePicker.maxDate||-1===t.datePicker.maxDate.indexOf("moment"))&&!e.enableMaxDateInput},{type:"tags",input:!0,key:"datePicker.disable",label:"Disable specific dates or dates by range",placeholder:"(yyyy-MM-dd) or (yyyy-MM-dd - yyyy-MM-dd)",tooltip:"Add dates that you want to blacklist. For example: \n \n 2025-02-21",weight:21},{type:"panel",title:"Custom Disabled Dates",collapsible:!0,collapsed:!0,style:{"margin-bottom":"10px"},key:"panel-disable-function",customConditional:()=>!e.noeval,components:[t.logicVariablesTable("<tr><th>date</th><td>The date object.</td></tr>"),{type:"textarea",input:!0,editor:"ace",key:"datePicker.disableFunction",label:"Disabling dates by a function",description:'For more information check out the <a href="https://flatpickr.js.org/examples/#disabling-dates" target="_blank">Docs</a>',weight:22},{type:"htmlelement",tag:"div",content:"<h4>Example</h4><pre>// Disable all weekends<br>date.getDay() === 0 || date.getDay() === 6</pre>\n          "}]},{type:"checkbox",input:!0,key:"datePicker.disableWeekends",label:"Disable weekends",tooltip:"Check to disable weekends",weight:23},{type:"checkbox",input:!0,key:"datePicker.disableWeekdays",label:"Disable weekdays",tooltip:"Check to disable weekdays",weight:23}]}),e("skylark-formio/components/datetime/editForm/DateTime.edit.display",[],function(){"use strict";return[{type:"select",input:!0,key:"displayInTimezone",label:"Display in Timezone",tooltip:"This will display the captured date time in the select timezone.",weight:30,defaultValue:"viewer",dataSrc:"values",data:{values:[{label:"of Viewer",value:"viewer"},{label:"of Submission",value:"submission"},{label:"of Location",value:"location"},{label:"UTC",value:"utc"}]}},{type:"select",input:!0,key:"timezone",label:"Select Timezone",tooltip:"Select the timezone you wish to display this Date",weight:31,lazyLoad:!0,defaultValue:"",valueProperty:"name",dataSrc:"url",data:{url:"https://cdn.form.io/timezones.json"},template:"<span>{{ item.label }}</span>",conditional:{json:{"===":[{var:"data.displayInTimezone"},"location"]}}},{type:"checkbox",input:!0,key:"useLocaleSettings",label:"Use Locale Settings",tooltip:"Use locale settings to display date and time.",weight:51},{type:"checkbox",input:!0,key:"allowInput",label:"Allow Manual Input",tooltip:"Check this if you would like to allow the user to manually enter in the date.",weight:51},{type:"textfield",input:!0,key:"format",label:"Format",placeholder:"Format",description:'Use formats provided by <a href="https://github.com/angular-ui/bootstrap/tree/master/src/dateparser/docs#uibdateparsers-format-codes" target="_blank">DateParser Codes</a>',tooltip:"The date format for displaying the datetime value.",weight:52}]}),e("skylark-formio/components/datetime/editForm/DateTime.edit.time",[],function(){"use strict";return[{type:"checkbox",input:!0,key:"enableTime",label:"Enable Time Input",tooltip:"Enables time input for this field.",weight:0},{type:"number",input:!0,key:"timePicker.hourStep",label:"Hour Step Size",tooltip:"The number of hours to increment/decrement in the time picker.",weight:10},{type:"number",input:!0,key:"timePicker.minuteStep",label:"Minute Step Size",tooltip:"The number of minutes to increment/decrement in the time picker.",weight:20},{type:"checkbox",input:!0,key:"timePicker.showMeridian",label:"12 Hour Time (AM/PM)",tooltip:"Display time in 12 hour time with AM/PM.",weight:30}]}),e("skylark-formio/components/datetime/DateTime.form",["../_classes/component/Component.form","./editForm/DateTime.edit.data","./editForm/DateTime.edit.date","./editForm/DateTime.edit.display","./editForm/DateTime.edit.time"],function(e,t,n,i,r){"use strict";return function(...s){return e([{key:"display",components:i},{label:"Date",key:"date",weight:1,components:n},{label:"Time",key:"time",weight:2,components:r},{key:"data",components:t}],...s)}}),e("skylark-formio/components/day/editForm/Day.edit.data",[],function(){"use strict";return[{key:"multiple",ignore:!0}]}),e("skylark-formio/components/day/editForm/Day.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{weight:15,type:"checkbox",label:"Hide Input Labels",tooltip:"Hide the labels of component inputs. This allows you to show the labels in the form builder, but not when it is rendered.",key:"hideInputLabels",input:!0},{type:"select",input:!0,key:"inputsLabelPosition",label:"Inputs Label Position",tooltip:"Position for the labels for inputs for this field.",weight:40,defaultValue:"top",dataSrc:"values",data:{values:[{label:"Top",value:"top"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Bottom",value:"bottom"}]}},{key:"placeholder",ignore:!0},{weight:213,type:"checkbox",label:"Use Locale Settings",tooltip:"Use locale settings to display day.",key:"useLocaleSettings",input:!0}]}),e("skylark-formio/components/day/editForm/Day.edit.validation",[],function(){"use strict";return[{key:"validate.required",ignore:!0},{key:"validate.unique",ignore:!0},{weight:0,type:"checkbox",label:"Require Day",tooltip:"A required field must be filled in before the form can be submitted.",key:"fields.day.required",input:!0},{weight:10,type:"checkbox",label:"Require Month",tooltip:"A required field must be filled in before the form can be submitted.",key:"fields.month.required",input:!0},{weight:20,type:"checkbox",label:"Require Year",tooltip:"A required field must be filled in before the form can be submitted.",key:"fields.year.required",input:!0},{weight:40,type:"textfield",label:"Minimum Day",placeholder:"yyyy-MM-dd",tooltip:"A minimum date that can be set. You can also use Moment.js functions. For example: \n \n moment().subtract(10, 'days')",key:"minDate",input:!0},{weight:30,type:"textfield",label:"Maximum Day",placeholder:"yyyy-MM-dd",tooltip:"A maximum day that can be set. You can also use Moment.js functions. For example: \n \n moment().add(10, 'days')",key:"maxDate",input:!0}]}),e("skylark-formio/components/day/editForm/Day.edit.day",[],function(){"use strict";return[{wieght:200,type:"select",datasrc:"values",key:"fields.day.type",title:"Type",data:{values:[{label:"Number",value:"number"},{label:"Select",value:"select"}]}},{weight:210,type:"textfield",input:!0,key:"fields.day.placeholder",label:"Placeholder",placeholder:"Day Placeholder",tooltip:"The placeholder text that will appear when Day field is empty."},{weight:215,type:"checkbox",label:"Hidden",tooltip:"Hide the Day part of the component.",key:"fields.day.hide",input:!0},{weight:214,type:"checkbox",label:"Day First",tooltip:"Display the Day field before the Month field.",key:"dayFirst",input:!0}]}),e("skylark-formio/components/day/editForm/Day.edit.month",[],function(){"use strict";return[{wieght:200,type:"select",datasrc:"values",key:"fields.month.type",title:"Type",data:{values:[{label:"Number",value:"number"},{label:"Select",value:"select"}]}},{weight:210,type:"textfield",input:!0,key:"fields.month.placeholder",label:"Placeholder",placeholder:"Month Placeholder",tooltip:"The placeholder text that will appear when Month field is empty."},{weight:215,type:"checkbox",label:"Hidden",tooltip:"Hide the Month part of the component.",key:"fields.month.hide",input:!0}]}),e("skylark-formio/components/day/editForm/Day.edit.year",[],function(){"use strict";return[{wieght:200,type:"select",datasrc:"values",key:"fields.year.type",title:"Type",data:{values:[{label:"Number",value:"number"},{label:"Select",value:"select"}]}},{weight:203,type:"number",input:!0,key:"fields.year.minYear",label:"Minimum Year",placeholder:"1900",tooltip:"The minimum year that can be entered."},{weight:204,type:"number",input:!0,key:"fields.year.maxYear",label:"Maximum Year",placeholder:"2030",tooltip:"The maximum year that can be entered."},{weight:210,type:"textfield",input:!0,key:"fields.year.placeholder",label:"Placeholder",placeholder:"Year Placeholder",tooltip:"The placeholder text that will appear when Year field is empty."},{weight:215,type:"checkbox",label:"Hidden",tooltip:"Hide the Year part of the component.",key:"fields.year.hide",input:!0}]}),e("skylark-formio/components/day/Day.form",["../_classes/component/Component.form","./editForm/Day.edit.data","./editForm/Day.edit.display","./editForm/Day.edit.validation","./editForm/Day.edit.day","./editForm/Day.edit.month","./editForm/Day.edit.year"],function(e,t,n,i,r,s,o){"use strict";return function(...a){return e([{key:"display",components:n},{key:"data",components:t},{key:"validation",components:i},{key:"day",label:"Day",weight:3,components:r},{key:"month",label:"Month",weight:3,components:s},{key:"year",label:"Year",weight:3,components:o}],...a)}}),e("skylark-formio/components/editgrid/editForm/EditGrid.edit.data",[],function(){"use strict";return[{type:"checkbox",input:!0,weight:105,key:"inlineEdit",label:"Inline Editing",tooltip:'Check this if you would like your changes within "edit" mode to be committed directly to the submission object as that row is being changed'},{key:"defaultValue",ignore:!0},{key:"multiple",ignore:!0}]}),e("skylark-formio/components/editgrid/editForm/EditGrid.edit.display",[],function(){"use strict";return[{key:"placeholder",ignore:!0},{type:"checkbox",label:"Open First Row when Empty",key:"openWhenEmpty",tooltip:"Check this if you would like to open up the first row when the EditGrid is empty",weight:1e3,input:!0,conditional:{json:{"!==":[{var:"data.modal"},!0]}}},{type:"checkbox",label:"Disable Adding / Removing Rows",key:"disableAddingRemovingRows",tooltip:"Check if you want to hide Add Another button and Remove Row button",weight:1001,input:!0,clearOnHide:!1,calculateValue:"value = data.disableAddingRemovingRows;"},{weight:1010,type:"textarea",input:!0,key:"conditionalAddButton",label:"Conditional Add Button",placeholder:"show = ...",tooltip:"Specify condition when Add Button should be displayed.",editor:"ace",as:"js",wysiwyg:{minLines:3}}]}),e("skylark-formio/components/editgrid/editForm/EditGrid.edit.templates",["../../../utils/Evaluator"],function(e){"use strict";return[{type:"textarea",label:"Header Template",key:"templates.header",rows:5,editor:"ace",as:"handlebars",input:!0,placeholder:"/*** Lodash Template Code ***/",description:'Two available variables. "value" is the array of row data and "components" is the array of components in the grid.',tooltip:'This is the <a href="https://lodash.com/docs/4.17.5#template">Lodash Template</a> used to render the header of the Edit grid.',customConditional:()=>!e.noeval},{type:"textarea",label:"Row Template",key:"templates.row",rows:5,editor:"ace",as:"handlebars",input:!0,placeholder:"/*** Lodash Template Code ***/",description:'Two available variables. "row" is an object of one row\'s data and "components" is the array of components in the grid. To add click events, add the classes "editRow" and "removeRow" to elements.',tooltip:'This is the <a href="https://lodash.com/docs/4.17.5#template">Lodash Template</a> used to render each row of the Edit grid.',customConditional:()=>!e.noeval},{type:"textarea",label:"Footer Template",key:"templates.footer",rows:5,editor:"ace",as:"handlebars",input:!0,placeholder:"/*** Lodash Template Code ***/",description:'Two available variables. "value" is the array of row data and "components" is the array of components in the grid.',tooltip:'This is the <a href="https://lodash.com/docs/4.17.5#template">Lodash Template</a> used to render the footer of the Edit grid.',customConditional:()=>!e.noeval},{type:"textfield",input:!0,key:"rowClass",label:"Row CSS Class",placeholder:"Row CSS Class",tooltip:"CSS class to add to the edit row wrapper."},{type:"textfield",input:!0,key:"addAnother",label:"Add Another Text",placeholder:"Add Another",tooltip:"Set the text of the Add Another button."},{weight:70,type:"checkbox",label:"Display as Modal",tooltip:"Display a modal to add or edit entries in the table",key:"modal",input:!0},{type:"textfield",input:!0,key:"saveRow",label:"Save Row Text",placeholder:"Save",tooltip:"Set the text of the Save Row button."},{type:"textfield",input:!0,key:"removeRow",label:"Remove Row Text",placeholder:"Remove",tooltip:"Set the text of the remove Row button."}]}),e("skylark-formio/components/editgrid/editForm/EditGrid.edit.validation",[],function(){"use strict";return[{weight:110,key:"validate.minLength",label:"Minimum Length",placeholder:"Minimum Length",type:"number",tooltip:"The minimum length requirement this field must meet.",input:!0},{weight:120,key:"validate.maxLength",label:"Maximum Length",placeholder:"Maximum Length",type:"number",tooltip:"The maximum length requirement this field must meet.",input:!0}]}),e("skylark-formio/components/editgrid/EditGrid.form",["../_classes/component/Component.form","./editForm/EditGrid.edit.data","./editForm/EditGrid.edit.display","./editForm/EditGrid.edit.templates","./editForm/EditGrid.edit.validation"],function(e,t,n,i,r){"use strict";return function(...s){return e([{label:"Templates",key:"templates",weight:5,components:i},{key:"display",components:n},{key:"data",components:t},{key:"validation",components:r}],...s)}}),e("skylark-formio/components/email/editForm/Email.edit.display",[],function(){"use strict";return[{key:"inputMask",ignore:!0},{key:"allowMultipleMasks",ignore:!0},{key:"showWordCount",ignore:!0},{key:"showCharCount",ignore:!0}]}),e("skylark-formio/components/email/editForm/Email.edit.validation",[],function(){"use strict";return[{key:"validate.minWords",ignore:!0},{key:"validate.maxWords",ignore:!0},{type:"panel",label:"Kickbox",title:"Kickbox",weight:102,key:"kickbox",components:[{type:"checkbox",label:"Enable",tooltip:"Enable Kickbox validation for this email field.",description:"Validate this email using the Kickbox email validation service.",key:"kickbox.enabled"}]}]}),e("skylark-formio/components/email/Email.form",["../textfield/TextField.form","./editForm/Email.edit.display","./editForm/Email.edit.validation"],function(e,t,n){"use strict";return function(...i){return e([{key:"display",components:t},{key:"validation",components:n}],...i)}}),e("skylark-formio/components/fieldset/editForm/Fieldset.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"hideLabel",ignore:!0},{key:"autofocus",ignore:!0},{key:"label",hidden:!0,calculateValue:e=>e.data.legend},{weight:1,type:"textfield",input:!0,key:"legend",label:"Legend",placeholder:"Legend",tooltip:"The legend for this Fieldset."}]}),e("skylark-formio/components/fieldset/Fieldset.form",["../_classes/nested/NestedComponent.form","./editForm/Fieldset.edit.display"],function(e,t){"use strict";return function(...n){return e([{key:"display",components:t}],...n)}}),e("skylark-formio/components/file/editForm/File.edit.data",[],function(){"use strict";return[{key:"defaultValue",ignore:!0}]}),e("skylark-formio/components/file/editForm/File.edit.display",[],function(){"use strict";return[{key:"placeholder",ignore:!0}]}),e("skylark-formio/components/file/editForm/File.edit.file",["../../../Formio","skylark-lodash"],function(e,t){"use strict";return[{type:"select",input:!0,key:"storage",label:"Storage",placeholder:"Select your file storage provider",weight:0,tooltip:"Which storage to save the files in.",valueProperty:"value",dataSrc:"custom",data:{custom:()=>t.map(e.Providers.getProviders("storage"),(e,t)=>({label:e.title,value:t}))}},{type:"textfield",input:!0,key:"url",label:"Url",weight:10,placeholder:"Enter the url to post the files to.",tooltip:"See <a href='https://github.com/danialfarid/ng-file-upload#server-side' target='_blank'>https://github.com/danialfarid/ng-file-upload#server-side</a> for how to set up the server.",conditional:{json:{"===":[{var:"data.storage"},"url"]}}},{type:"textfield",input:!0,key:"options.indexeddb",label:"Database",weight:10,placeholder:"Enter the indexeddb database name",conditional:{json:{in:[{var:"data.storage"},["indexeddb"]]}}},{type:"textfield",input:!0,label:"Table",key:"options.indexeddbTable",weight:10,placeholder:"Enter the name for indexeddb table",conditional:{json:{in:[{var:"data.storage"},["indexeddb"]]}}},{type:"textarea",key:"options",label:"Custom request options",tooltip:"Pass your custom xhr options(optional)",rows:5,editor:"ace",input:!0,weight:15,placeholder:'{\n  "withCredentials": true\n}',conditional:{json:{"===":[{var:"data.storage"},"url"]}}},{type:"textfield",input:!0,key:"fileKey",label:"Fileform-datakey",weight:17,placeholder:"Enterthekeynameofafileforformdata.",tooltip:"KeynamethatyouwouldliketomodifyforthefilewhilecallingAPIrequest.",conditional:{json:{"===":[{var:"data.storage"},"url"]}}},{type:"textfield",input:!0,key:"dir",label:"Directory",placeholder:"(optional) Enter a directory for the files",tooltip:"This will place all the files uploaded in this field in the directory",weight:20},{type:"textfield",input:!0,key:"fileNameTemplate",label:"File Name Template",placeholder:"(optional) {{{name}}-{{guid}}}}}",tooltip:"Specify template for name of uploaded file(s). Regular template variables are available (`data`, `component`, `user`, `value`, `moment` etc.), also `fileName`, `guid` variables are available. `guid` part must be present, if not found in template, will be added at the end.",weight:25},{type:"checkbox",input:!0,key:"image",label:"Display as image(s)",tooltip:"Instead of a list of linked files, images will be rendered in the view.",weight:30},{type:"checkbox",input:!0,key:"privateDownload",label:"Private Download",tooltip:"When this is checked, the file download will send a POST request to the download URL with the x-jwt-token header. This will allow your endpoint to create a Private download system.",weight:31,conditional:{json:{"===":[{var:"data.storage"},"url"]}}},{type:"textfield",input:!0,key:"imageSize",label:"Image Size",placeholder:"100",tooltip:"The image size for previewing images.",weight:40,conditional:{json:{"==":[{var:"data.image"},!0]}}},{type:"checkbox",input:!0,key:"webcam",label:"Enable web camera",tooltip:"This will allow using an attached camera to directly take a picture instead of uploading an existing file.",weight:32},{type:"textfield",input:!0,key:"webcamSize",label:"Webcam Width",placeholder:"320",tooltip:"The webcam size for taking pictures.",weight:38,conditional:{json:{"==":[{var:"data.webcam"},!0]}}},{type:"datagrid",input:!0,label:"File Types",key:"fileTypes",tooltip:"Specify file types to classify the uploads. This is useful if you allow multiple types of uploads but want to allow the user to specify which type of file each is.",weight:11,components:[{label:"Label",key:"label",input:!0,type:"textfield"},{label:"Value",key:"value",input:!0,type:"textfield"}]},{type:"textfield",input:!0,key:"filePattern",label:"File Pattern",placeholder:".pdf,.jpg",tooltip:"See <a href='https://github.com/danialfarid/ng-file-upload#full-reference' target='_blank'>https://github.com/danialfarid/ng-file-upload#full-reference</a> for how to specify file patterns.",weight:50},{type:"textfield",input:!0,key:"fileMinSize",label:"File Minimum Size",placeholder:"1MB",tooltip:"See <a href='https://github.com/danialfarid/ng-file-upload#full-reference' target='_blank'>https://github.com/danialfarid/ng-file-upload#full-reference</a> for how to specify file sizes.",weight:60},{type:"textfield",input:!0,key:"fileMaxSize",label:"File Maximum Size",placeholder:"10MB",tooltip:"See <a href='https://github.com/danialfarid/ng-file-upload#full-reference' target='_blank'>https://github.com/danialfarid/ng-file-upload#full-reference</a> for how to specify file sizes.",weight:70}]}),e("skylark-formio/components/file/editForm/File.edit.validation",[],function(){"use strict";return[{key:"unique",ignore:!0},{key:"validateOn",ignore:!0}]}),e("skylark-formio/components/file/File.form",["../_classes/component/Component.form","./editForm/File.edit.data","./editForm/File.edit.display","./editForm/File.edit.file","./editForm/File.edit.validation"],function(e,t,n,i,r){"use strict";return function(...s){return e([{key:"display",components:n},{key:"data",components:t},{label:"File",key:"file",weight:5,components:i},{key:"validation",components:r}],...s)}}),e("skylark-formio/components/form/editForm/Form.edit.display",[],function(){"use strict";return[{key:"hideLabel",ignore:!0},{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"tooltip",ignore:!0},{key:"tabIndex",ignore:!0},{key:"autofocus",ignore:!0}]}),e("skylark-formio/components/form/editForm/Form.edit.form",[],function(){"use strict";return[{type:"select",input:!0,dataSrc:"url",data:{url:"/form?limit=4294967295&select=_id,title"},searchField:"title__regex",template:"<span>{{ item.title }}</span>",valueProperty:"_id",authenticate:!0,label:"Form",key:"form",weight:10,lazyLoad:!1,tooltip:"The form to load within this form component.",validate:{required:!0}},{type:"textfield",input:!0,label:"Form Revision",placeholder:"Current",tooltip:"You can lock the nested form to a specific revision by entering the revision number here.",key:"revision",weight:11},{type:"checkbox",input:!0,weight:20,key:"reference",label:"Save as reference",tooltip:"Using this option will save this field as a reference and link its value to the value of the origin record."}]}),e("skylark-formio/components/form/editForm/Form.edit.data",["../../_classes/component/editForm/utils"],function(e){"use strict";return[e.javaScriptValue("Custom Default Value","customDefaultValue","customDefaultValue",120,'<p><h4>Example:</h4><pre>value = data.firstName + " " + data.lastName;</pre></p>','<p><h4>Example:</h4><pre>{"cat": [{"var": "data.firstName"}, " ", {"var": "data.lastName"}]}</pre>'),e.javaScriptValue("Calculated Value","calculateValue","calculateValue",130,"<p><h4>Example:</h4><pre>value = data.a + data.b + data.c;</pre></p>",'<p><h4>Example:</h4><pre>{"+": [{"var": "data.a"}, {"var": "data.b"}, {"var": "data.c"}]}</pre><p><a target="_blank" href="http://formio.github.io/formio.js/app/examples/calculated.html">Click here for an example</a></p>')]}),e("skylark-formio/components/form/Form.form",["../_classes/nested/NestedComponent.form","./editForm/Form.edit.display","./editForm/Form.edit.form","./editForm/Form.edit.data"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"display",components:t},{label:"Form",key:"form",weight:10,components:n},{label:"Data",key:"data",weight:10,components:i}],...r)}}),e("skylark-formio/components/hidden/editForm/Hidden.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"tooltip",ignore:!0},{key:"hideLabel",ignore:!0},{key:"autofocus",ignore:!0},{key:"tabindex",ignore:!0},{key:"hidden",ignore:!0},{key:"tableView",ignore:!0},{key:"disabled",ignore:!0}]}),e("skylark-formio/components/hidden/editForm/Hidden.edit.data",[],function(){"use strict";return[{key:"multiple",ignore:!0},{key:"clearOnHide",ignore:!0},{key:"allowCalculateOverride",ignore:!0}]}),e("skylark-formio/components/hidden/Hidden.form",["../_classes/component/Component.form","./editForm/Hidden.edit.display","./editForm/Hidden.edit.data"],function(e,t,n){"use strict";return function(...i){return e([{key:"display",components:t},{key:"data",components:n},{key:"validation",ignore:!0},{key:"conditional",ignore:!0}],...i)}}),e("skylark-formio/components/html/editForm/HTML.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"tooltip",ignore:!0},{key:"hideLabel",ignore:!0},{key:"autofocus",ignore:!0},{key:"disabled",ignore:!0},{key:"tabindex",ignore:!0},{type:"textfield",input:!0,key:"tag",weight:50,label:"HTML Tag",placeholder:"HTML Element Tag",tooltip:"The tag of this HTML element."},{type:"textfield",input:!0,key:"className",weight:60,label:"CSS Class",placeholder:"CSS Class",tooltip:"The CSS class for this HTML element."},{type:"datagrid",input:!0,label:"Attributes",key:"attrs",tooltip:"The attributes for this HTML element. Only safe attributes are allowed, such as src, href, and title.",weight:70,components:[{label:"Attribute",key:"attr",input:!0,type:"textfield"},{label:"Value",key:"value",input:!0,type:"textfield"}]},{type:"textarea",input:!0,editor:"ace",rows:10,as:"html",label:"Content",tooltip:"The content of this HTML element.",defaultValue:'<div class="well">Content</div>',key:"content",weight:80},{weight:85,type:"checkbox",label:"Refresh On Change",tooltip:"Rerender the field whenever a value on the form changes.",key:"refreshOnChange",input:!0}]}),e("skylark-formio/components/html/editForm/HTML.edit.logic",[],function(){"use strict";return[{key:"logic",components:[{key:"actions",components:[{key:"actionPanel",components:[{data:{json:[{label:"Hidden",value:"hidden",type:"boolean"},{label:"Required",value:"validate.required",type:"boolean"},{label:"Disabled",value:"disabled",type:"boolean"},{label:"Label",value:"label",type:"string"},{label:"Title",value:"title",type:"string"},{label:"Tooltip",value:"tooltip",type:"string"},{label:"Description",value:"description",type:"string"},{label:"Placeholder",value:"placeholder",type:"string"},{label:"CSS Class",value:"className",type:"string"},{label:"Container Custom Class",value:"customClass",type:"string"},{label:"Content",value:"content",type:"string",component:"content"}]},key:"property"},{type:"textarea",editor:"ace",rows:10,as:"html",label:"Content",tooltip:"The content of this HTML element.",defaultValue:'<div class="well">Content</div>',key:"content",weight:30,input:!0,customConditional:e=>"property"===e.row.type&&e.row.hasOwnProperty("property")&&"string"===e.row.property.type&&"content"===e.row.property.component}]}]}]}]}),e("skylark-formio/components/html/HTML.form",["../_classes/component/Component.form","./editForm/HTML.edit.display","./editForm/HTML.edit.logic"],function(e,t,n){"use strict";return function(...i){return e([{key:"display",components:t},{key:"data",ignore:!0},{key:"validation",ignore:!0},{key:"logic",components:n}],...i)}}),e("skylark-formio/components/number/editForm/Number.edit.display",[],function(){"use strict";return[{key:"inputMask",ignore:!0},{key:"allowMultipleMasks",ignore:!0},{key:"showWordCount",ignore:!0},{key:"showCharCount",ignore:!0}]}),e("skylark-formio/components/number/editForm/Number.edit.data",[],function(){"use strict";return[{type:"checkbox",input:!0,weight:70,key:"delimiter",label:"Use Thousands Separator",tooltip:"Separate thousands by local delimiter."},{type:"number",input:!0,weight:80,key:"decimalLimit",label:"Decimal Places",tooltip:"The maximum number of decimal places."},{type:"checkbox",input:!0,weight:90,key:"requireDecimal",label:"Require Decimal",tooltip:"Always show decimals, even if trailing zeros."},{key:"case",ignore:!0}]}),e("skylark-formio/components/number/editForm/Number.edit.validation",[],function(){"use strict";return[{key:"unique",ignore:!0},{key:"validate.minLength",ignore:!0},{key:"validate.maxLength",ignore:!0},{key:"validate.minWords",ignore:!0},{key:"validate.maxWords",ignore:!0},{key:"validate.pattern",ignore:!0},{type:"number",label:"Minimum Value",key:"validate.min",input:!0,placeholder:"Minimum Value",tooltip:"The minimum value this field must have before the form can be submitted.",weight:150},{type:"number",label:"Maximum Value",key:"validate.max",input:!0,placeholder:"Maximum Value",tooltip:"The maximum value this field can have before the form can be submitted.",weight:160}]}),e("skylark-formio/components/number/Number.form",["../textfield/TextField.form","./editForm/Number.edit.display","./editForm/Number.edit.data","./editForm/Number.edit.validation"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"display",components:t},{key:"data",components:n},{key:"validation",components:i}],...r)}}),e("skylark-formio/components/panel/editForm/Panel.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"hideLabel",ignore:!0},{key:"autofocus",ignore:!0},{key:"label",hidden:!0,calculateValue:e=>e.data.title},{key:"tabindex",hidden:!0},{weight:1,type:"textfield",input:!0,placeholder:"Panel Title",label:"Title",key:"title",tooltip:"The title text that appears in the header of this panel."},{weight:20,type:"textarea",input:!0,key:"tooltip",label:"Tooltip",placeholder:"To add a tooltip to this field, enter text here.",tooltip:"Adds a tooltip to the side of this field."},{weight:30,type:"select",input:!0,label:"Theme",key:"theme",dataSrc:"values",data:{values:[{label:"Default",value:"default"},{label:"Primary",value:"primary"},{label:"Info",value:"info"},{label:"Success",value:"success"},{label:"Danger",value:"danger"},{label:"Warning",value:"warning"}]}},{weight:40,type:"fieldset",input:!1,components:[{type:"select",input:!0,label:"Breadcrumb Type",key:"breadcrumb",dataSrc:"values",data:{values:[{label:"Default",value:"default"},{label:"Condensed",value:"condensed"},{label:"Hidden",value:"none"}]}},{input:!0,type:"checkbox",label:"Allow click on Breadcrumb",key:"breadcrumbClickable",defaultValue:!0,conditional:{json:{"!==":[{var:"data.breadcrumb"},"none"]}}},{weight:50,label:"Panel Navigation Buttons",optionsLabelPosition:"right",values:[{label:"Previous",value:"previous"},{label:"Cancel",value:"cancel"},{label:"Next",value:"next"}],inline:!0,type:"selectboxes",key:"buttonSettings",input:!0,inputType:"checkbox",defaultValue:{previous:!0,cancel:!0,next:!0}}],customConditional:e=>"wizard"===e.instance.options.editForm.display},{weight:650,type:"checkbox",label:"Collapsible",tooltip:"If checked, this will turn this Panel into a collapsible panel.",key:"collapsible",input:!0},{weight:651,type:"checkbox",label:"Initially Collapsed",tooltip:"Determines the initial collapsed state of this Panel.",key:"collapsed",input:!0,conditional:{json:{"===":[{var:"data.collapsible"},!0]}}}]}),e("skylark-formio/components/panel/editForm/Panel.edit.conditional",["../../_classes/component/editForm/utils"],function(e){"use strict";const t=e.javaScriptValue("Advanced Next Page","nextPage","nextPage",110,"\n  <p>You must assign the <strong>next</strong> variable with the API key of the next page.</p>\n  <p>The global variable <strong>data</strong> is provided, and allows you to access the data of any form component, by using its API key.</p>\n  <p>Also <strong>moment</strong> library is available, and allows you to manipulate dates in a convenient way.</p>\n  <h5>Example</h5><pre>next = data.addComment ? 'page3' : 'page4';</pre>\n","\n  <p>Submission data is available as JsonLogic variables, with the same api key as your components.</p>\n");return[{...t,customConditional:e=>"wizard"===e.instance.options.editForm.display}]}),e("skylark-formio/components/panel/Panel.form",["../_classes/nested/NestedComponent.form","./editForm/Panel.edit.display","./editForm/Panel.edit.conditional"],function(e,t,n){"use strict";return function(...i){return e([{key:"display",components:t},{key:"conditional",components:n}],...i)}}),e("skylark-formio/components/password/editForm/Password.edit.display",[],function(){"use strict";return[{key:"inputMask",ignore:!0},{key:"allowMultipleMasks",ignore:!0}]}),e("skylark-formio/components/password/editForm/Password.edit.data",[],function(){"use strict";return[{key:"inputFormat",ignore:!0},{key:"persistent",ignore:!0},{key:"protected",ignore:!0},{key:"dbIndex",ignore:!0},{key:"encrypted",ignore:!0},{key:"multiple",ignore:!0},{key:"defaultValue",ignore:!0},{key:"customDefaultValuePanel",ignore:!0},{key:"calculateValuePanel",ignore:!0},{key:"passwordInfo",weight:0,type:"htmlelement",tag:"div",className:"alert alert-info",content:"Password fields are automatically encrypted using 1-way salted bcrypt hashes. These hashes are also protected and not returned in the API."}]}),e("skylark-formio/components/password/editForm/Password.edit.validation",[],function(){"use strict";return[{key:"unique",ignore:!0},{key:"validate.minWords",ignore:!0},{key:"validate.maxWords",ignore:!0}]}),e("skylark-formio/components/password/Password.form",["../textfield/TextField.form","./editForm/Password.edit.display","./editForm/Password.edit.data","./editForm/Password.edit.validation"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"data",components:n},{key:"display",components:t},{key:"validation",components:i}],...r)}}),e("skylark-formio/components/phonenumber/editForm/PhoneNumber.edit.validation",[],function(){"use strict";return[{key:"validate.minLength",ignore:!0},{key:"validate.maxLength",ignore:!0},{key:"validate.pattern",ignore:!0},{key:"validate.minWords",ignore:!0},{key:"validate.maxWords",ignore:!0}]}),e("skylark-formio/components/phonenumber/PhoneNumber.form",["../textfield/TextField.form","./editForm/PhoneNumber.edit.validation"],function(e,t){"use strict";return function(...n){return e([{key:"display",components:[{key:"showWordCount",ignore:!0},{key:"showCharCount",ignore:!0}]},{key:"validation",components:t}],...n)}}),e("skylark-formio/components/radio/editForm/Radio.edit.data",["../../../utils/builder","skylark-lodash"],function(e,t){"use strict";return[{key:"multiple",ignore:!0},{type:"datagrid",input:!0,label:"Values",key:"values",tooltip:"The radio button values that can be picked for this field. Values are text submitted with the form data. Labels are text that appears next to the radio buttons on the form.",weight:10,reorder:!0,defaultValue:[{label:"",value:""}],components:[{label:"Label",key:"label",input:!0,type:"textfield"},{label:"Value",key:"value",input:!0,type:"textfield",allowCalculateOverride:!0,calculateValue:{_camelCase:[{var:"row.label"}]},validate:{required:!0}},{type:"select",input:!0,weight:180,label:"Shortcut",key:"shortcut",tooltip:"The shortcut key for this option.",dataSrc:"custom",valueProperty:"value",customDefaultValue:()=>"",template:"{{ item.label }}",data:{custom:n=>e.getAvailableShortcuts(t.get(n,"instance.options.editForm",{}),t.get(n,"instance.options.editComponent",{}))}}]},{type:"select",input:!0,label:"Storage Type",key:"dataType",clearOnHide:!0,tooltip:"The type to store the data. If you select something other than autotype, it will force it to that type.",weight:12,template:"<span>{{ item.label }}</span>",dataSrc:"values",data:{values:[{label:"Autotype",value:"auto"},{label:"String",value:"string"},{label:"Number",value:"number"},{label:"Boolean",value:"boolean"},{label:"Object",value:"object"}]}}]}),e("skylark-formio/components/radio/editForm/Radio.edit.display",[],function(){"use strict";return[{key:"placeholder",ignore:!0},{type:"select",input:!0,label:"Options Label Position",key:"optionsLabelPosition",tooltip:"Position for the label for options for this field.",dataSrc:"values",weight:32,defaultValue:"right",data:{values:[{label:"Top",value:"top"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Bottom",value:"bottom"}]}},{type:"checkbox",input:!0,key:"inline",label:"Inline Layout",tooltip:"Displays the checkboxes/radios horizontally.",weight:650}]}),e("skylark-formio/components/radio/editForm/Radio.edit.validation",[],function(){"use strict";return[{key:"validateOn",ignore:!0},{key:"unique",ignore:!0}]}),e("skylark-formio/components/radio/Radio.form",["../_classes/component/Component.form","./editForm/Radio.edit.data","./editForm/Radio.edit.display","./editForm/Radio.edit.validation"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"display",components:n},{key:"data",components:t},{key:"validation",components:i}],...r)}}),e("skylark-formio/components/recaptcha/editForm/ReCaptcha.edit.display",[],function(){"use strict";return[{key:"eventType",label:"Type of event",tooltip:"Specify type of event that this reCAPTCHA would react to",type:"radio",values:[{label:"Form Load",value:"formLoad"},{label:"Button Click",value:"buttonClick"}],weight:650},{key:"buttonKey",label:"Button Key",tooltip:"Specify key of button on this form that this reCAPTCHA should react to",type:"textfield",customConditional:e=>"buttonClick"===e.data.eventType,weight:660},{key:"label",ignore:!0},{key:"hideLabel",ignore:!0},{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"tooltip",ignore:!0},{key:"errorLabel",ignore:!0},{key:"customClass",ignore:!0},{key:"tabindex",ignore:!0},{key:"multiple",ignore:!0},{key:"clearOnHide",ignore:!0},{key:"hidden",ignore:!0},{key:"mask",ignore:!0},{key:"dataGridLabel",ignore:!0},{key:"disabled",ignore:!0},{key:"autofocus",ignore:!0},{key:"tableView",ignore:!0}]}),e("skylark-formio/components/recaptcha/ReCaptcha.form",["../_classes/component/Component.form","./editForm/ReCaptcha.edit.display"],function(e,t){"use strict";return function(){return e([{key:"display",components:t},{key:"data",ignore:!0},{key:"validation",ignore:!0},{key:"conditional",ignore:!0},{key:"logic",ignore:!0}])}}),e("skylark-formio/components/resource/editForm/Resource.edit.display",[],function(){"use strict";return[{key:"resourceInfo",weight:-10,type:"htmlelement",tag:"div",className:"alert alert-danger",content:'The Resource component is deprecated. Use the Select component with data source of "Resource" instead.'},{type:"select",input:!0,dataSrc:"url",data:{url:"/form?type=resource&limit=4294967295&select=_id,title"},template:"<span>{{ item.title }}</span>",valueProperty:"_id",label:"Resource",key:"resource",weight:50,tooltip:"The resource to be used with this field."},{type:"tags",input:!0,key:"selectFields",label:"Select Fields",tooltip:"The properties on the resource to return as part of the options. If left blank, all properties will be returned.",placeholder:"Enter the fields to select.",weight:51},{type:"tags",input:!0,key:"searchFields",label:"Search Fields",tooltip:"A list of search filters based on the fields of the resource. See the <a target='_blank' href='https://github.com/travist/resourcejs#filtering-the-results'>Resource.js documentation</a> for the format of these filters.",placeholder:"The fields to query on the server",weight:52},{type:"textfield",input:!0,key:"filter",label:"Filter Query",weight:53,description:"The filter query for results.",tooltip:"Use this to provide additional filtering using query parameters."},{type:"textfield",input:!0,key:"sort",label:"Sort Query",weight:53,description:"The sort query for results",tooltip:"Use this to provide additional sorting using query parameters"},{type:"textarea",input:!0,key:"template",label:"Item Template",editor:"ace",as:"html",rows:3,weight:53,tooltip:"The HTML template for the result data items."},{type:"checkbox",input:!0,weight:54,key:"addResource",label:"Add Resource",tooltip:"Allows to create a new resource while entering a submission.",conditional:{json:{"===":[{var:"data.dataSrc"},"resource"]}}},{type:"textfield",label:"Add Resource Label",key:"addResourceLabel",tooltip:"Set the text of the Add Resource button.",placeholder:"Add Resource",weight:55,input:!0,conditional:{json:{and:[{"===":[{var:"data.dataSrc"},"resource"]},{"!!":{var:"data.addResource"}}]}}}]}),e("skylark-formio/components/resource/Resource.form",["../_classes/component/Component.form","./editForm/Resource.edit.display"],function(e,t){"use strict";return function(...n){return e([{key:"display",components:t}],...n)}}),e("skylark-formio/components/selectboxes/editForm/SelectBoxes.edit.validation",[],function(){"use strict";return[{type:"number",input:!0,key:"validate.minSelectedCount",label:"Minimum checked number",tooltip:"Minimum checkboxes required before form can be submitted.",weight:250},{type:"number",input:!0,key:"validate.maxSelectedCount",label:"Maximum checked number",tooltip:"Maximum checkboxes possible before form can be submitted.",weight:250},{type:"textfield",input:!0,key:"minSelectedCountMessage",label:"Minimum checked error message",tooltip:"Error message displayed if minimum number of items not checked.",weight:250},{type:"textfield",input:!0,key:"maxSelectedCountMessage",label:"Maximum checked error message",tooltip:"Error message displayed if maximum number of items checked.",weight:250}]}),e("skylark-formio/components/selectboxes/SelectBoxes.form",["../radio/Radio.form","./editForm/SelectBoxes.edit.validation"],function(e,t){"use strict";return function(...n){return e([{key:"data",components:[{key:"dataType",ignore:!0}]},{key:"validation",components:t}],...n)}}),e("skylark-formio/components/select/editForm/Select.edit.data",["../../../utils/utils"],function(e){"use strict";return[{type:"select",input:!0,weight:0,tooltip:"The source to use for the select data. Values lets you provide your own values and labels. JSON lets you provide raw JSON data. URL lets you provide a URL to retrieve the JSON data from.",key:"dataSrc",defaultValue:"values",label:"Data Source Type",dataSrc:"values",data:{values:[{label:"Values",value:"values"},{label:"URL",value:"url"},{label:"Resource",value:"resource"},{label:"Custom",value:"custom"},{label:"Raw JSON",value:"json"},{label:"IndexedDB",value:"indexeddb"}]}},{type:"textfield",weight:10,input:!0,key:"indexeddb.database",label:"Database name",tooltip:"The name of the indexeddb database.",conditional:{json:{"===":[{var:"data.dataSrc"},"indexeddb"]}}},{type:"textfield",input:!0,key:"indexeddb.table",label:"Table name",weight:16,tooltip:"The name of table in the indexeddb database.",conditional:{json:{"===":[{var:"data.dataSrc"},"indexeddb"]}}},{type:"textarea",as:"json",editor:"ace",weight:18,input:!0,key:"indexeddb.filter",label:"Row Filter",tooltip:"Filter table items that match the object.",defaultValue:{},conditional:{json:{"===":[{var:"data.dataSrc"},"indexeddb"]}}},{type:"textarea",as:"json",editor:"ace",weight:10,input:!0,key:"data.json",label:"Data Source Raw JSON",tooltip:"A raw JSON array to use as a data source.",conditional:{json:{"===":[{var:"data.dataSrc"},"json"]}}},{type:"textfield",input:!0,key:"data.url",weight:10,label:"Data Source URL",placeholder:"Data Source URL",tooltip:"A URL that returns a JSON array to use as the data source.",conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}},{type:"checkbox",input:!0,label:"Lazy Load Data",key:"lazyLoad",tooltip:"When set, this will not fire off the request to the URL until this control is within focus. This can improve performance if you have many Select dropdowns on your form where the API's will only fire when the control is activated.",weight:11,conditional:{json:{in:[{var:"data.dataSrc"},["resource","url"]]}}},{type:"datagrid",input:!0,label:"Request Headers",key:"data.headers",tooltip:"Set any headers that should be sent along with the request to the url. This is useful for authentication.",weight:11,components:[{label:"Key",key:"key",input:!0,type:"textfield"},{label:"Value",key:"value",input:!0,type:"textfield"}],conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}},{type:"datagrid",input:!0,label:"Data Source Values",key:"data.values",tooltip:"Values to use as the data source. Labels are shown in the select field. Values are the corresponding values saved with the submission.",weight:10,reorder:!0,defaultValue:[{label:"",value:""}],components:[{label:"Label",key:"label",input:!0,type:"textfield"},{label:"Value",key:"value",input:!0,type:"textfield",allowCalculateOverride:!0,calculateValue:{_camelCase:[{var:"row.label"}]}}],conditional:{json:{"===":[{var:"data.dataSrc"},"values"]}}},{type:"select",input:!0,dataSrc:"url",data:{url:"/form?type=resource&limit=4294967295&select=_id,title"},authenticate:!0,template:"<span>{{ item.title }}</span>",valueProperty:"_id",clearOnHide:!1,label:"Resource",key:"data.resource",lazyLoad:!1,weight:10,tooltip:"The resource to be used with this field.",conditional:{json:{"===":[{var:"data.dataSrc"},"resource"]}}},{type:"textfield",input:!0,label:"Data Path",key:"selectValues",weight:12,description:"The object path to the iterable items.",tooltip:"The property within the source data, where iterable items reside. For example: results.items or results[0].items",conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}},{type:"select",input:!0,label:"Value Property",key:"valueProperty",skipMerge:!0,clearOnHide:!1,tooltip:"The field to use as the value.",weight:11,refreshOn:"data.resource",template:"<span>{{ item.label }}</span>",valueProperty:"key",dataSrc:"url",lazyLoad:!1,onSetItems(t,n){const i=[];return e.eachComponent(n.components,(e,t)=>{e.input&&i.push({label:e.label||e.key,key:`data.${t}`})}),i},onChange(e){if(e&&e.flags&&e.flags.modified){const t=e.instance.data.valueProperty,n=t||"data",i=`<span>{{ item.${n} }}</span>`,r=t?`${t}__regex`:"";e.instance.root.getComponent("template").setValue(i),e.instance.root.getComponent("searchField").setValue(r)}},data:{url:"/form/{{ data.data.resource }}"},conditional:{json:{and:[{"===":[{var:"data.dataSrc"},"resource"]},{var:"data.data.resource"}]}}},{type:"select",input:!0,label:"Storage Type",key:"dataType",clearOnHide:!0,tooltip:"The type to store the data. If you select something other than autotype, it will force it to that type.",weight:12,template:"<span>{{ item.label }}</span>",dataSrc:"values",data:{values:[{label:"Autotype",value:"auto"},{label:"String",value:"string"},{label:"Number",value:"number"},{label:"Boolean",value:"boolean"},{label:"Object",value:"object"}]}},{type:"textfield",input:!0,label:"Value Property",key:"valueProperty",skipMerge:!0,clearOnHide:!1,weight:13,description:"The selected item's property to save.",tooltip:"The property of each item in the data source to use as the select value. If not specified, the item itself will be used.",conditional:{json:{in:[{var:"data.dataSrc"},["json","url","custom"]]}}},{type:"textfield",input:!0,label:"Select Fields",key:"selectFields",tooltip:"The properties on the resource to return as part of the options. Separate property names by commas. If left blank, all properties will be returned.",placeholder:"Comma separated list of fields to select.",weight:14,conditional:{json:{and:[{"===":[{var:"data.dataSrc"},"resource"]},{"===":[{var:"data.valueProperty"},""]}]}}},{type:"checkbox",input:!0,key:"disableLimit",label:"Disable limiting response",tooltip:"When enabled the request will not include the limit and skip options in the query string",weight:15,conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}},{type:"textfield",input:!0,key:"searchField",label:"Search Query Name",weight:16,description:"Name of URL query parameter",tooltip:"The name of the search querystring parameter used when sending a request to filter results with. The server at the URL must handle this query parameter.",conditional:{json:{in:[{var:"data.dataSrc"},["url","resource"]]}}},{type:"number",input:!0,key:"minSearch",weight:17,label:"Minimum Search Length",tooltip:"The minimum amount of characters they must type before a search is made.",defaultValue:0,conditional:{json:{and:[{"===":[{var:"data.dataSrc"},"url"]},{"!=":[{var:"data.searchField"},""]}]}}},{type:"textfield",input:!0,key:"filter",label:"Filter Query",weight:18,description:"The filter query for results.",tooltip:"Use this to provide additional filtering using query parameters.",conditional:{json:{in:[{var:"data.dataSrc"},["url","resource"]]}}},{type:"textfield",input:!0,key:"sort",label:"Sort Query",weight:18,description:"The sort query for results",tooltip:"Use this to provide additional sorting using query parameters",conditional:{json:{in:[{var:"data.dataSrc"},["url","resource"]]}}},{type:"number",input:!0,key:"limit",label:"Limit",weight:18,defaultValue:100,description:"Maximum number of items to view per page of results.",tooltip:"Use this to limit the number of items to request or view.",conditional:{json:{in:[{var:"data.dataSrc"},["url","resource"]]}}},{type:"textarea",input:!0,key:"data.custom",label:"Custom Values",editor:"ace",rows:10,weight:14,placeholder:"values = data['mykey'];",tooltip:"Write custom code to return the value options. The form data object is available.",conditional:{json:{"===":[{var:"data.dataSrc"},"custom"]}}},{type:"textarea",input:!0,key:"template",label:"Item Template",editor:"ace",as:"html",rows:3,weight:18,tooltip:"The HTML template for the result data items.",allowCalculateOverride:!0,calculateValue:e=>!e.data.template&&e.instance&&e.instance._currentForm.options.editComponent?e.instance._currentForm.options.editComponent.template:e.data.template},{type:"select",input:!0,key:"refreshOn",label:"Refresh Options On",weight:19,tooltip:"Refresh data when another field changes.",dataSrc:"custom",valueProperty:"value",data:{custom(e){var t=[];return t.push({label:"Any Change",value:"data"}),e.utils.eachComponent(e.instance.options.editForm.components,function(n,i){n.key!==e.data.key&&t.push({label:n.label||n.key,value:i})}),t}},conditional:{json:{in:[{var:"data.dataSrc"},["url","resource","values"]]}}},{type:"checkbox",input:!0,weight:20,key:"clearOnRefresh",label:"Clear Value On Refresh Options",defaultValue:!1,tooltip:"When the Refresh On field is changed, clear this components value.",conditional:{json:{in:[{var:"data.dataSrc"},["url","resource","values"]]}}},{type:"checkbox",input:!0,weight:21,key:"searchEnabled",label:"Enable Static Search",defaultValue:!0,tooltip:"When checked, the select dropdown will allow for searching within the static list of items provided."},{label:"Search Threshold",mask:!1,tableView:!0,alwaysEnabled:!1,type:"number",input:!0,key:"selectThreshold",validate:{min:0,customMessage:"",json:"",max:1},delimiter:!1,requireDecimal:!1,encrypted:!1,defaultValue:.3,weight:22,tooltip:"At what point does the match algorithm give up. A threshold of 0.0 requires a perfect match, a threshold of 1.0 would match anything."},{type:"checkbox",input:!0,weight:23,key:"addResource",label:"Add Resource",tooltip:"Allows to create a new resource while entering a submission.",conditional:{json:{"===":[{var:"data.dataSrc"},"resource"]}}},{type:"textfield",label:"Add Resource Label",key:"addResourceLabel",tooltip:"Set the text of the Add Resource button.",placeholder:"Add Resource",weight:24,input:!0,conditional:{json:{and:[{"===":[{var:"data.dataSrc"},"resource"]},{"!!":{var:"data.addResource"}}]}}},{type:"checkbox",input:!0,weight:25,key:"reference",label:"Save as reference",tooltip:"Using this option will save this field as a reference and link its value to the value of the origin record.",conditional:{json:{"===":[{var:"data.dataSrc"},"resource"]}}},{type:"checkbox",input:!0,weight:26,key:"authenticate",label:"Formio Authenticate",tooltip:"Check this if you would like to use Formio Authentication with the request.",conditional:{json:{"===":[{var:"data.dataSrc"},"url"]}}},{type:"checkbox",input:!0,weight:27,key:"readOnlyValue",label:"Read Only Value",tooltip:"Check this if you would like to show just the value when in Read Only mode."},{type:"textarea",as:"json",editor:"ace",weight:28,input:!0,key:"customOptions",label:"Choices.js options",tooltip:"A raw JSON object to use as options for the Select component (Choices JS).",defaultValue:{}}]}),e("skylark-formio/components/select/editForm/Select.edit.display",[],function(){"use strict";return[{type:"select",input:!0,weight:20,tooltip:"Select the type of widget you'd like to use.",key:"widget",defaultValue:"choicesjs",label:"Widget Type",dataSrc:"values",data:{values:[{label:"ChoicesJS",value:"choicesjs"},{label:"HTML 5",value:"html5"}]}}]}),e("skylark-formio/components/select/editForm/Select.edit.validation",[],function(){"use strict";return[{weight:50,type:"checkbox",label:"Perform server validation",tooltip:"Check this if you would like for the server to perform a validation check to ensure the selected value is an available option. This requires a Search query to ensure a record is found.",key:"validate.select",input:!0,conditional:{json:{var:"data.searchField"}}}]}),e("skylark-formio/components/select/Select.form",["../_classes/component/Component.form","./editForm/Select.edit.data","./editForm/Select.edit.display","./editForm/Select.edit.validation"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"display",components:n},{key:"data",components:t},{key:"validation",components:i}],...r)}}),e("skylark-formio/components/signature/editForm/Signature.edit.data",[],function(){"use strict";return[{key:"multiple",ignore:!0},{key:"defaultValue",ignore:!0},{key:"dbIndex",ignore:!0}]}),e("skylark-formio/components/signature/editForm/Signature.edit.display",[],function(){"use strict";return[{type:"textfield",input:!0,key:"footer",label:"Footer Label",tooltip:"The footer text that appears below the signature area.",placeholder:"Footer Label",weight:10},{type:"textfield",input:!0,key:"width",label:"Width",tooltip:"The width of the signature area.",placeholder:"Width",weight:50},{type:"textfield",input:!0,key:"height",label:"Height",tooltip:"The height of the signature area.",placeholder:"Height",weight:51},{type:"textfield",input:!0,key:"backgroundColor",label:"Background Color",tooltip:"The background color of the signature area.",placeholder:"Background Color",weight:52},{type:"textfield",input:!0,key:"penColor",label:"Pen Color",tooltip:"The ink color for the signature area.",placeholder:"Pen Color",weight:53},{key:"placeholder",ignore:!0},{key:"autofocus",ignore:!0}]}),e("skylark-formio/components/signature/editForm/Signature.edit.validation",[],function(){"use strict";return[{key:"unique",ignore:!0},{key:"validateOn",ignore:!0}]}),e("skylark-formio/components/signature/Signature.form",["../_classes/component/Component.form","./editForm/Signature.edit.data","./editForm/Signature.edit.display","./editForm/Signature.edit.validation"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"display",components:n},{key:"data",components:t},{key:"validation",components:i}],...r)}}),e("skylark-formio/components/survey/editForm/Survey.edit.data",[],function(){"use strict";return[{key:"multiple",ignore:!0},{type:"datagrid",input:!0,label:"Questions",key:"questions",tooltip:"The questions you would like to ask in this survey question.",weight:0,reorder:!0,defaultValue:[{label:"",value:""}],components:[{label:"Label",key:"label",input:!0,type:"textfield"},{label:"Value",key:"value",input:!0,type:"textfield",allowCalculateOverride:!0,calculateValue:{_camelCase:[{var:"row.label"}]}}]},{type:"datagrid",input:!0,label:"Values",key:"values",tooltip:"The values that can be selected per question. Example: 'Satisfied', 'Very Satisfied', etc.",weight:1,reorder:!0,defaultValue:[{label:"",value:""}],components:[{label:"Label",key:"label",input:!0,type:"textfield"},{label:"Value",key:"value",input:!0,type:"textfield",allowCalculateOverride:!0,calculateValue:{_camelCase:[{var:"row.label"}]}}]}]}),e("skylark-formio/components/survey/editForm/Survey.edit.display",[],function(){"use strict";return[{key:"placeholder",ignore:!0}]}),e("skylark-formio/components/survey/editForm/Survey.edit.validation",[],function(){"use strict";return[{key:"validateOn",ignore:!0}]}),e("skylark-formio/components/survey/Survey.form",["../_classes/component/Component.form","./editForm/Survey.edit.data","./editForm/Survey.edit.display","./editForm/Survey.edit.validation"],function(e,t,n,i){"use strict";return function(...r){return e([{key:"display",components:n},{key:"data",components:t},{key:"validation",components:i}],...r)}}),e("skylark-formio/components/table/editForm/Table.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"hideLabel",ignore:!0},{key:"autofocus",ignore:!0},{key:"tooltip",ignore:!0},{key:"tabindex",ignore:!0},{key:"disabled",ignore:!0},{type:"number",label:"Number of Rows",key:"numRows",input:!0,weight:1,placeholder:"Number of Rows",tooltip:"Enter the number or rows that should be displayed by this table."},{type:"number",label:"Number of Columns",key:"numCols",input:!0,weight:2,placeholder:"Number of Columns",tooltip:"Enter the number or columns that should be displayed by this table."},{type:"checkbox",label:"Clone Row Components",key:"cloneRows",input:!0,weight:3,tooltip:'Check this if you would like to "clone" the first row of components to all additional empty rows of the table.'},{type:"select",label:"Cell Alignment",key:"cellAlignment",input:!0,tooltip:"Horizontal alignment for cells of the table.",dataSrc:"values",data:{values:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},defaultValue:"left",weight:3},{type:"checkbox",label:"Striped",key:"striped",tooltip:"This will stripe the table if checked.",input:!0,weight:701},{type:"checkbox",label:"Bordered",key:"bordered",input:!0,tooltip:"This will border the table if checked.",weight:702},{type:"checkbox",label:"Hover",key:"hover",input:!0,tooltip:"Highlight a row on hover.",weight:703},{type:"checkbox",label:"Condensed",key:"condensed",input:!0,tooltip:"Condense the size of the table.",weight:704}]}),e("skylark-formio/components/table/Table.form",["../_classes/nested/NestedComponent.form","./editForm/Table.edit.display"],function(e,t){"use strict";return function(...n){return e([{key:"display",components:t}],...n)}}),e("skylark-formio/components/tabs/editForm/Tabs.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"hideLabel",ignore:!0},{key:"autofocus",ignore:!0},{key:"tooltip",ignore:!0},{key:"tabindex",ignore:!0},{key:"disabled",ignore:!0},{key:"components",type:"datagrid",input:!0,label:"Tabs",weight:50,reorder:!0,components:[{type:"textfield",input:!0,key:"label",label:"Label"},{type:"textfield",input:!0,key:"key",label:"Key",allowCalculateOverride:!0,calculateValue:{_camelCase:[{var:"row.label"}]}}]}]}),e("skylark-formio/components/tabs/Tabs.form",["../_classes/nested/NestedComponent.form","./editForm/Tabs.edit.display"],function(e,t){"use strict";return function(...n){return e([{key:"display",components:t}],...n)}}),e("skylark-formio/components/tags/editForm/Tags.edit.data",[],function(){"use strict";return[{key:"multiple",ignore:!0},{weight:20,type:"textfield",input:!0,key:"delimeter",label:"Delimiter",tooltip:"What is used to separate the tags.</a>"},{weight:22,type:"number",input:!0,key:"maxTags",label:"Max Tags",defaultValue:0,tooltip:"The maximum amount of tags that can be added. 0 for infinity."},{weight:24,type:"select",input:!0,key:"storeas",label:"Store As",dataSrc:"values",data:{values:[{label:"String (CSV)",value:"string"},{label:"Array of Tags",value:"array"}]}}]}),e("skylark-formio/components/tags/Tags.form",["../_classes/component/Component.form","./editForm/Tags.edit.data"],function(e,t){"use strict";return function(...n){return e([{key:"data",components:t}],...n)}}),e("skylark-formio/components/textarea/editForm/TextArea.edit.display",["skylark-lodash","../../../Formio"],function(e,t){"use strict";return[{key:"inputMask",ignore:!0},{key:"allowMultipleMasks",ignore:!0},{key:"mask",ignore:!0},{type:"number",input:!0,key:"rows",label:"Rows",weight:210,tooltip:"This allows control over how many rows are visible in the text area.",placeholder:"Enter the amount of rows"},{weight:1350,type:"checkbox",input:!0,key:"spellcheck",defaultValue:!0,label:"Allow Spellcheck"},{type:"select",input:!0,key:"editor",label:"Editor",tooltip:"Select the type of WYSIWYG editor to use for this text area.",dataSrc:"values",data:{values:[{label:"None",value:""},{label:"ACE",value:"ace"},{label:"CKEditor",value:"ckeditor"},{label:"Quill",value:"quill"},{label:"TinyMCE",value:"tiny"}]},weight:415},{type:"textfield",input:!0,key:"tinyApiKey",label:"TinyMCE Api Key",weight:415.2,placeholder:"If you have a TinyMCE APi Key, enter it here.",conditional:{json:{"===":[{var:"data.editor"},"tiny"]}}},{type:"checkbox",input:!0,key:"autoExpand",label:"Auto Expand",tooltip:"This will make the TextArea auto expand it's height as the user is typing into the area.",weight:415,conditional:{json:{"==":[{var:"data.editor"},""]}}},{type:"checkbox",input:!0,key:"isUploadEnabled",label:"Enable Image Upload",weight:415.1,conditional:{json:{or:[{"===":[{var:"data.editor"},"quill"]}]}}},{type:"select",input:!0,key:"uploadStorage",label:"Image Upload Storage",placeholder:"Select your file storage provider",weight:415.2,tooltip:"Which storage to save the files in.",valueProperty:"value",dataSrc:"custom",data:{custom:()=>e.map(t.Providers.getProviders("storage"),(e,t)=>({label:e.title,value:t}))},conditional:{json:{"===":[{var:"data.isUploadEnabled"},!0]}}},{type:"textfield",input:!0,key:"uploadUrl",label:"Image Upload Url",weight:415.3,placeholder:"Enter the url to post the files to.",tooltip:"See <a href='https://github.com/danialfarid/ng-file-upload#server-side' target='_blank'>https://github.com/danialfarid/ng-file-upload#server-side</a> for how to set up the server.",conditional:{json:{"===":[{var:"data.uploadStorage"},"url"]}}},{type:"textarea",key:"uploadOptions",label:"Image Upload Custom request options",tooltip:"Pass your custom xhr options(optional)",rows:5,editor:"ace",input:!0,weight:415.4,placeholder:'{\n      "withCredentials": true\n    }',conditional:{json:{"===":[{var:"data.uploadStorage"},"url"]}}},{type:"textfield",input:!0,key:"uploadDir",label:"Image Upload Directory",placeholder:"(optional) Enter a directory for the files",tooltip:"This will place all the files uploaded in this field in the directory",weight:415.5,conditional:{json:{"===":[{var:"data.isUploadEnabled"},!0]}}},{type:"textfield",key:"fileKey",input:!0,label:"Fileform-dataKey",tooltip:"KeynamethatyouwouldliketomodifyforthefilewhilecallingAPIrequest.",rows:5,weight:415.6,placeholder:"Enterthekeynameofafileforformdata.",conditional:{json:{and:[{"===":[{var:"data.editor"},"quill"]},{"===":[{var:"data.isUploadEnabled"},!0]},{"===":[{var:"data.uploadStorage"},"url"]}]}}},{type:"select",input:!0,key:"as",label:"Save As",dataSrc:"values",tooltip:"This setting determines how the value should be entered and stored in the database.",clearOnHide:!0,data:{values:[{label:"String",value:"string"},{label:"JSON",value:"json"},{label:"HTML",value:"html"}]},conditional:{json:{or:[{"===":[{var:"data.editor"},"quill"]},{"===":[{var:"data.editor"},"ace"]}]}},weight:416},{type:"textarea",input:!0,editor:"ace",rows:10,as:"json",label:"Editor Settings",tooltip:"Enter the WYSIWYG editor JSON configuration.",key:"wysiwyg",customDefaultValue:(e,t,n,i,r)=>r?r.wysiwygDefault:"",conditional:{json:{or:[{"===":[{var:"data.editor"},"ace"]},{"===":[{var:"data.editor"},"ckeditor"]},{"===":[{var:"data.editor"},"quill"]},{"===":[{var:"data.editor"},"tiny"]}]}},weight:417}]}),e("skylark-formio/components/textarea/editForm/TextArea.edit.validation",[],function(){"use strict";return[{weight:125,key:"validate.minWords",label:"Minimum Word Length",placeholder:"Minimum Word Length",type:"number",tooltip:"The minimum amount of words that can be added to this field.",input:!0},{weight:126,key:"validate.maxWords",label:"Maximum Word Length",placeholder:"Maximum Word Length",type:"number",tooltip:"The maximum amount of words that can be added to this field.",input:!0}]}),e("skylark-formio/components/textarea/TextArea.form",["../textfield/TextField.form","./editForm/TextArea.edit.display","./editForm/TextArea.edit.validation"],function(e,t,n){"use strict";return function(...i){return e([{key:"display",components:t},{key:"validation",components:n}],...i)}}),e("skylark-formio/components/time/editForm/Time.edit.data",[],function(){"use strict";return[{type:"textfield",input:!0,key:"dataFormat",label:"Data Format",placeholder:"HH:mm:ss",tooltip:"The moment.js format for saving the value of this field.",weight:25}]}),e("skylark-formio/components/time/editForm/Time.edit.display",[],function(){"use strict";return[{type:"select",input:!0,weight:40,tooltip:"Select the type of widget you'd like to use.",key:"inputType",defaultValue:"time",label:"Input Type",dataSrc:"values",data:{values:[{label:"HTML5 Time Input",value:"time"},{label:"Text Input with Mask",value:"text"}]}},{type:"textfield",input:!0,key:"format",label:"Format",placeholder:"Format",tooltip:"The moment.js format for showing the value of this field.",weight:50,defaultValue:"HH:mm",conditional:{json:{"===":[{var:"data.inputType"},"text"]}}},{key:"placeholder",ignore:!0}]}),e("skylark-formio/components/time/Time.form",["../_classes/component/Component.form","./editForm/Time.edit.data","./editForm/Time.edit.display"],function(e,t,n){"use strict";return function(...i){return e([{key:"data",components:t},{key:"display",components:n}],...i)}}),e("skylark-formio/components/tree/Tree.form",["../_classes/component/Component.form"],function(e){"use strict";return function(...t){return e(...t)}}),e("skylark-formio/components/unknown/editForm/Unknown.edit.display",[],function(){"use strict";return[{key:"customComponentDescription",label:"Custom component description",input:!1,tag:"p",content:'Custom components can be used to render special fields or widgets inside your app. For information on how to display in an app, see <a href="http://help.form.io/userguide/#custom" target="_blank">custom component documentation</a>.',type:"htmlelement",weight:5},{type:"textarea",as:"json",editor:"ace",weight:10,input:!0,key:"componentJson",label:"Custom Element JSON",tooltip:"Enter the JSON for this custom element."}]}),e("skylark-formio/components/unknown/Unknown.form",["./editForm/Unknown.edit.display"],function(e){"use strict";return function(){return{components:[{type:"tabs",key:"tabs",components:[{label:"Custom",key:"display",weight:0,components:e}]}]}}}),e("skylark-formio/components/url/editForm/Url.edit.display",[],function(){"use strict";return[{key:"inputMask",ignore:!0},{key:"allowMultipleMasks",ignore:!0},{key:"showWordCount",ignore:!0},{key:"showCharCount",ignore:!0}]}),e("skylark-formio/components/url/editForm/Url.edit.data",[],function(){"use strict";return[{key:"case",ignore:!0}]}),e("skylark-formio/components/url/Url.form",["../textfield/TextField.form","./editForm/Url.edit.display","./editForm/Url.edit.data"],function(e,t,n){"use strict";return function(...i){return e([{key:"display",components:t},{key:"data",components:n}],...i)}}),e("skylark-formio/components/well/editForm/Well.edit.display",[],function(){"use strict";return[{key:"labelPosition",ignore:!0},{key:"placeholder",ignore:!0},{key:"description",ignore:!0},{key:"hideLabel",ignore:!0},{key:"autofocus",ignore:!0},{key:"tooltip",ignore:!0},{key:"tabindex",ignore:!0}]}),e("skylark-formio/components/well/Well.form",["../_classes/nested/NestedComponent.form","./editForm/Well.edit.display"],function(e,t){"use strict";return function(...n){return e([{key:"display",components:t}],...n)}}),e("skylark-formio/components/builder",["./index","./address/Address.form","./button/Button.form","./checkbox/Checkbox.form","./columns/Columns.form","./container/Container.form","./content/Content.form","./currency/Currency.form","./datagrid/DataGrid.form","./datamap/DataMap.form","./datetime/DateTime.form","./day/Day.form","./editgrid/EditGrid.form","./email/Email.form","./fieldset/Fieldset.form","./file/File.form","./form/Form.form","./hidden/Hidden.form","./html/HTML.form","./number/Number.form","./panel/Panel.form","./password/Password.form","./phonenumber/PhoneNumber.form","./radio/Radio.form","./recaptcha/ReCaptcha.form","./resource/Resource.form","./selectboxes/SelectBoxes.form","./select/Select.form","./signature/Signature.form","./survey/Survey.form","./table/Table.form","./tabs/Tabs.form","./tags/Tags.form","./textarea/TextArea.form","./textfield/TextField.form","./time/Time.form","./tree/Tree.form","./unknown/Unknown.form","./url/Url.form","./well/Well.form"],function(e,t,n,i,r,s,o,a,l,u,c,h,d,p,f,m,g,y,v,b,k,w,x,_,C,E,S,A,M,T,D,O,P,L,I,R,F,V,N,j){"use strict";return e.address.editForm=t,e.button.editForm=n,e.checkbox.editForm=i,e.columns.editForm=r,e.container.editForm=s,e.content.editForm=o,e.currency.editForm=a,e.datagrid.editForm=l,e.datamap.editForm=u,e.datetime.editForm=c,e.day.editForm=h,e.editgrid.editForm=d,e.email.editForm=p,e.fieldset.editForm=f,e.file.editForm=m,e.form.editForm=g,e.hidden.editForm=y,e.htmlelement.editForm=v,e.number.editForm=b,e.panel.editForm=k,e.password.editForm=w,e.phoneNumber.editForm=x,e.radio.editForm=_,e.recaptcha.editForm=C,e.resource.editForm=E,e.select.editForm=A,e.selectboxes.editForm=S,e.signature.editForm=M,e.survey.editForm=T,e.table.editForm=D,e.tabs.editForm=O,e.tags.editForm=P,e.textarea.editForm=L,e.textfield.editForm=I,e.time.editForm=R,e.tree.editForm=F,e.unknown.editForm=V,e.url.editForm=N,e.well.editForm=j,e}),e("skylark-formio/WebformBuilder",["skylark-langx/langx","./Webform","./components/_classes/component/Component","skylark-dragula","./vendors/tooltip-js/tooltip","./vendors/getify/npo","./components/Components","./Formio","./utils/utils","./utils/formUtils","./utils/builder","skylark-lodash","./templates/Templates","./components/builder"],function(e,t,n,i,r,s,o,a,l,u,c,h,d){"use strict";return class extends n{constructor(){let t,n;arguments[0]instanceof HTMLElement||arguments[1]?(t=arguments[0],n=arguments[1]):n=arguments[0],n.skipInit=!1,super(null,n),this.element=t,this.builderHeight=0,this.schemas={},this.sideBarScroll=h.get(this.options,"sideBarScroll",!0),this.sideBarScrollOffset=h.get(this.options,"sideBarScrollOffset",0);const i={};for(const e in o.components){const t=o.components[e];t.builderInfo&&(t.type=e,i[e]=t.builderInfo)}this.dragDropEnabled=!0,this.builder=h.defaultsDeep({},this.options.builder,this.defaultGroups),e.each(this.defaultGroups,(e,t)=>{!1===e&&(this.builder[t]=!1)}),this.groups={},this.groupOrder=[];for(const e in this.builder)this.builder[e]&&(this.builder[e].key=e,this.groups[e]=this.builder[e],this.groups[e].components=this.groups[e].components||{},this.groups[e].componentOrder=this.groups[e].componentOrder||[],this.groups[e].subgroups=Object.keys(this.groups[e].groups||{}).map(t=>(this.groups[e].groups[t].componentOrder=Object.keys(this.groups[e].groups[t].components).map(e=>e),this.groups[e].groups[t])),this.groupOrder.push(this.groups[e]));this.groupOrder=this.groupOrder.filter(e=>e&&!e.ignore).sort((e,t)=>e.weight-t.weight).map(e=>e.key);for(const e in o.components){const t=o.components[e];if(t.builderInfo){this.schemas[e]=t.builderInfo.schema,t.type=e;const n=t.builderInfo;n.key=t.type,this.addBuilderComponentInfo(n)}}for(const e in this.groups){const t=this.groups[e];for(const e in t.components){const n=t.components[e];n&&(n.schema&&(this.schemas[e]=n.schema),t.components[e]=!0===n?i[e]:n,t.components[e].key=e)}}for(const e in this.groups)this.groups[e]&&this.groups[e].components&&(this.groups[e].componentOrder=Object.keys(this.groups[e].components).map(t=>this.groups[e].components[t]).filter(e=>e&&!e.ignore).sort((e,t)=>e.weight-t.weight).map(e=>e.key));this.options.hooks=this.options.hooks||{},this.options.hooks.renderComponent=((e,{self:t})=>"form"!==t.type||t.key?this.options.disabled&&this.options.disabled.includes(t.key)||t.parent.noDragDrop?e:this.renderTemplate("builderComponent",{html:e}):e.replace("formio-component-form","")),this.options.hooks.renderComponents=((e,{components:t,self:n})=>"datagrid"===n.type&&t.length>0||n.noDragDrop?e:((!t||!t.length&&!t.nodrop||"form"===n.type&&t.length<=1&&(0===t.length||"button"===t[0].type))&&(e=this.renderTemplate("builderPlaceholder",{position:0})+e),this.renderTemplate("builderComponents",{key:n.key,type:n.type,html:e}))),this.options.hooks.renderInput=((e,{self:t})=>"hidden"===t.type?e+t.name:e),this.options.hooks.renderLoading=((e,{self:t})=>"form"===t.type&&t.key?t.name:e),this.options.hooks.attachComponents=((e,t,n,i)=>{if(!e)return;if(i.noDragDrop)return e;const r=e.querySelector(`[ref="${i.component.key}-container"]`)||e;return r.formioContainer=n,r.formioComponent=i,this.dragula&&this.allowDrop(e)&&this.dragula.containers.push(r),("datagrid"===i.type||"datamap"===i.type)&&t.length>0?e:e.children[0]}),this.options.hooks.attachDatagrid=((e,t)=>{t.loadRefs(e,{[`${t.key}-container`]:"single"}),t.attachComponents(t.refs[`${t.key}-container`].parentNode,[],t.component.components)}),this.options.hooks.attachComponent=((e,t)=>{if(e.formioComponent=t,t.loadRefs(e,{removeComponent:"single",editComponent:"single",moveComponent:"single",copyComponent:"single",pasteComponent:"single",editJson:"single"}),t.refs.copyComponent&&(new r(t.refs.copyComponent,{trigger:"hover",placement:"top",title:this.t("Copy")}),t.addEventListener(t.refs.copyComponent,"click",()=>this.copyComponent(t))),t.refs.pasteComponent){const e=new r(t.refs.pasteComponent,{trigger:"hover",placement:"top",title:this.t("Paste below")});t.addEventListener(t.refs.pasteComponent,"click",()=>{e.hide(),this.pasteComponent(t)})}t.refs.moveComponent&&new r(t.refs.moveComponent,{trigger:"hover",placement:"top",title:this.t("Move")});const n=this.getParentElement(e);return t.refs.editComponent&&(new r(t.refs.editComponent,{trigger:"hover",placement:"top",title:this.t("Edit")}),t.addEventListener(t.refs.editComponent,"click",()=>this.editComponent(t.schema,n,!1,!1,t.component))),t.refs.editJson&&(new r(t.refs.editJson,{trigger:"hover",placement:"top",title:this.t("Edit JSON")}),t.addEventListener(t.refs.editJson,"click",()=>this.editComponent(t.schema,n,!1,!0,t.component))),t.refs.removeComponent&&(new r(t.refs.removeComponent,{trigger:"hover",placement:"top",title:this.t("Remove")}),t.addEventListener(t.refs.removeComponent,"click",()=>this.removeComponent(t.schema,n,t.component))),e});const s={params:{type:"resource",limit:4294967295,select:"_id,title,name,components"}};this.options&&this.options.resourceTag?s.params.tags=[this.options.resourceTag]:this.options&&this.options.hasOwnProperty("resourceTag")||(s.params.tags=["builder"]);const l=new a(a.projectUrl),u=this.options.builder&&!1===this.options.builder.resource;if(!l.noProject&&!u){const e=this.options.builder&&this.options.builder.resource;l.loadForms(s).then(t=>{t.length&&(this.builder.resource={title:e?e.title:"Existing Resource Fields",key:"resource",weight:e?e.weight:50,subgroups:[],components:[],componentOrder:[]},this.groups.resource={title:e?e.title:"Existing Resource Fields",key:"resource",weight:e?e.weight:50,subgroups:[],components:[],componentOrder:[]},this.groupOrder.includes("resource")||this.groupOrder.push("resource"),this.addExistingResourceFields(t))})}this.options.attachMode="builder",this.webform=this.webform||this.createForm(this.options)}allowDrop(){return!0}addExistingResourceFields(t){e.each(t,(t,n)=>{const i=`resource-${t.name}`,r={key:i,title:t.title,components:[],componentOrder:[],default:0===n};u.eachComponent(t.components,n=>{if("button"===n.type)return;if(this.options&&this.options.resourceFilter&&(!n.tags||-1===n.tags.indexOf(this.options.resourceFilter)))return;let s=n.label;!s&&n.key&&(s=e.upperFirst(n.key)),r.componentOrder.push(n.key),r.components[n.key]=h.merge(l.fastCloneDeep(o.components[n.type].builderInfo),{key:n.key,title:s,group:"resource",subgroup:i},{schema:{...n,label:n.label,key:n.key,lockKey:!0,source:this.options.noSource?void 0:t._id,isNew:!0}})},!0),this.groups.resource.subgroups.push(r)}),this.triggerRedraw()}createForm(e){return this.webform=new t(this.element,e),this.element&&(this.loadRefs(this.element,{form:"single"}),this.refs.form&&(this.webform.element=this.refs.form)),this.webform}get ready(){return this.webform.ready}get defaultGroups(){return{basic:{title:"Basic",weight:0,default:!0},advanced:{title:"Advanced",weight:10},layout:{title:"Layout",weight:20},data:{title:"Data",weight:30},premium:{title:"Premium",weight:40}}}redraw(){return t.prototype.redraw.call(this)}get form(){return this.webform.form}get schema(){return this.webform.schema}set form(e){e.components||(e.components=[]);const t=!this.options.noDefaultSubmitButton&&!e.components.length;t&&e.components.push({type:"button",label:"Submit",key:"submit",size:"md",block:!1,action:"submit",disableOnInvalid:!0,theme:"primary"}),this.webform.form=e,this.rebuild()}get container(){return this.webform.form.components}findNamespaceRoot(e){const t=u.getComponent(this.webform.form.components,e.key,!0),n=this.recurseNamespace(t);if(!n||this.form.key===n)return this.form.components;if(n===e.key)return[...e.components,e];const i=u.getComponent(this.form.components,n,!0);return i.components}recurseNamespace(e){return e?["container","datagrid","editgrid","tree"].includes(e.type)||e.tree||e.arrayTree?e.key:this.recurseNamespace(e.parent):null}render(){return this.renderTemplate("builder",{sidebar:this.renderTemplate("builderSidebar",{scrollEnabled:this.sideBarScroll,groupOrder:this.groupOrder,groupId:`builder-sidebar-${this.id}`,groups:this.groupOrder.map(e=>this.renderTemplate("builderSidebarGroup",{group:this.groups[e],groupKey:e,groupId:`builder-sidebar-${this.id}`,subgroups:this.groups[e].subgroups.map(t=>this.renderTemplate("builderSidebarGroup",{group:t,groupKey:t.key,groupId:`group-container-${e}`,subgroups:[]}))}))}),form:this.webform.render()})}attach(e){return this.on("change",e=>{this.populateRecaptchaSettings(e)}),super.attach(e).then(()=>{if(this.loadRefs(e,{form:"single",sidebar:"single",container:"multiple","sidebar-anchor":"multiple","sidebar-group":"multiple","sidebar-container":"multiple"}),this.sideBarScroll&&d.current.handleBuilderSidebarScroll&&d.current.handleBuilderSidebarScroll.call(this,this),window.sessionStorage){const e=window.sessionStorage.getItem("formio.clipboard");e&&this.addClass(this.refs.form,"builder-paste-mode")}if(l.bootstrapVersion(this.options)||(this.refs["sidebar-group"].forEach(e=>{e.style.display="true"===e.getAttribute("data-default")?"inherit":"none"}),this.refs["sidebar-anchor"].forEach((e,t)=>{this.addEventListener(e,"click",()=>{const n=e.getAttribute("data-parent").slice("#builder-sidebar-".length),i=e.getAttribute("data-target").slice("#group-".length);this.refs["sidebar-group"].forEach((e,r)=>{const s="true"===e.getAttribute("data-default"),o=e.getAttribute("id").slice("group-".length),a=e.getAttribute("data-parent").slice("#builder-sidebar-".length);e.style.display=s&&a===i||o===n||r===t?"inherit":"none"})},!0)})),this.dragDropEnabled&&this.initDragula(),this.refs.form)return this.webform.attach(this.refs.form)})}initDragula(){const e=this.options;this.dragula&&this.dragula.destroy();const t=Array.prototype.slice.call(this.refs["sidebar-container"]).filter(e=>"group-container-resource"!==e.id);this.dragula=i(t,{moves(t){let n=!0;const i=Array.from(t.classList).filter(e=>0===e.indexOf("formio-component-"));return i.forEach(t=>{const i=t.slice("formio-component-".length);e.disabled&&e.disabled.includes(i)&&(n=!1)}),t.classList.contains("no-drag")&&(n=!1),n},copy:e=>e.classList.contains("drag-copy"),accepts:(e,t)=>!e.contains(t)&&!t.classList.contains("no-drop")}).on("drop",(e,t,n,i)=>this.onDrop(e,t,n,i))}detach(){this.dragula&&this.dragula.destroy(),this.dragula=null,this.sideBarScroll&&d.current.clearBuilderSidebarScroll&&d.current.clearBuilderSidebarScroll.call(this,this),super.detach()}getComponentInfo(e,t){let n;if(this.schemas.hasOwnProperty(e))n=l.fastCloneDeep(this.schemas[e]);else if(this.groups.hasOwnProperty(t)){const i=this.groups[t].components;i.hasOwnProperty(e)&&(n=l.fastCloneDeep(i[e].schema))}if("resource"===t.slice(0,t.indexOf("-"))){const i=this.groups.resource.subgroups,r=h.find(i,{key:t});r&&r.components.hasOwnProperty(e)&&(n=l.fastCloneDeep(r.components[e].schema))}return n&&(n.key=h.camelCase(n.title||n.label||n.placeholder||n.type)),n}getComponentsPath(e,t){let n="components",i=0,r=0,s=0,o=0;switch(t.type){case"table":r=h.findIndex(t.rows,t=>t.some(t=>t.components.some(t=>t.key===e.key))),s=h.findIndex(t.rows[r],t=>t.components.some(t=>t.key===e.key)),n=`rows[${r}][${s}].components`;break;case"columns":i=h.findIndex(t.columns,t=>t.components.some(t=>t.key===e.key)),n=`columns[${i}].components`;break;case"tabs":o=h.findIndex(t.components,t=>t.components.some(t=>t.key===e.key)),n=`components[${o}].components`}return n}onDrop(e,t,n,i){if(!t)return;if(e.contains(t))return;const r=e.getAttribute("data-key"),o=e.getAttribute("data-type"),a=e.getAttribute("data-group");let l,u,d,p;if(r?(!(l=this.getComponentInfo(r,a))&&o&&(l=this.getComponentInfo(o,a)),u=!0):n.formioContainer&&-1!==(p=h.findIndex(n.formioContainer,{key:e.formioComponent.component.key}))&&(l=(l=n.formioContainer.splice(h.findIndex(n.formioContainer,{key:e.formioComponent.component.key}),1))[0]),!l)return;t!==n&&c.uniquify(this.findNamespaceRoot(t.formioComponent.component),l);const f=t.formioComponent;let m;return t.formioContainer&&(i?-1!==(p=i.getAttribute("data-noattach")?i.getAttribute("data-position"):-1===(p=h.findIndex(t.formioContainer,{key:h.get(i,"formioComponent.component.key")}))?0:p)&&t.formioContainer.splice(p,0,l):t.formioContainer.push(l),d=this.getComponentsPath(l,f.component),-1===(p=h.findIndex(h.get(f.schema,d),{key:l.key}))&&(p=0)),f&&f.addChildComponent&&f.addChildComponent(l,e,t,n,i),u&&!this.options.noNewEdit&&this.editComponent(l,t,u),t!==n?n.formioContainer&&n.contains(t)?m=n.formioComponent.rebuild():t.contains(n)?m=t.formioComponent.rebuild():(n.formioContainer&&(m=n.formioComponent.rebuild()),m=t.formioComponent.rebuild()):m=t.formioComponent.rebuild(),m||(m=s.resolve()),m.then(()=>{this.emit("addComponent",l,f,d,p,u)})}setForm(e){return this.emit("change",e),super.setForm(e).then(e=>(setTimeout(()=>this.builderHeight=this.refs.form.offsetHeight,200),e))}populateRecaptchaSettings(e){var t=!1;this.form.components&&(u.eachComponent(e.components,e=>{if(!t)return"recaptcha"===e.type?(t=!0,!1):void 0}),t?h.set(e,"settings.recaptcha.isEnabled",!0):h.get(e,"settings.recaptcha.isEnabled")&&h.set(e,"settings.recaptcha.isEnabled",!1))}removeComponent(e,t,n){if(!t)return;let i=!0;if(!e.skipRemoveConfirm&&(Array.isArray(e.components)&&e.components.length||Array.isArray(e.rows)&&e.rows.length||Array.isArray(e.columns)&&e.columns.length)){const e="Removing this component will also remove all of its children. Are you sure you want to do this?";i=window.confirm(this.t(e))}n||(n=t.formioContainer.find(t=>t.key===e.key));const r=t.formioContainer?t.formioContainer.indexOf(n):0;if(i&&-1!==r){const n=this.getComponentsPath(e,t.formioComponent.component);t.formioContainer?t.formioContainer.splice(r,1):t.formioComponent&&t.formioComponent.removeChildComponent&&t.formioComponent.removeChildComponent(e);const i=t.formioComponent.rebuild()||s.resolve();i.then(()=>{this.emit("removeComponent",e,t.formioComponent.schema,n,r),this.emit("change",this.form)})}return i}updateComponent(e,t){if(this.preview){this.preview.form={components:[h.omit(e,["hidden","conditional","calculateValue","logic","autofocus","customConditional"])]};const t=this.componentEdit.querySelector('[ref="preview"]');t&&(this.setContent(t,this.preview.render()),this.preview.attach(t))}const n=u.getComponent(this.editForm.components,"defaultValue");if(n){const i=t&&(t.component&&"defaultValue"===t.component.key||t.instance&&n.hasComponent&&n.hasComponent(t.instance));if(!i){h.assign(n.component,h.omit(e,["key","label","placeholder","tooltip","hidden","autofocus","validate","disabled","defaultValue","customDefaultValue","calculateValue","conditional","customConditional"]));const t=n.parent;let i=-1,r=-1;if(t.tabs.some((e,t)=>{e.some((e,s)=>e.id===n.id&&(i=t,r=s,!0))}),-1!==i&&-1!==r){const e=t.tabs[i][r+1];t.removeComponent(n);const s=t.addComponent(n.component,n.data,e);h.pull(s.validators,"required"),t.tabs[i].splice(r,1,s),s.checkValidity=(()=>!0),s.build(n.element)}}}this.emit("updateComponent",e)}highlightInvalidComponents(){const e=[],t=new Map;u.eachComponent(this.form.components,(n,i)=>{n.key&&(t.has(n.key)?t.get(n.key).includes(i)?e.push(i):t.set(n.key,[...t.get(n.key),i]):t.set(n.key,[i]))}),u.eachComponent(this.webform.getComponents(),(t,n)=>{e.includes(n)&&t.setCustomValidity(`API Key is not unique: ${t.key}`)})}saveComponent(e,t,n,i){this.editForm.detach();const r=t?t.formioContainer:this.container,o=t?t.formioComponent:this;this.dialog.close();const a=r?this.getComponentsPath(e,o.component):"";i||(i=t.formioContainer.find(t=>t.key===e.key));const l=r?r.indexOf(i):0;if(-1!==l){let t=this.editForm.submission.data;t=t.componentJson||t,r?r[l]=t:o&&o.saveChildComponent&&o.saveChildComponent(t);const i=o.rebuild()||s.resolve();return i.then(()=>{let t=r?r[l]:[];o.getComponents().forEach(e=>{e.key===t.key&&(t=e.schema)}),this.emit("saveComponent",t,e,o.schema,a,l,n),this.emit("change",this.form),this.highlightInvalidComponents()})}return this.highlightInvalidComponents(),s.resolve()}editComponent(e,n,i,r,s){if(!e.key)return;let a=!1;const u=l.fastCloneDeep(e);let d=o.components[u.type];const p=void 0===d;r=r||p,d=p?o.components.unknown:d,this.dialog&&(this.dialog.close(),this.highlightInvalidComponents());const f=h.clone(h.get(this,"options.editForm",{}));this.editForm&&this.editForm.destroy();const m=h.get(this.options,`editForm.${u.type}`,{});f.editForm=this.form,f.editComponent=e,this.editForm=new t({...h.omit(this.options,["hooks","builder","events","attachMode","skipInit"]),language:this.options.language,...f}),this.editForm.form=r&&!p?{components:[{type:"textarea",as:"json",editor:"ace",weight:10,input:!0,key:"componentJson",label:"Component JSON",tooltip:"Edit the JSON for this component."}]}:d.editForm(h.cloneDeep(m));const g=new d(u);this.editForm.submission=r?{data:{componentJson:g.component}}:{data:g.component},this.preview&&this.preview.destroy(),d.builderInfo.hasOwnProperty("preview")&&!d.builderInfo.preview||(this.preview=new t(h.omit({...this.options,preview:!0},["hooks","builder","events","attachMode","calculateValue"]))),this.componentEdit=this.ce("div",{class:"component-edit-container"}),this.setContent(this.componentEdit,this.renderTemplate("builderEditForm",{componentInfo:d.builderInfo,editForm:this.editForm.render(),preview:!!this.preview&&this.preview.render()})),this.dialog=this.createModal(this.componentEdit,h.get(this.options,"dialogAttr",{})),this.editForm.attach(this.componentEdit.querySelector('[ref="editForm"]')),this.updateComponent(u),this.editForm.on("change",e=>{e.changed&&((e.changed.component&&"key"===e.changed.component.key||r)&&(u.keyModified=!0),e.changed.component&&["label","title"].includes(e.changed.component.key)&&i&&(e.data.keyModified||this.editForm.everyComponent(t=>{if("key"===t.key&&"tabs"===t.parent.component.key)return t.setValue(h.camelCase(e.data.title||e.data.label||e.data.placeholder||e.data.type)),!1}),this.form&&c.uniquify(this.findNamespaceRoot(n.formioComponent.component),e.data)),this.updateComponent(e.data.componentJson||e.data,e.changed))}),this.addEventListener(this.componentEdit.querySelector('[ref="cancelButton"]'),"click",t=>{t.preventDefault(),this.editForm.detach(),this.emit("cancelComponent",e),this.dialog.close(),this.highlightInvalidComponents()}),this.addEventListener(this.componentEdit.querySelector('[ref="removeButton"]'),"click",t=>{t.preventDefault(),a=!0,this.editForm.detach(),this.removeComponent(e,n,s),this.dialog.close(),this.highlightInvalidComponents()}),this.addEventListener(this.componentEdit.querySelector('[ref="saveButton"]'),"click",t=>{if(t.preventDefault(),!this.editForm.checkValidity(this.editForm.data,!0,this.editForm.data))return this.editForm.setPristine(!1),this.editForm.showErrors(),!1;a=!0,this.saveComponent(e,n,i,s)});const y=()=>{this.editForm.destroy(),this.preview&&(this.preview.destroy(),this.preview=null),i&&!a&&(this.removeComponent(e,n,s),this.highlightInvalidComponents()),this.removeEventListener(this.dialog,"close",y),this.dialog=null};this.addEventListener(this.dialog,"close",y),this.emit("editComponent",e)}copyComponent(e){if(!window.sessionStorage)return console.warn("Session storage is not supported in this browser.");this.addClass(this.refs.form,"builder-paste-mode"),window.sessionStorage.setItem("formio.clipboard",JSON.stringify(e.schema))}pasteComponent(e){if(!window.sessionStorage)return console.warn("Session storage is not supported in this browser.");if(this.removeClass(this.refs.form,"builder-paste-mode"),window.sessionStorage){const t=window.sessionStorage.getItem("formio.clipboard");if(t){const n=JSON.parse(t),i=this.getParentElement(e.element);c.uniquify(this.findNamespaceRoot(i.formioComponent.component),n);let r="",s=0;i.formioContainer?(s=i.formioContainer.indexOf(e.component),r=this.getComponentsPath(n,i.formioComponent.component),i.formioContainer.splice(s+1,0,n)):i.formioComponent&&i.formioComponent.saveChildComponent&&i.formioComponent.saveChildComponent(n,!1),i.formioComponent.rebuild(),this.emit("saveComponent",n,n,i.formioComponent.components,r,s+1,!0),this.emit("change",this.form)}}}getParentElement(e){let t=e;do{t=t.parentNode}while(t&&!t.formioComponent);return t}addBuilderComponentInfo(t){if(!t||!t.group||!this.groups[t.group])return;t=e.clone(t);const n=this.groups[t.group];return n.components.hasOwnProperty(t.key)||(n.components[t.key]=t),t}destroy(){this.webform.initialized&&this.webform.destroy(),super.destroy()}addBuilderGroup(e,t){this.groups[e]?this.updateBuilderGroup(e,t):(this.groups[e]=t,this.groupOrder.push(e),this.triggerRedraw())}updateBuilderGroup(e,t){this.groups[e]&&(this.groups[e]=t,this.triggerRedraw())}}}),e("skylark-formio/PDFBuilder",["skylark-lodash","./vendors/getify/npo","./vendors/fetch-ponyfill/fetch","./Formio","./WebformBuilder","./utils/utils","./utils/builder","./PDF"],function(e,t,n,i,r,s,o,a){"use strict";const{fetch:l,Headers:u}=n({Promise:t});return class extends r{constructor(){let e,t;arguments[0]instanceof HTMLElement||arguments[1]?(e=arguments[0],t=arguments[1]):t=arguments[0],t.skipInit=!0,e?super(e,t):super(t),this.dragDropEnabled=!1}get defaultGroups(){return{pdf:{title:"PDF Fields",weight:0,default:!0,components:{textfield:!0,number:!0,password:!0,email:!0,phoneNumber:!0,currency:!0,checkbox:!0,signature:!0,select:!0,textarea:!0,datetime:!0,file:!0}},basic:!1,advanced:!1,layout:!1,data:!1,premium:!1,resource:!1}}get hasPDF(){return e.has(this.webform.form,"settings.pdf")}get projectUrl(){return this.options.projectUrl||i.getProjectUrl()}init(){this.options.attachMode="builder",this.webform=this.webform||this.createForm(this.options),this.webform.init()}render(){const e=this.renderTemplate("pdfBuilder",{sidebar:this.renderTemplate("builderSidebar",{scrollEnabled:this.sideBarScroll,groupOrder:this.groupOrder,groupId:`builder-sidebar-${this.id}`,groups:this.groupOrder.map(e=>this.renderTemplate("builderSidebarGroup",{group:this.groups[e],groupKey:e,groupId:`builder-sidebar-${this.id}`,subgroups:this.groups[e].subgroups.map(t=>this.renderTemplate("builderSidebarGroup",{group:t,groupKey:t.key,groupId:`builder-sidebar-${e}`,subgroups:[]}))}))}),form:this.hasPDF?this.webform.render():this.renderTemplate("pdfBuilderUpload",{})});return e}attach(e){if(!this.hasPDF){if(this.loadRefs(e,{fileDrop:"single",fileBrowse:"single",hiddenFileInputElement:"single",uploadError:"single"}),this.addEventListener(this.refs["pdf-upload-button"],"click",e=>{e.preventDefault()}),this.projectUrl?this.setUploadError():this.setUploadError('Form options.projectUrl not set. Please set the "projectUrl" property of the options for this form or use Formio.setProjectUrl(). This setting is necessary to upload a pdf background.'),this.refs.fileDrop){const e=this;this.addEventListener(this.refs.fileDrop,"dragover",function(e){this.className="fileSelector fileDragOver",e.preventDefault()}),this.addEventListener(this.refs.fileDrop,"dragleave",function(e){this.className="fileSelector",e.preventDefault()}),this.addEventListener(this.refs.fileDrop,"drop",function(t){return this.className="fileSelector",t.preventDefault(),e.upload(t.dataTransfer.files[0]),!1})}return this.refs.fileBrowse&&this.refs.hiddenFileInputElement&&(this.addEventListener(this.refs.fileBrowse,"click",e=>{e.preventDefault(),"function"==typeof this.refs.hiddenFileInputElement.trigger?this.refs.hiddenFileInputElement.trigger("click"):this.refs.hiddenFileInputElement.click()}),this.addEventListener(this.refs.hiddenFileInputElement,"change",()=>{this.upload(this.refs.hiddenFileInputElement.files[0]),this.refs.hiddenFileInputElement.value=""})),t.resolve()}return super.attach(e).then(()=>(this.loadRefs(this.element,{iframeDropzone:"single","sidebar-container":"multiple"}),this.afterAttach(),this.element))}afterAttach(){this.initIframeEvents(),this.updateDropzoneDimensions(),this.initDropzoneEvents(),this.prepSidebarComponentsForDrag()}upload(t){const n=new u({Accept:"application/json, text/plain, */*","x-jwt-token":i.getToken()}),r=new FormData;r.append("file",t),l(`${this.projectUrl}/upload`,{method:"POST",headers:n,body:r}).then(t=>{201!==t.status?t.text().then(e=>{this.setUploadError(`${t.statusText} - ${e}`)}):t.json().then(t=>{e.set(this.webform.form,"settings.pdf",{id:t.file,src:`${t.filesServer}${t.path}`}),this.emit("pdfUploaded",t),this.redraw()})}).catch(()=>{this.setUploadError("Upload failed.")})}setUploadError(e){this.refs.uploadError&&(this.refs.uploadError.style.display=e?"":"none",this.refs.uploadError.innerHTML=e)}createForm(e){return e.skipInit=!1,this.webform=new a(this.element,e),this.webform.on("attach",()=>{this.refs.iframeDropzone&&![...this.refs.form.children].includes(this.refs.iframeDropzone)&&this.prependTo(this.refs.iframeDropzone,this.refs.form)}),this.webform}setForm(e){return super.setForm(e).then(()=>this.ready.then(()=>this.webform?(this.webform.postMessage({name:"form",data:e}),this.webform.setForm(e)):e))}saveComponent(...e){return super.saveComponent(...e).then(()=>this.afterAttach())}destroy(){super.destroy(),this.webform.destroy()}initIframeEvents(){this.webform.iframeElement&&(this.webform.off("iframe-elementUpdate"),this.webform.off("iframe-componentUpdate"),this.webform.off("iframe-componentClick"),this.webform.on("iframe-elementUpdate",e=>{const t=this.webform.getComponentById(e.id);return t&&t.component&&(t.component.overlay={page:e.page,left:e.left,top:e.top,height:e.height,width:e.width},this.editComponent(t.component,this.webform.iframeElement),this.emit("updateComponent",t)),t}),this.webform.on("iframe-componentUpdate",t=>{const n=this.webform.getComponentById(t.id);if(n&&n.component){n.component.overlay={page:t.overlay.page,left:t.overlay.left,top:t.overlay.top,height:t.overlay.height,width:t.overlay.width},this.emit("updateComponent",n);const i=e.find(this.form.components,{id:t.id});i&&(i.overlay=e.clone(n.component.overlay)),this.emit("change",this.form)}return n}),this.webform.on("iframe-componentClick",e=>{const t=this.webform.getComponentById(e.id);t&&this.editComponent(t.component,this.webform.iframeElement)},!0))}initDropzoneEvents(){this.refs.iframeDropzone&&(this.removeEventListener(this.refs.iframeDropzone,"dragover"),this.removeEventListener(this.refs.iframeDropzone,"drop"),this.addEventListener(this.refs.iframeDropzone,"dragover",e=>(e.preventDefault(),!1)),this.addEventListener(this.refs.iframeDropzone,"drop",this.onDropzoneDrop.bind(this)))}prepSidebarComponentsForDrag(){this.refs["sidebar-container"]&&this.refs["sidebar-container"].forEach(e=>{[...e.children].forEach(e=>{e.draggable=!0,e.setAttribute("draggable",!0),this.removeEventListener(e,"dragstart"),this.removeEventListener(e,"dragend"),this.addEventListener(e,"dragstart",this.onDragStart.bind(this),!0),this.addEventListener(e,"dragend",this.onDragEnd.bind(this),!0)})})}updateDropzoneDimensions(){if(!this.refs.iframeDropzone)return;const e=s.getElementRect(this.webform.refs.iframeContainer);this.refs.iframeDropzone.style.height=e&&e.height?`${e.height}px`:"1000px",this.refs.iframeDropzone.style.width=e&&e.width?`${e.width}px`:"100%"}tryUpdateCustomComponentSchema(t,n){const i=e.get(this,`groups.custom.components[${n}]`);return!!i&&(t.key=i.schema&&i.schema.key||t.key,t.label=i.schema&&i.schema.label||t.label,t.keyForShow=t.key,t.customField=!0,!0)}onDragStart(e){e.dataTransfer.setData("text/html",null),this.updateDropzoneDimensions(),this.addClass(this.refs.iframeDropzone,"enabled")}onDropzoneDrop(e){return this.dropEvent=e,e.preventDefault(),!1}onDragEnd(t){const n=this.dropEvent?this.dropEvent.offsetX:null,i=this.dropEvent?this.dropEvent.offsetY:null;if(this.removeClass(this.refs.iframeDropzone,"enabled"),!this.dropEvent)return;const r=t.target,a=r.getAttribute("data-type"),l=r.getAttribute("data-group"),u=r.getAttribute("data-key"),c=s.fastCloneDeep(this.schemas[a]);"custom"===l&&u&&this.tryUpdateCustomComponentSchema(c,u)||(c.key=e.camelCase(c.label||c.placeholder||c.type)),o.uniquify([this.webform.component],c),this.webform.component.components.push(c),this.emit("addComponent",c),c.overlay={top:i,left:n,width:100,height:20},this.webform.addComponent(c,{},null,!0),this.webform.postMessage({name:"addElement",data:c}),this.dropEvent=null}}}),e("skylark-formio/WizardBuilder",["./WebformBuilder","./Webform","./utils/builder","skylark-lodash"],function(e,t,n,i){"use strict";return class r extends e{constructor(){let e,t;arguments[0]instanceof HTMLElement||arguments[1]?(e=arguments[0],t=arguments[1]):t=arguments[0],t.skipInit=!1,super(e,t),this._form={components:[this.getPageConfig(1)]},this.page=0,this.options.hooks.attachPanel=((e,t)=>{t.refs.removeComponent&&this.addEventListener(t.refs.removeComponent,"click",()=>{const e=this.pages.findIndex(e=>e.key===t.key),n=this._form.components.findIndex(e=>e.key===t.key);-1!==e&&this.removePage(e,n)})});const n=this.options.hooks.renderComponents;this.options.hooks.renderComponents=((e,{components:t,self:i})=>"form"!==i.type||i.root?n(e,{components:t,self:i}):e);const i=this.options.hooks.attachComponents;this.options.hooks.attachComponents=((e,t,n,r)=>"form"!==r.type||r.root?i(e,t,n,r):e),this.on("saveComponent",(e,t)=>{const n=this.webform.components.map(({component:e})=>e);this._form.components.includes(t)?(this._form.components[this._form.components.indexOf(t)]=e,this.rebuild()):n.includes(t)&&(this._form.components.push(e),this.rebuild())},!0)}allowDrop(e){return!this.webform||!this.webform.refs||this.webform.refs.webform!==e}get pages(){return i.filter(this._form.components,{type:"panel"})}get currentPage(){const e=this.pages;return e&&e.length>=this.page?e[this.page]:null}set form(e){if(this._form=e,this._form.components&&Array.isArray(this._form.components)||(this._form.components=[]),0===this.pages.length){const e=this._form.components.filter(e=>"button"!==e.type);this._form.components=[this.getPageConfig(1,e)]}this.rebuild()}get form(){return this._form}get schema(){i.assign(this.currentPage,this.webform._form.components[0]);const e=new t(this.options);return e.form=this._form,e.schema}render(){return this.renderTemplate("builderWizard",{sidebar:this.renderTemplate("builderSidebar",{scrollEnabled:this.sideBarScroll,groupOrder:this.groupOrder,groupId:`builder-sidebar-${this.id}`,groups:this.groupOrder.map(e=>this.renderTemplate("builderSidebarGroup",{group:this.groups[e],groupKey:e,groupId:`builder-sidebar-${this.id}`,subgroups:this.groups[e].subgroups.map(t=>this.renderTemplate("builderSidebarGroup",{group:t,groupKey:t.key,groupId:`builder-sidebar-${e}`,subgroups:[]}))}))}),pages:this.pages,form:this.webform.render()})}attach(e){return this.loadRefs(e,{addPage:"multiple",gotoPage:"multiple"}),this.refs.addPage.forEach(e=>{this.addEventListener(e,"click",e=>{e.preventDefault(),this.addPage()})}),this.refs.gotoPage.forEach((e,t)=>{this.addEventListener(e,"click",e=>{e.preventDefault(),this.setPage(t)})}),super.attach(e)}rebuild(){const e=this.currentPage;return this.webform.form={display:"form",type:"form",components:e?[e]:[]},this.redraw()}addPage(){const e=this.pages.length+1,t=this.getPageConfig(e);return n.uniquify(this._form.components,t),this._form.components.push(t),this.emit("saveComponent",t),this.rebuild()}removePage(e,t){return this._form.components.splice(t,1),e===this.pages.length?0===e?(this._form.components.push(this.getPageConfig(1)),this.rebuild()):this.setPage(e-1):this.rebuild()}setPage(e){if(e!==this.page)return this.page=e,this.rebuild()}getPageConfig(e,t=[]){return{title:`Page ${e}`,label:`Page ${e}`,type:"panel",key:`page${e}`,components:t}}pasteComponent(e){if(!(e instanceof r))return super.pasteComponent(e)}}}),e("skylark-formio/builders/Builders",["skylark-lodash","../PDFBuilder","../WebformBuilder","../WizardBuilder"],function(e,t,n,i){"use strict";class r{static addBuilder(e,t){r.builders[e]=t}static addBuilders(t){r.builders=e.merge(r.builders,t)}static getBuilder(e){return r.builders[e]}static getBuilders(){return r.builders}}return r.builders={pdf:t,webform:n,wizard:i},r}),e("skylark-formio/formio.form",["./components/index","./builders/Builders","./components/Components","./displays/Displays","./templates/Templates","./providers/index","./validator/Rules","./Formio","./Form","./utils/index"],function(e,t,n,i,r,s,o,a,l,u){"use strict";n.setComponents(e);const c=e=>{if("object"==typeof e)for(const l of Object.keys(e)){const u=e.framework||r.framework||"bootstrap";switch(l){case"options":a.options=e.options;break;case"templates":for(const t of Object.keys(e.templates))r.extendTemplate(t,e.templates[t]);e.templates[u]&&(r.current=e.templates[u]);break;case"components":n.setComponents(e.components);break;case"framework":r.framework=e.framework;break;case"fetch":for(const t of Object.keys(e.fetch))a.registerPlugin(e.fetch[t],t);break;case"providers":for(const t of Object.keys(e.providers))s.addProviders(t,e.providers[t]);break;case"displays":i.addDisplays(e.displays);break;case"builders":t.addBuilders(e.builders);break;case"rules":o.addRules(e.rules);break;default:console.log("Unknown plugin option",l)}}};return a.use=((...e)=>{e.forEach(e=>{Array.isArray(e)?e.forEach(e=>c(e)):c(e)})}),a.loadModules=((e=`${a.getApiUrl()}/externalModules.js`,t="externalModules")=>{a.requireLibrary(t,t,e,!0).then(e=>{a.use(e)})}),a.Components=n,a.Templates=r,a.Builders=t,a.Utils=u,a.Form=l,a.Displays=i,a.Providers=s,a.Formio=a,{Builders:t,Components:n,Displays:i,Providers:s,Templates:r,Utils:u,Form:l,Formio:a}}),e("skylark-formio/builders/index",["./Builders"],function(e){"use strict";return e}),e("skylark-formio/FormBuilder",["./Formio","./builders/index","./Form"],function(e,t,n){"use strict";class i extends n{constructor(t,n,r){n=n||{},r=r||{},super(t,n,Object.assign(r,i.options,e.options&&e.options.builder?e.options.builder:{}))}create(e){return t.builders[e]?new t.builders[e](this.element,this.options):new t.builders.webform(this.element,this.options)}}return i.options={},e.builder=((...e)=>new i(...e).ready),e.FormBuilder=i}),e("skylark-formio/main",["./formio.form","./FormBuilder"],function(e){return e}),e("skylark-formio",["skylark-formio/main"],function(e){return e})}(n,require),!r){var a=require("skylark-langx-ns");s?module.exports=a:t.skylarkjs=a}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-formio-all.js.map
