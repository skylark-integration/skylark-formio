/**
 * skylark-formio - A version of formio.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-formio/
 * @license MIT
 */
define(["../_classes/input/Input"],function(e,t){"use strict";return class s extends e{static schema(...t){return e.schema({type:"tags",label:"Tags",key:"tags",delimeter:",",storeas:"string",maxTags:0},...t)}static get builderInfo(){return{title:"Tags",icon:"tags",group:"advanced",documentation:"http://help.form.io/userguide/#tags",weight:30,schema:s.schema()}}init(){super.init()}get emptyValue(){return"string"===this.component.storeas?"":[]}get defaultSchema(){return s.schema()}get inputInfo(){const e=super.inputInfo;return e.type="input",e.attr.type="text",e.changeEvent="change",e}get delimiter(){return this.component.delimeter||","}attachElement(e,s){super.attachElement(e,s),e&&(e.setAttribute("dir",this.i18next.dir()),this.choices&&this.choices.destroy(),this.choices=new t(e,{delimiter:this.delimiter,editItems:!0,maxItemCount:this.component.maxTags,removeItemButton:!0,duplicateItemsAllowed:!1}),this.choices.itemList.element.tabIndex=e.tabIndex,this.addEventListener(this.choices.input.element,"blur",()=>{const e=this.choices.input.value;e&&(this.choices.setValue([e]),this.choices.clearInput(),this.choices.hideDropdown(!0),this.updateValue(null,{modified:!0}))}))}detach(){super.detach(),this.choices&&(this.choices.destroy(),this.choices=null)}normalizeValue(e){return"string"===this.component.storeas&&Array.isArray(e)?e.join(this.delimiter):"array"===this.component.storeas&&"string"==typeof e?e.split(this.delimiter).filter(e=>e):e}setValue(e,t={}){const s=super.setValue(e,t);if(this.choices){let e=this.dataValue;this.choices.removeActiveItems(),e&&("string"==typeof e&&(e=e.split(this.delimiter).filter(e=>e)),this.choices.setValue(Array.isArray(e)?e:[e]))}return s}set disabled(e){super.disabled=e,this.choices&&(e?this.choices.disable():this.choices.enable())}get disabled(){return super.disabled}focus(){this.refs.input&&this.refs.input.length&&this.refs.input[0].parentNode.lastChild.focus()}}});
//# sourceMappingURL=../../sourcemaps/components/tags/Tags.js.map
