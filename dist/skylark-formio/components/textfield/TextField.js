/**
 * skylark-formio - A version of formio.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-formio/
 * @license MIT
 */
define(["../_classes/input/Input","../../vendors/vanilla-text-mask/conformToMask","../../utils/utils"],function(e,t,s){"use strict";return class a extends e{static schema(...t){return e.schema({label:"Text Field",key:"textField",type:"textfield",mask:!1,inputType:"text",inputFormat:"plain",inputMask:"",tableView:!0,validate:{minLength:"",maxLength:"",pattern:""}},...t)}static get builderInfo(){return{title:"Text Field",icon:"terminal",group:"basic",documentation:"http://help.form.io/userguide/#textfield",weight:0,schema:a.schema()}}get defaultSchema(){return a.schema()}get inputInfo(){const e=super.inputInfo;return e.type="input",this.component.hasOwnProperty("spellcheck")&&(e.attr.spellcheck=this.component.spellcheck),this.component.mask?e.attr.type="password":e.attr.type="password"===this.component.inputType?"password":"text",e.changeEvent="input",e}get emptyValue(){return""}maskValue(e,t={}){if(e&&"object"==typeof e||(e={value:e,maskName:this.component.inputMasks[0].label}),!e.value){const s=t.noDefault?this.emptyValue:this.defaultValue;e.value=Array.isArray(s)?s[0]:s}return e}normalizeValue(e,t={}){return this.isMultipleMasksField?Array.isArray(e)?super.normalizeValue(e.map(e=>this.maskValue(e,t))):super.normalizeValue(this.maskValue(e,t)):super.normalizeValue(e)}setValueAt(e,a,i={}){if(!this.isMultipleMasksField)return super.setValueAt(e,a,i);const l=(a=this.maskValue(a,i)).value||"",u=this.refs.mask?this.refs.mask[e]:null,r=this.refs.select?this.refs.select[e]:null,n=this.getMaskPattern(a.maskName);if(!(u&&r&&n))return super.setValueAt(e,l,i);u.value=t(l,s.getInputMask(n)).conformedValue,r.value=a.maskName}getValueAt(e){if(!this.isMultipleMasksField)return super.getValueAt(e);const t=this.refs.mask?this.refs.mask[e]:null,s=this.refs.select?this.refs.select[e]:null;return{value:t?t.value:void 0,maskName:s?s.value:void 0}}isEmpty(e=this.dataValue){return this.isMultipleMasksField?super.isEmpty(e)||(this.component.multiple?0===e.length:!e.maskName||!e.value):super.isEmpty((e||"").toString().trim())}}});
//# sourceMappingURL=../../sourcemaps/components/textfield/TextField.js.map
