/**
 * skylark-formio - A version of formio.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-formio/
 * @license MIT
 */
define(["skylark-lodash","../_classes/nested/NestedComponent"],function(t,e){"use strict";return class s extends e{static schema(...t){return e.schema({label:"Tabs",type:"tabs",input:!1,key:"tabs",persistent:!1,tableView:!1,components:[{label:"Tab 1",key:"tab1",components:[]}]},...t)}static get builderInfo(){return{title:"Tabs",group:"layout",icon:"folder-o",weight:50,documentation:"http://help.form.io/userguide/#tabs",schema:s.schema()}}get defaultSchema(){return s.schema()}get schema(){const e=super.schema,s=t.cloneDeep(this.component.components);return e.components=s.map((t,e)=>(t.components=this.tabs[e].map(t=>t.schema),t)),e}get tabKey(){return`tab-${this.key}`}get tabLikey(){return`tabLi-${this.key}`}get tabLinkKey(){return`tabLink-${this.key}`}constructor(...t){super(...t),this.currentTab=0,this.noField=!0}init(){this.components=[],this.tabs=[],t.each(this.component.components,(e,s)=>{this.tabs[s]=[],e.components=e.components||[],t.each(e.components,t=>{const e=this.createComponent(t);e.tab=s,this.tabs[s].push(e)})})}render(){return super.render(this.renderTemplate("tab",{tabKey:this.tabKey,tabLikey:this.tabLikey,tabLinkKey:this.tabLinkKey,currentTab:this.currentTab,tabComponents:this.tabs.map(t=>this.renderComponents(t))},this.options.flatten||this.options.pdf?"flat":null))}attach(t){this.loadRefs(t,{[this.tabLinkKey]:"multiple",[this.tabKey]:"multiple",[this.tabLikey]:"multiple"});const e=super.attach(t);return this.refs[this.tabLinkKey].forEach((t,e)=>{this.addEventListener(t,"click",t=>{t.preventDefault(),this.setTab(e)})}),this.refs[this.tabKey].forEach((t,e)=>{this.attachComponents(t,this.tabs[e],this.component.components[e].components)}),e}detach(t){super.detach(t)}setTab(e){this.tabs&&this.tabs[e]&&this.refs[this.tabKey]&&this.refs[this.tabKey][e]&&(this.currentTab=e,t.each(this.refs[this.tabKey],t=>{this.removeClass(t,"formio-tab-panel-active"),t.style.display="none"}),this.addClass(this.refs[this.tabKey][e],"formio-tab-panel-active"),this.refs[this.tabKey][e].style.display="block",t.each(this.refs[this.tabLinkKey],(t,e)=>{this.refs[this.tabLinkKey][e]&&this.removeClass(t,"formio-tab-link-active"),this.refs[this.tabLikey][e]&&this.removeClass(this.refs[this.tabLikey][e],"formio-tab-link-container-active")}),this.refs[this.tabLikey][e]&&this.addClass(this.refs[this.tabLikey][e],"formio-tab-link-container-active"),this.refs[this.tabLinkKey][e]&&this.addClass(this.refs[this.tabLinkKey][e],"formio-tab-link-active"),this.triggerChange())}}});
//# sourceMappingURL=../../sourcemaps/components/tabs/Tabs.js.map
