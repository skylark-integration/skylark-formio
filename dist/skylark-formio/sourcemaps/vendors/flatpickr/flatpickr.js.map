{"version":3,"sources":["vendors/flatpickr/flatpickr.js"],"names":["define","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","HOOKS","defaults","_disable","_enable","allowInput","altFormat","altInput","altInputClass","animate","window","navigator","userAgent","indexOf","ariaDateFormat","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enable","enableSeconds","enableTime","errorHandler","err","console","warn","getWeek","givenDate","date","Date","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","Math","round","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","undefined","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","pad","number","slice","int","bool","debounce","func","wait","immediate","timeout","context","args","clearTimeout","setTimeout","arrayify","obj","Array","toggleClass","elem","className","classList","add","remove","createElement","tag","content","e","document","textContent","clearNode","node","firstChild","removeChild","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","type","pattern","key","setAttribute","appendChild","do_nothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","parseFloat","H","J","day","K","getHours","RegExp","test","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","d","h","minutes","setMinutes","j","l","m","month","u","unixMillSeconds","w","y","tokenRegex","formats","toISOString","options","getMonth","getSeconds","getMinutes","String","substring","createDateFormatter","_a","_b","config","_c","l10n","frmt","overrideLocale","formatDate","split","map","c","arr","join","createDateParser","givenFormat","timeless","customLocale","parsedDate","date_orig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token_1","isBackSlash","escaped","match","exec","fn","val","forEach","isNaN","Error","compareDates","date1","date2","isBetween","ts","ts1","ts2","min","max","duration","DAY","target","_i","TypeError","_loop_1","source","keys","args_1","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","self","flatpickr","defaultConfig","bindToInstance","bind","setCalendarWidth","requestAnimationFrame","calendarContainer","style","visibility","display","daysContainer","daysWidth","days","offsetWidth","width","weekWrapper","removeProperty","updateTime","selectedDates","setDefaultTime","preventDefault","isKeyDown","input","getAttribute","step","curValue","value","delta","which","newValue","isHourElem","hourElement","isMinuteElem","minuteElement","incrementNumInput","abs","timeWrapper","prevValue","_input","setHoursFromInputs","updateValue","_debouncedChange","hours","secondElement","limitMinHours","minTime","minDate","minDateHasTime","latestSelectedDateObj","maxTime","maxDate","maxDateHasTime","setHoursFromDate","setDefaultHours","min_hr","min_minutes","max_hr","max_minutes","isMobile","onYearInput","event","toString","changeYear","handler","ev","el","addEventListener","_handlers","push","onClick","evt","triggerChange","triggerEvent","jumpToDate","jumpDate","jumpTo","currentYear","currentMonth","message","redraw","timeIncrement","contains","inputElem","parentNode","createEvent","dispatchEvent","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","tabIndex","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","onMouseOver","getFirstAvailableDay","startMonth","endMonth","children","startIndex","endIndex","focusOnDay","current","offset","dayFocused","isInView","activeElement","body","startElem","givenMonth","loopDelta","numMonthDays","changeMonth","getNextAvailableDay","buildMonthDays","firstOfMonth","prevMonthDays","utils","getDaysInMonth","createDocumentFragment","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","buildDays","frag","buildMonth","container","monthNavFragment","monthElement","yearInput","tabindex","yearElement","getElementsByTagName","disabled","buildMonths","monthNav","prevMonthNav","yearElements","monthElements","nextMonthNav","buildWeekdays","weekdayContainer","updateWeekdays","splice","concat","innerHTML","is_offset","_hidePrevMonthArrow","_hideNextMonthArrow","updateNavigationCurrentMonth","isCalendarElem","appendTo","documentClick","isOpen","eventTarget_1","composedPath","isCalendarElement","isInput","path","lostFocus","relatedTarget","isIgnored","some","close","clear","newYear","newYearNum","isNewYear","dateToCheck","array","parsed","from","to","allowKeydown","allowInlineKeydown","keyCode","blur","open","isTimeObj","timeContainer","focusAndClose","selectDate","delta_1","ctrlKey","stopPropagation","elems","filter","x","shiftKey","charAt","toLowerCase","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","lastDate","lastChild","containsDisabled","minRange","maxRange","prevMonth","dayElem","timestamp","outOfRange","onResize","positionCalendar","minMaxDateSetter","inverseDateObj","currentYearElement","removeAttribute","setupLocale","l10ns","customPositionElement","_positionElement","calendarHeight","reduce","acc","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","right","rightMost","centerMost","doc","styleSheets","bodyWidth","centerLeft","centerIndex","cssRules","centerStyle","insertRule","centerBefore","msMaxTouchPoints","findParent","condition","selectedDate","shouldChangeMonth","selectedIndex","sort","a","b","showTimeInput","single","range","_bind","_setHoursFromDate","_positionCalendar","triggerChangeEvent","toInitial","mobileInput","_initialDate","_createElement","destroy","removeEventListener","insertBefore","_type","k","click","wasOpen","select","set","option","CALLBACKS","setSelectedDate","toggle","inputDate","dates","JSON","stringify","parseDateRules","rule","data","hooks","name","initEvent","getDateStr","dObj","mobileFormatStr","onMonthNavClick","isPrevMonth","isNextMonth","boolOpts","userConfig","parse","dataset","defineProperty","get","timeMode","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","parseConfig","querySelector","nodeName","placeholder","required","nextSibling","preloadedDate","defaultDate","_showTimeInput","setupDates","yr","fragment","__hidePrevMonthArrow","__hideNextMonthArrow","innerContainer","buildWeeks","rContainer","separator","hourInput","minuteInput","military2ampm","secondInput","title","buildTime","customAppend","nodeType","build","querySelectorAll","inputType","defaultValue","setupMobile","debouncedResize","ontouchstart","capture","bindEvents","isSafari","init","_flatpickr","nodeList","nodes","HTMLElement","instances","error","HTMLCollection","NodeList","selector","Node","en","default","localize","setDefaults","jQuery","fp_incr"],"mappings":"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","file":"../../../vendors/flatpickr/flatpickr.js","sourcesContent":["/* flatpickr v4.5.7, @license MIT */\r\ndefine([], function () { \r\n    'use strict';\r\n\r\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    var HOOKS = [\r\n        \"onChange\",\r\n        \"onClose\",\r\n        \"onDayCreate\",\r\n        \"onDestroy\",\r\n        \"onKeyDown\",\r\n        \"onMonthChange\",\r\n        \"onOpen\",\r\n        \"onParseConfig\",\r\n        \"onReady\",\r\n        \"onValueUpdate\",\r\n        \"onYearChange\",\r\n        \"onPreCalendarPosition\",\r\n    ];\r\n    var defaults = {\r\n        _disable: [],\r\n        _enable: [],\r\n        allowInput: false,\r\n        altFormat: \"F j, Y\",\r\n        altInput: false,\r\n        altInputClass: \"form-control input\",\r\n        animate: typeof window === \"object\" &&\r\n            window.navigator.userAgent.indexOf(\"MSIE\") === -1,\r\n        ariaDateFormat: \"F j, Y\",\r\n        clickOpens: true,\r\n        closeOnSelect: true,\r\n        conjunction: \", \",\r\n        dateFormat: \"Y-m-d\",\r\n        defaultHour: 12,\r\n        defaultMinute: 0,\r\n        defaultSeconds: 0,\r\n        disable: [],\r\n        disableMobile: false,\r\n        enable: [],\r\n        enableSeconds: false,\r\n        enableTime: false,\r\n        errorHandler: function (err) {\r\n            return typeof console !== \"undefined\" && console.warn(err);\r\n        },\r\n        getWeek: function (givenDate) {\r\n            var date = new Date(givenDate.getTime());\r\n            date.setHours(0, 0, 0, 0);\r\n            // Thursday in current week decides the year.\r\n            date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\r\n            // January 4 is always in week 1.\r\n            var week1 = new Date(date.getFullYear(), 0, 4);\r\n            // Adjust to Thursday in week 1 and count number of weeks from date to week1.\r\n            return (1 +\r\n                Math.round(((date.getTime() - week1.getTime()) / 86400000 -\r\n                    3 +\r\n                    ((week1.getDay() + 6) % 7)) /\r\n                    7));\r\n        },\r\n        hourIncrement: 1,\r\n        ignoredFocusElements: [],\r\n        inline: false,\r\n        locale: \"default\",\r\n        minuteIncrement: 5,\r\n        mode: \"single\",\r\n        nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\r\n        noCalendar: false,\r\n        now: new Date(),\r\n        onChange: [],\r\n        onClose: [],\r\n        onDayCreate: [],\r\n        onDestroy: [],\r\n        onKeyDown: [],\r\n        onMonthChange: [],\r\n        onOpen: [],\r\n        onParseConfig: [],\r\n        onReady: [],\r\n        onValueUpdate: [],\r\n        onYearChange: [],\r\n        onPreCalendarPosition: [],\r\n        plugins: [],\r\n        position: \"auto\",\r\n        positionElement: undefined,\r\n        prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\r\n        shorthandCurrentMonth: false,\r\n        showMonths: 1,\r\n        static: false,\r\n        time_24hr: false,\r\n        weekNumbers: false,\r\n        wrap: false\r\n    };\r\n\r\n    var english = {\r\n        weekdays: {\r\n            shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n            longhand: [\r\n                \"Sunday\",\r\n                \"Monday\",\r\n                \"Tuesday\",\r\n                \"Wednesday\",\r\n                \"Thursday\",\r\n                \"Friday\",\r\n                \"Saturday\",\r\n            ]\r\n        },\r\n        months: {\r\n            shorthand: [\r\n                \"Jan\",\r\n                \"Feb\",\r\n                \"Mar\",\r\n                \"Apr\",\r\n                \"May\",\r\n                \"Jun\",\r\n                \"Jul\",\r\n                \"Aug\",\r\n                \"Sep\",\r\n                \"Oct\",\r\n                \"Nov\",\r\n                \"Dec\",\r\n            ],\r\n            longhand: [\r\n                \"January\",\r\n                \"February\",\r\n                \"March\",\r\n                \"April\",\r\n                \"May\",\r\n                \"June\",\r\n                \"July\",\r\n                \"August\",\r\n                \"September\",\r\n                \"October\",\r\n                \"November\",\r\n                \"December\",\r\n            ]\r\n        },\r\n        daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\r\n        firstDayOfWeek: 0,\r\n        ordinal: function (nth) {\r\n            var s = nth % 100;\r\n            if (s > 3 && s < 21)\r\n                return \"th\";\r\n            switch (s % 10) {\r\n                case 1:\r\n                    return \"st\";\r\n                case 2:\r\n                    return \"nd\";\r\n                case 3:\r\n                    return \"rd\";\r\n                default:\r\n                    return \"th\";\r\n            }\r\n        },\r\n        rangeSeparator: \" to \",\r\n        weekAbbreviation: \"Wk\",\r\n        scrollTitle: \"Scroll to increment\",\r\n        toggleTitle: \"Click to toggle\",\r\n        amPM: [\"AM\", \"PM\"],\r\n        yearAriaLabel: \"Year\"\r\n    };\r\n\r\n    var pad = function (number) { return (\"0\" + number).slice(-2); };\r\n    var int = function (bool) { return (bool === true ? 1 : 0); };\r\n    /* istanbul ignore next */\r\n    function debounce(func, wait, immediate) {\r\n        if (immediate === void 0) { immediate = false; }\r\n        var timeout;\r\n        return function () {\r\n            var context = this, args = arguments;\r\n            timeout !== null && clearTimeout(timeout);\r\n            timeout = window.setTimeout(function () {\r\n                timeout = null;\r\n                if (!immediate)\r\n                    func.apply(context, args);\r\n            }, wait);\r\n            if (immediate && !timeout)\r\n                func.apply(context, args);\r\n        };\r\n    }\r\n    var arrayify = function (obj) {\r\n        return obj instanceof Array ? obj : [obj];\r\n    };\r\n\r\n    function toggleClass(elem, className, bool) {\r\n        if (bool === true)\r\n            return elem.classList.add(className);\r\n        elem.classList.remove(className);\r\n    }\r\n    function createElement(tag, className, content) {\r\n        var e = window.document.createElement(tag);\r\n        className = className || \"\";\r\n        content = content || \"\";\r\n        e.className = className;\r\n        if (content !== undefined)\r\n            e.textContent = content;\r\n        return e;\r\n    }\r\n    function clearNode(node) {\r\n        while (node.firstChild)\r\n            node.removeChild(node.firstChild);\r\n    }\r\n    function findParent(node, condition) {\r\n        if (condition(node))\r\n            return node;\r\n        else if (node.parentNode)\r\n            return findParent(node.parentNode, condition);\r\n        return undefined; // nothing found\r\n    }\r\n    function createNumberInput(inputClassName, opts) {\r\n        var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\r\n        if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\r\n            numInput.type = \"number\";\r\n        }\r\n        else {\r\n            numInput.type = \"text\";\r\n            numInput.pattern = \"\\\\d*\";\r\n        }\r\n        if (opts !== undefined)\r\n            for (var key in opts)\r\n                numInput.setAttribute(key, opts[key]);\r\n        wrapper.appendChild(numInput);\r\n        wrapper.appendChild(arrowUp);\r\n        wrapper.appendChild(arrowDown);\r\n        return wrapper;\r\n    }\r\n    function getEventTarget(event) {\r\n        if (typeof event.composedPath === \"function\") {\r\n            var path = event.composedPath();\r\n            return path[0];\r\n        }\r\n        return event.target;\r\n    }\r\n\r\n    var do_nothing = function () { return undefined; };\r\n    var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\r\n    var revFormat = {\r\n        D: do_nothing,\r\n        F: function (dateObj, monthName, locale) {\r\n            dateObj.setMonth(locale.months.longhand.indexOf(monthName));\r\n        },\r\n        G: function (dateObj, hour) {\r\n            dateObj.setHours(parseFloat(hour));\r\n        },\r\n        H: function (dateObj, hour) {\r\n            dateObj.setHours(parseFloat(hour));\r\n        },\r\n        J: function (dateObj, day) {\r\n            dateObj.setDate(parseFloat(day));\r\n        },\r\n        K: function (dateObj, amPM, locale) {\r\n            dateObj.setHours((dateObj.getHours() % 12) +\r\n                12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\r\n        },\r\n        M: function (dateObj, shortMonth, locale) {\r\n            dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\r\n        },\r\n        S: function (dateObj, seconds) {\r\n            dateObj.setSeconds(parseFloat(seconds));\r\n        },\r\n        U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\r\n        W: function (dateObj, weekNum) {\r\n            var weekNumber = parseInt(weekNum);\r\n            return new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\r\n        },\r\n        Y: function (dateObj, year) {\r\n            dateObj.setFullYear(parseFloat(year));\r\n        },\r\n        Z: function (_, ISODate) { return new Date(ISODate); },\r\n        d: function (dateObj, day) {\r\n            dateObj.setDate(parseFloat(day));\r\n        },\r\n        h: function (dateObj, hour) {\r\n            dateObj.setHours(parseFloat(hour));\r\n        },\r\n        i: function (dateObj, minutes) {\r\n            dateObj.setMinutes(parseFloat(minutes));\r\n        },\r\n        j: function (dateObj, day) {\r\n            dateObj.setDate(parseFloat(day));\r\n        },\r\n        l: do_nothing,\r\n        m: function (dateObj, month) {\r\n            dateObj.setMonth(parseFloat(month) - 1);\r\n        },\r\n        n: function (dateObj, month) {\r\n            dateObj.setMonth(parseFloat(month) - 1);\r\n        },\r\n        s: function (dateObj, seconds) {\r\n            dateObj.setSeconds(parseFloat(seconds));\r\n        },\r\n        u: function (_, unixMillSeconds) {\r\n            return new Date(parseFloat(unixMillSeconds));\r\n        },\r\n        w: do_nothing,\r\n        y: function (dateObj, year) {\r\n            dateObj.setFullYear(2000 + parseFloat(year));\r\n        }\r\n    };\r\n    var tokenRegex = {\r\n        D: \"(\\\\w+)\",\r\n        F: \"(\\\\w+)\",\r\n        G: \"(\\\\d\\\\d|\\\\d)\",\r\n        H: \"(\\\\d\\\\d|\\\\d)\",\r\n        J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\r\n        K: \"\",\r\n        M: \"(\\\\w+)\",\r\n        S: \"(\\\\d\\\\d|\\\\d)\",\r\n        U: \"(.+)\",\r\n        W: \"(\\\\d\\\\d|\\\\d)\",\r\n        Y: \"(\\\\d{4})\",\r\n        Z: \"(.+)\",\r\n        d: \"(\\\\d\\\\d|\\\\d)\",\r\n        h: \"(\\\\d\\\\d|\\\\d)\",\r\n        i: \"(\\\\d\\\\d|\\\\d)\",\r\n        j: \"(\\\\d\\\\d|\\\\d)\",\r\n        l: \"(\\\\w+)\",\r\n        m: \"(\\\\d\\\\d|\\\\d)\",\r\n        n: \"(\\\\d\\\\d|\\\\d)\",\r\n        s: \"(\\\\d\\\\d|\\\\d)\",\r\n        u: \"(.+)\",\r\n        w: \"(\\\\d\\\\d|\\\\d)\",\r\n        y: \"(\\\\d{2})\"\r\n    };\r\n    var formats = {\r\n        // get the date in UTC\r\n        Z: function (date) { return date.toISOString(); },\r\n        // weekday name, short, e.g. Thu\r\n        D: function (date, locale, options) {\r\n            return locale.weekdays.shorthand[formats.w(date, locale, options)];\r\n        },\r\n        // full month name e.g. January\r\n        F: function (date, locale, options) {\r\n            return monthToStr(formats.n(date, locale, options) - 1, false, locale);\r\n        },\r\n        // padded hour 1-12\r\n        G: function (date, locale, options) {\r\n            return pad(formats.h(date, locale, options));\r\n        },\r\n        // hours with leading zero e.g. 03\r\n        H: function (date) { return pad(date.getHours()); },\r\n        // day (1-30) with ordinal suffix e.g. 1st, 2nd\r\n        J: function (date, locale) {\r\n            return locale.ordinal !== undefined\r\n                ? date.getDate() + locale.ordinal(date.getDate())\r\n                : date.getDate();\r\n        },\r\n        // AM/PM\r\n        K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\r\n        // shorthand month e.g. Jan, Sep, Oct, etc\r\n        M: function (date, locale) {\r\n            return monthToStr(date.getMonth(), true, locale);\r\n        },\r\n        // seconds 00-59\r\n        S: function (date) { return pad(date.getSeconds()); },\r\n        // unix timestamp\r\n        U: function (date) { return date.getTime() / 1000; },\r\n        W: function (date, _, options) {\r\n            return options.getWeek(date);\r\n        },\r\n        // full year e.g. 2016\r\n        Y: function (date) { return date.getFullYear(); },\r\n        // day in month, padded (01-30)\r\n        d: function (date) { return pad(date.getDate()); },\r\n        // hour from 1-12 (am/pm)\r\n        h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\r\n        // minutes, padded with leading zero e.g. 09\r\n        i: function (date) { return pad(date.getMinutes()); },\r\n        // day in month (1-30)\r\n        j: function (date) { return date.getDate(); },\r\n        // weekday name, full, e.g. Thursday\r\n        l: function (date, locale) {\r\n            return locale.weekdays.longhand[date.getDay()];\r\n        },\r\n        // padded month number (01-12)\r\n        m: function (date) { return pad(date.getMonth() + 1); },\r\n        // the month number (1-12)\r\n        n: function (date) { return date.getMonth() + 1; },\r\n        // seconds 0-59\r\n        s: function (date) { return date.getSeconds(); },\r\n        // Unix Milliseconds\r\n        u: function (date) { return date.getTime(); },\r\n        // number of the day of the week\r\n        w: function (date) { return date.getDay(); },\r\n        // last two digits of year e.g. 16 for 2016\r\n        y: function (date) { return String(date.getFullYear()).substring(2); }\r\n    };\r\n\r\n    var createDateFormatter = function (_a) {\r\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\r\n        return function (dateObj, frmt, overrideLocale) {\r\n            var locale = overrideLocale || l10n;\r\n            if (config.formatDate !== undefined) {\r\n                return config.formatDate(dateObj, frmt, locale);\r\n            }\r\n            return frmt\r\n                .split(\"\")\r\n                .map(function (c, i, arr) {\r\n                return formats[c] && arr[i - 1] !== \"\\\\\"\r\n                    ? formats[c](dateObj, locale, config)\r\n                    : c !== \"\\\\\"\r\n                        ? c\r\n                        : \"\";\r\n            })\r\n                .join(\"\");\r\n        };\r\n    };\r\n    var createDateParser = function (_a) {\r\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\r\n        return function (date, givenFormat, timeless, customLocale) {\r\n            if (date !== 0 && !date)\r\n                return undefined;\r\n            var locale = customLocale || l10n;\r\n            var parsedDate;\r\n            var date_orig = date;\r\n            if (date instanceof Date)\r\n                parsedDate = new Date(date.getTime());\r\n            else if (typeof date !== \"string\" &&\r\n                date.toFixed !== undefined // timestamp\r\n            )\r\n                // create a copy\r\n                parsedDate = new Date(date);\r\n            else if (typeof date === \"string\") {\r\n                // date string\r\n                var format = givenFormat || (config || defaults).dateFormat;\r\n                var datestr = String(date).trim();\r\n                if (datestr === \"today\") {\r\n                    parsedDate = new Date();\r\n                    timeless = true;\r\n                }\r\n                else if (/Z$/.test(datestr) ||\r\n                    /GMT$/.test(datestr) // datestrings w/ timezone\r\n                )\r\n                    parsedDate = new Date(date);\r\n                else if (config && config.parseDate)\r\n                    parsedDate = config.parseDate(date, format);\r\n                else {\r\n                    parsedDate =\r\n                        !config || !config.noCalendar\r\n                            ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\r\n                            : new Date(new Date().setHours(0, 0, 0, 0));\r\n                    var matched = void 0, ops = [];\r\n                    for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\r\n                        var token_1 = format[i];\r\n                        var isBackSlash = token_1 === \"\\\\\";\r\n                        var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\r\n                        if (tokenRegex[token_1] && !escaped) {\r\n                            regexStr += tokenRegex[token_1];\r\n                            var match = new RegExp(regexStr).exec(date);\r\n                            if (match && (matched = true)) {\r\n                                ops[token_1 !== \"Y\" ? \"push\" : \"unshift\"]({\r\n                                    fn: revFormat[token_1],\r\n                                    val: match[++matchIndex]\r\n                                });\r\n                            }\r\n                        }\r\n                        else if (!isBackSlash)\r\n                            regexStr += \".\"; // don't really care\r\n                        ops.forEach(function (_a) {\r\n                            var fn = _a.fn, val = _a.val;\r\n                            return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\r\n                        });\r\n                    }\r\n                    parsedDate = matched ? parsedDate : undefined;\r\n                }\r\n            }\r\n            /* istanbul ignore next */\r\n            if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\r\n                config.errorHandler(new Error(\"Invalid date provided: \" + date_orig));\r\n                return undefined;\r\n            }\r\n            if (timeless === true)\r\n                parsedDate.setHours(0, 0, 0, 0);\r\n            return parsedDate;\r\n        };\r\n    };\r\n    /**\r\n     * Compute the difference in dates, measured in ms\r\n     */\r\n    function compareDates(date1, date2, timeless) {\r\n        if (timeless === void 0) { timeless = true; }\r\n        if (timeless !== false) {\r\n            return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\r\n                new Date(date2.getTime()).setHours(0, 0, 0, 0));\r\n        }\r\n        return date1.getTime() - date2.getTime();\r\n    }\r\n    var isBetween = function (ts, ts1, ts2) {\r\n        return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\r\n    };\r\n    var duration = {\r\n        DAY: 86400000\r\n    };\r\n\r\n    if (typeof Object.assign !== \"function\") {\r\n        Object.assign = function (target) {\r\n            var args = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                args[_i - 1] = arguments[_i];\r\n            }\r\n            if (!target) {\r\n                throw TypeError(\"Cannot convert undefined or null to object\");\r\n            }\r\n            var _loop_1 = function (source) {\r\n                if (source) {\r\n                    Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\r\n                }\r\n            };\r\n            for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\r\n                var source = args_1[_a];\r\n                _loop_1(source);\r\n            }\r\n            return target;\r\n        };\r\n    }\r\n\r\n    var DEBOUNCED_CHANGE_MS = 300;\r\n    function FlatpickrInstance(element, instanceConfig) {\r\n        var self = {\r\n            config: __assign({}, flatpickr.defaultConfig),\r\n            l10n: english\r\n        };\r\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\r\n        self._handlers = [];\r\n        self._bind = bind;\r\n        self._setHoursFromDate = setHoursFromDate;\r\n        self._positionCalendar = positionCalendar;\r\n        self.changeMonth = changeMonth;\r\n        self.changeYear = changeYear;\r\n        self.clear = clear;\r\n        self.close = close;\r\n        self._createElement = createElement;\r\n        self.destroy = destroy;\r\n        self.isEnabled = isEnabled;\r\n        self.jumpToDate = jumpToDate;\r\n        self.open = open;\r\n        self.redraw = redraw;\r\n        self.set = set;\r\n        self.setDate = setDate;\r\n        self.toggle = toggle;\r\n        function setupHelperFunctions() {\r\n            self.utils = {\r\n                getDaysInMonth: function (month, yr) {\r\n                    if (month === void 0) { month = self.currentMonth; }\r\n                    if (yr === void 0) { yr = self.currentYear; }\r\n                    if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\r\n                        return 29;\r\n                    return self.l10n.daysInMonth[month];\r\n                }\r\n            };\r\n        }\r\n        function init() {\r\n            self.element = self.input = element;\r\n            self.isOpen = false;\r\n            parseConfig();\r\n            setupLocale();\r\n            setupInputs();\r\n            setupDates();\r\n            setupHelperFunctions();\r\n            if (!self.isMobile)\r\n                build();\r\n            bindEvents();\r\n            if (self.selectedDates.length || self.config.noCalendar) {\r\n                if (self.config.enableTime) {\r\n                    setHoursFromDate(self.config.noCalendar\r\n                        ? self.latestSelectedDateObj || self.config.minDate\r\n                        : undefined);\r\n                }\r\n                updateValue(false);\r\n            }\r\n            setCalendarWidth();\r\n            self.showTimeInput =\r\n                self.selectedDates.length > 0 || self.config.noCalendar;\r\n            var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n            /* TODO: investigate this further\r\n        \r\n              Currently, there is weird positioning behavior in safari causing pages\r\n              to scroll up. https://github.com/chmln/flatpickr/issues/563\r\n        \r\n              However, most browsers are not Safari and positioning is expensive when used\r\n              in scale. https://github.com/chmln/flatpickr/issues/1096\r\n            */\r\n            if (!self.isMobile && isSafari) {\r\n                positionCalendar();\r\n            }\r\n            triggerEvent(\"onReady\");\r\n        }\r\n        function bindToInstance(fn) {\r\n            return fn.bind(self);\r\n        }\r\n        function setCalendarWidth() {\r\n            var config = self.config;\r\n            if (config.weekNumbers === false && config.showMonths === 1)\r\n                return;\r\n            else if (config.noCalendar !== true) {\r\n                window.requestAnimationFrame(function () {\r\n                    if (self.calendarContainer !== undefined) {\r\n                        self.calendarContainer.style.visibility = \"hidden\";\r\n                        self.calendarContainer.style.display = \"block\";\r\n                    }\r\n                    if (self.daysContainer !== undefined) {\r\n                        var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\r\n                        self.daysContainer.style.width = daysWidth + \"px\";\r\n                        self.calendarContainer.style.width =\r\n                            daysWidth +\r\n                                (self.weekWrapper !== undefined\r\n                                    ? self.weekWrapper.offsetWidth\r\n                                    : 0) +\r\n                                \"px\";\r\n                        self.calendarContainer.style.removeProperty(\"visibility\");\r\n                        self.calendarContainer.style.removeProperty(\"display\");\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        /**\r\n         * The handler for all events targeting the time inputs\r\n         */\r\n        function updateTime(e) {\r\n            if (self.selectedDates.length === 0) {\r\n                setDefaultTime();\r\n            }\r\n            if (e !== undefined && e.type !== \"blur\") {\r\n                timeWrapper(e);\r\n            }\r\n            var prevValue = self._input.value;\r\n            setHoursFromInputs();\r\n            updateValue();\r\n            if (self._input.value !== prevValue) {\r\n                self._debouncedChange();\r\n            }\r\n        }\r\n        function ampm2military(hour, amPM) {\r\n            return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\r\n        }\r\n        function military2ampm(hour) {\r\n            switch (hour % 24) {\r\n                case 0:\r\n                case 12:\r\n                    return 12;\r\n                default:\r\n                    return hour % 12;\r\n            }\r\n        }\r\n        /**\r\n         * Syncs the selected date object time with user's time input\r\n         */\r\n        function setHoursFromInputs() {\r\n            if (self.hourElement === undefined || self.minuteElement === undefined)\r\n                return;\r\n            var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\r\n                ? (parseInt(self.secondElement.value, 10) || 0) % 60\r\n                : 0;\r\n            if (self.amPM !== undefined) {\r\n                hours = ampm2military(hours, self.amPM.textContent);\r\n            }\r\n            var limitMinHours = self.config.minTime !== undefined ||\r\n                (self.config.minDate &&\r\n                    self.minDateHasTime &&\r\n                    self.latestSelectedDateObj &&\r\n                    compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\r\n                        0);\r\n            var limitMaxHours = self.config.maxTime !== undefined ||\r\n                (self.config.maxDate &&\r\n                    self.maxDateHasTime &&\r\n                    self.latestSelectedDateObj &&\r\n                    compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\r\n                        0);\r\n            if (limitMaxHours) {\r\n                var maxTime = self.config.maxTime !== undefined\r\n                    ? self.config.maxTime\r\n                    : self.config.maxDate;\r\n                hours = Math.min(hours, maxTime.getHours());\r\n                if (hours === maxTime.getHours())\r\n                    minutes = Math.min(minutes, maxTime.getMinutes());\r\n                if (minutes === maxTime.getMinutes())\r\n                    seconds = Math.min(seconds, maxTime.getSeconds());\r\n            }\r\n            if (limitMinHours) {\r\n                var minTime = self.config.minTime !== undefined\r\n                    ? self.config.minTime\r\n                    : self.config.minDate;\r\n                hours = Math.max(hours, minTime.getHours());\r\n                if (hours === minTime.getHours())\r\n                    minutes = Math.max(minutes, minTime.getMinutes());\r\n                if (minutes === minTime.getMinutes())\r\n                    seconds = Math.max(seconds, minTime.getSeconds());\r\n            }\r\n            setHours(hours, minutes, seconds);\r\n        }\r\n        /**\r\n         * Syncs time input values with a date\r\n         */\r\n        function setHoursFromDate(dateObj) {\r\n            var date = dateObj || self.latestSelectedDateObj;\r\n            if (date)\r\n                setHours(date.getHours(), date.getMinutes(), date.getSeconds());\r\n        }\r\n        function setDefaultHours() {\r\n            var hours = self.config.defaultHour;\r\n            var minutes = self.config.defaultMinute;\r\n            var seconds = self.config.defaultSeconds;\r\n            if (self.config.minDate !== undefined) {\r\n                var min_hr = self.config.minDate.getHours();\r\n                var min_minutes = self.config.minDate.getMinutes();\r\n                hours = Math.max(hours, min_hr);\r\n                if (hours === min_hr)\r\n                    minutes = Math.max(min_minutes, minutes);\r\n                if (hours === min_hr && minutes === min_minutes)\r\n                    seconds = self.config.minDate.getSeconds();\r\n            }\r\n            if (self.config.maxDate !== undefined) {\r\n                var max_hr = self.config.maxDate.getHours();\r\n                var max_minutes = self.config.maxDate.getMinutes();\r\n                hours = Math.min(hours, max_hr);\r\n                if (hours === max_hr)\r\n                    minutes = Math.min(max_minutes, minutes);\r\n                if (hours === max_hr && minutes === max_minutes)\r\n                    seconds = self.config.maxDate.getSeconds();\r\n            }\r\n            setHours(hours, minutes, seconds);\r\n        }\r\n        /**\r\n         * Sets the hours, minutes, and optionally seconds\r\n         * of the latest selected date object and the\r\n         * corresponding time inputs\r\n         * @param {Number} hours the hour. whether its military\r\n         *                 or am-pm gets inferred from config\r\n         * @param {Number} minutes the minutes\r\n         * @param {Number} seconds the seconds (optional)\r\n         */\r\n        function setHours(hours, minutes, seconds) {\r\n            if (self.latestSelectedDateObj !== undefined) {\r\n                self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\r\n            }\r\n            if (!self.hourElement || !self.minuteElement || self.isMobile)\r\n                return;\r\n            self.hourElement.value = pad(!self.config.time_24hr\r\n                ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\r\n                : hours);\r\n            self.minuteElement.value = pad(minutes);\r\n            if (self.amPM !== undefined)\r\n                self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\r\n            if (self.secondElement !== undefined)\r\n                self.secondElement.value = pad(seconds);\r\n        }\r\n        /**\r\n         * Handles the year input and incrementing events\r\n         * @param {Event} event the keyup or increment event\r\n         */\r\n        function onYearInput(event) {\r\n            var year = parseInt(event.target.value) + (event.delta || 0);\r\n            if (year / 1000 > 1 ||\r\n                (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\r\n                changeYear(year);\r\n            }\r\n        }\r\n        /**\r\n         * Essentially addEventListener + tracking\r\n         * @param {Element} element the element to addEventListener to\r\n         * @param {String} event the event name\r\n         * @param {Function} handler the event handler\r\n         */\r\n        function bind(element, event, handler, options) {\r\n            if (event instanceof Array)\r\n                return event.forEach(function (ev) { return bind(element, ev, handler, options); });\r\n            if (element instanceof Array)\r\n                return element.forEach(function (el) { return bind(el, event, handler, options); });\r\n            element.addEventListener(event, handler, options);\r\n            self._handlers.push({\r\n                element: element,\r\n                event: event,\r\n                handler: handler,\r\n                options: options\r\n            });\r\n        }\r\n        /**\r\n         * A mousedown handler which mimics click.\r\n         * Minimizes latency, since we don't need to wait for mouseup in most cases.\r\n         * Also, avoids handling right clicks.\r\n         *\r\n         * @param {Function} handler the event handler\r\n         */\r\n        function onClick(handler) {\r\n            return function (evt) {\r\n                evt.which === 1 && handler(evt);\r\n            };\r\n        }\r\n        function triggerChange() {\r\n            triggerEvent(\"onChange\");\r\n        }\r\n        /**\r\n         * Adds all the necessary event listeners\r\n         */\r\n        function bindEvents() {\r\n            if (self.config.wrap) {\r\n                [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\r\n                    Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\r\n                        return bind(el, \"click\", self[evt]);\r\n                    });\r\n                });\r\n            }\r\n            if (self.isMobile) {\r\n                setupMobile();\r\n                return;\r\n            }\r\n            var debouncedResize = debounce(onResize, 50);\r\n            self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\r\n            if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\r\n                bind(self.daysContainer, \"mouseover\", function (e) {\r\n                    if (self.config.mode === \"range\")\r\n                        onMouseOver(e.target);\r\n                });\r\n            bind(window.document.body, \"keydown\", onKeyDown);\r\n            if (!self.config.static)\r\n                bind(self._input, \"keydown\", onKeyDown);\r\n            if (!self.config.inline && !self.config.static)\r\n                bind(window, \"resize\", debouncedResize);\r\n            if (window.ontouchstart !== undefined)\r\n                bind(window.document, \"click\", documentClick);\r\n            else\r\n                bind(window.document, \"mousedown\", onClick(documentClick));\r\n            bind(window.document, \"focus\", documentClick, { capture: true });\r\n            if (self.config.clickOpens === true) {\r\n                bind(self._input, \"focus\", self.open);\r\n                bind(self._input, \"mousedown\", onClick(self.open));\r\n            }\r\n            if (self.daysContainer !== undefined) {\r\n                bind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\r\n                bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\r\n                bind(self.daysContainer, \"mousedown\", onClick(selectDate));\r\n            }\r\n            if (self.timeContainer !== undefined &&\r\n                self.minuteElement !== undefined &&\r\n                self.hourElement !== undefined) {\r\n                var selText = function (e) {\r\n                    return e.target.select();\r\n                };\r\n                bind(self.timeContainer, [\"increment\"], updateTime);\r\n                bind(self.timeContainer, \"blur\", updateTime, { capture: true });\r\n                bind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\r\n                bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\r\n                if (self.secondElement !== undefined)\r\n                    bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\r\n                if (self.amPM !== undefined) {\r\n                    bind(self.amPM, \"mousedown\", onClick(function (e) {\r\n                        updateTime(e);\r\n                        triggerChange();\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        /**\r\n         * Set the calendar view to a particular date.\r\n         * @param {Date} jumpDate the date to set the view to\r\n         */\r\n        function jumpToDate(jumpDate) {\r\n            var jumpTo = jumpDate !== undefined\r\n                ? self.parseDate(jumpDate)\r\n                : self.latestSelectedDateObj ||\r\n                    (self.config.minDate && self.config.minDate > self.now\r\n                        ? self.config.minDate\r\n                        : self.config.maxDate && self.config.maxDate < self.now\r\n                            ? self.config.maxDate\r\n                            : self.now);\r\n            try {\r\n                if (jumpTo !== undefined) {\r\n                    self.currentYear = jumpTo.getFullYear();\r\n                    self.currentMonth = jumpTo.getMonth();\r\n                }\r\n            }\r\n            catch (e) {\r\n                /* istanbul ignore next */\r\n                e.message = \"Invalid date supplied: \" + jumpTo;\r\n                self.config.errorHandler(e);\r\n            }\r\n            self.redraw();\r\n        }\r\n        /**\r\n         * The up/down arrow handler for time inputs\r\n         * @param {Event} e the click event\r\n         */\r\n        function timeIncrement(e) {\r\n            if (~e.target.className.indexOf(\"arrow\"))\r\n                incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\r\n        }\r\n        /**\r\n         * Increments/decrements the value of input associ-\r\n         * ated with the up/down arrow by dispatching an\r\n         * \"increment\" event on the input.\r\n         *\r\n         * @param {Event} e the click event\r\n         * @param {Number} delta the diff (usually 1 or -1)\r\n         * @param {Element} inputElem the input element\r\n         */\r\n        function incrementNumInput(e, delta, inputElem) {\r\n            var target = e && e.target;\r\n            var input = inputElem ||\r\n                (target && target.parentNode && target.parentNode.firstChild);\r\n            var event = createEvent(\"increment\");\r\n            event.delta = delta;\r\n            input && input.dispatchEvent(event);\r\n        }\r\n        function build() {\r\n            var fragment = window.document.createDocumentFragment();\r\n            self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\r\n            self.calendarContainer.tabIndex = -1;\r\n            if (!self.config.noCalendar) {\r\n                fragment.appendChild(buildMonthNav());\r\n                self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\r\n                if (self.config.weekNumbers) {\r\n                    var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\r\n                    self.innerContainer.appendChild(weekWrapper);\r\n                    self.weekNumbers = weekNumbers;\r\n                    self.weekWrapper = weekWrapper;\r\n                }\r\n                self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\r\n                self.rContainer.appendChild(buildWeekdays());\r\n                if (!self.daysContainer) {\r\n                    self.daysContainer = createElement(\"div\", \"flatpickr-days\");\r\n                    self.daysContainer.tabIndex = -1;\r\n                }\r\n                buildDays();\r\n                self.rContainer.appendChild(self.daysContainer);\r\n                self.innerContainer.appendChild(self.rContainer);\r\n                fragment.appendChild(self.innerContainer);\r\n            }\r\n            if (self.config.enableTime) {\r\n                fragment.appendChild(buildTime());\r\n            }\r\n            toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\r\n            toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\r\n            toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\r\n            self.calendarContainer.appendChild(fragment);\r\n            var customAppend = self.config.appendTo !== undefined &&\r\n                self.config.appendTo.nodeType !== undefined;\r\n            if (self.config.inline || self.config.static) {\r\n                self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\r\n                if (self.config.inline) {\r\n                    if (!customAppend && self.element.parentNode)\r\n                        self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\r\n                    else if (self.config.appendTo !== undefined)\r\n                        self.config.appendTo.appendChild(self.calendarContainer);\r\n                }\r\n                if (self.config.static) {\r\n                    var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\r\n                    if (self.element.parentNode)\r\n                        self.element.parentNode.insertBefore(wrapper, self.element);\r\n                    wrapper.appendChild(self.element);\r\n                    if (self.altInput)\r\n                        wrapper.appendChild(self.altInput);\r\n                    wrapper.appendChild(self.calendarContainer);\r\n                }\r\n            }\r\n            if (!self.config.static && !self.config.inline)\r\n                (self.config.appendTo !== undefined\r\n                    ? self.config.appendTo\r\n                    : window.document.body).appendChild(self.calendarContainer);\r\n        }\r\n        function createDay(className, date, dayNumber, i) {\r\n            var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\r\n            dayElement.dateObj = date;\r\n            dayElement.$i = i;\r\n            dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\r\n            if (className.indexOf(\"hidden\") === -1 &&\r\n                compareDates(date, self.now) === 0) {\r\n                self.todayDateElem = dayElement;\r\n                dayElement.classList.add(\"today\");\r\n                dayElement.setAttribute(\"aria-current\", \"date\");\r\n            }\r\n            if (dateIsEnabled) {\r\n                dayElement.tabIndex = -1;\r\n                if (isDateSelected(date)) {\r\n                    dayElement.classList.add(\"selected\");\r\n                    self.selectedDateElem = dayElement;\r\n                    if (self.config.mode === \"range\") {\r\n                        toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\r\n                            compareDates(date, self.selectedDates[0], true) === 0);\r\n                        toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\r\n                            compareDates(date, self.selectedDates[1], true) === 0);\r\n                        if (className === \"nextMonthDay\")\r\n                            dayElement.classList.add(\"inRange\");\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                dayElement.classList.add(\"disabled\");\r\n            }\r\n            if (self.config.mode === \"range\") {\r\n                if (isDateInRange(date) && !isDateSelected(date))\r\n                    dayElement.classList.add(\"inRange\");\r\n            }\r\n            if (self.weekNumbers &&\r\n                self.config.showMonths === 1 &&\r\n                className !== \"prevMonthDay\" &&\r\n                dayNumber % 7 === 1) {\r\n                self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\r\n            }\r\n            triggerEvent(\"onDayCreate\", dayElement);\r\n            return dayElement;\r\n        }\r\n        function focusOnDayElem(targetNode) {\r\n            targetNode.focus();\r\n            if (self.config.mode === \"range\")\r\n                onMouseOver(targetNode);\r\n        }\r\n        function getFirstAvailableDay(delta) {\r\n            var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\r\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\r\n            for (var m = startMonth; m != endMonth; m += delta) {\r\n                var month = self.daysContainer.children[m];\r\n                var startIndex = delta > 0 ? 0 : month.children.length - 1;\r\n                var endIndex = delta > 0 ? month.children.length : -1;\r\n                for (var i = startIndex; i != endIndex; i += delta) {\r\n                    var c = month.children[i];\r\n                    if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\r\n                        return c;\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n        function getNextAvailableDay(current, delta) {\r\n            var givenMonth = current.className.indexOf(\"Month\") === -1\r\n                ? current.dateObj.getMonth()\r\n                : self.currentMonth;\r\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\r\n            var loopDelta = delta > 0 ? 1 : -1;\r\n            for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\r\n                var month = self.daysContainer.children[m];\r\n                var startIndex = givenMonth - self.currentMonth === m\r\n                    ? current.$i + delta\r\n                    : delta < 0\r\n                        ? month.children.length - 1\r\n                        : 0;\r\n                var numMonthDays = month.children.length;\r\n                for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\r\n                    var c = month.children[i];\r\n                    if (c.className.indexOf(\"hidden\") === -1 &&\r\n                        isEnabled(c.dateObj) &&\r\n                        Math.abs(current.$i - i) >= Math.abs(delta))\r\n                        return focusOnDayElem(c);\r\n                }\r\n            }\r\n            self.changeMonth(loopDelta);\r\n            focusOnDay(getFirstAvailableDay(loopDelta), 0);\r\n            return undefined;\r\n        }\r\n        function focusOnDay(current, offset) {\r\n            var dayFocused = isInView(document.activeElement || document.body);\r\n            var startElem = current !== undefined\r\n                ? current\r\n                : dayFocused\r\n                    ? document.activeElement\r\n                    : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\r\n                        ? self.selectedDateElem\r\n                        : self.todayDateElem !== undefined && isInView(self.todayDateElem)\r\n                            ? self.todayDateElem\r\n                            : getFirstAvailableDay(offset > 0 ? 1 : -1);\r\n            if (startElem === undefined)\r\n                return self._input.focus();\r\n            if (!dayFocused)\r\n                return focusOnDayElem(startElem);\r\n            getNextAvailableDay(startElem, offset);\r\n        }\r\n        function buildMonthDays(year, month) {\r\n            var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\r\n            var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12);\r\n            var daysInMonth = self.utils.getDaysInMonth(month), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\r\n            var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\r\n            // prepend days from the ending of previous month\r\n            for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\r\n                days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\r\n            }\r\n            // Start at 1 since there is no 0th day\r\n            for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\r\n                days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\r\n            }\r\n            // append days from the next month\r\n            for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\r\n                (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\r\n                days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\r\n            }\r\n            //updateNavigationCurrentMonth();\r\n            var dayContainer = createElement(\"div\", \"dayContainer\");\r\n            dayContainer.appendChild(days);\r\n            return dayContainer;\r\n        }\r\n        function buildDays() {\r\n            if (self.daysContainer === undefined) {\r\n                return;\r\n            }\r\n            clearNode(self.daysContainer);\r\n            // TODO: week numbers for each month\r\n            if (self.weekNumbers)\r\n                clearNode(self.weekNumbers);\r\n            var frag = document.createDocumentFragment();\r\n            for (var i = 0; i < self.config.showMonths; i++) {\r\n                var d = new Date(self.currentYear, self.currentMonth, 1);\r\n                d.setMonth(self.currentMonth + i);\r\n                frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\r\n            }\r\n            self.daysContainer.appendChild(frag);\r\n            self.days = self.daysContainer.firstChild;\r\n            if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\r\n                onMouseOver();\r\n            }\r\n        }\r\n        function buildMonth() {\r\n            var container = createElement(\"div\", \"flatpickr-month\");\r\n            var monthNavFragment = window.document.createDocumentFragment();\r\n            var monthElement = createElement(\"span\", \"cur-month\");\r\n            var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\r\n            var yearElement = yearInput.getElementsByTagName(\"input\")[0];\r\n            yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\r\n            if (self.config.minDate) {\r\n                yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\r\n            }\r\n            if (self.config.maxDate) {\r\n                yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\r\n                yearElement.disabled =\r\n                    !!self.config.minDate &&\r\n                        self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\r\n            }\r\n            var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\r\n            currentMonth.appendChild(monthElement);\r\n            currentMonth.appendChild(yearInput);\r\n            monthNavFragment.appendChild(currentMonth);\r\n            container.appendChild(monthNavFragment);\r\n            return {\r\n                container: container,\r\n                yearElement: yearElement,\r\n                monthElement: monthElement\r\n            };\r\n        }\r\n        function buildMonths() {\r\n            clearNode(self.monthNav);\r\n            self.monthNav.appendChild(self.prevMonthNav);\r\n            if (self.config.showMonths) {\r\n                self.yearElements = [];\r\n                self.monthElements = [];\r\n            }\r\n            for (var m = self.config.showMonths; m--;) {\r\n                var month = buildMonth();\r\n                self.yearElements.push(month.yearElement);\r\n                self.monthElements.push(month.monthElement);\r\n                self.monthNav.appendChild(month.container);\r\n            }\r\n            self.monthNav.appendChild(self.nextMonthNav);\r\n        }\r\n        function buildMonthNav() {\r\n            self.monthNav = createElement(\"div\", \"flatpickr-months\");\r\n            self.yearElements = [];\r\n            self.monthElements = [];\r\n            self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\r\n            self.prevMonthNav.innerHTML = self.config.prevArrow;\r\n            self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\r\n            self.nextMonthNav.innerHTML = self.config.nextArrow;\r\n            buildMonths();\r\n            Object.defineProperty(self, \"_hidePrevMonthArrow\", {\r\n                get: function () { return self.__hidePrevMonthArrow; },\r\n                set: function (bool) {\r\n                    if (self.__hidePrevMonthArrow !== bool) {\r\n                        toggleClass(self.prevMonthNav, \"disabled\", bool);\r\n                        self.__hidePrevMonthArrow = bool;\r\n                    }\r\n                }\r\n            });\r\n            Object.defineProperty(self, \"_hideNextMonthArrow\", {\r\n                get: function () { return self.__hideNextMonthArrow; },\r\n                set: function (bool) {\r\n                    if (self.__hideNextMonthArrow !== bool) {\r\n                        toggleClass(self.nextMonthNav, \"disabled\", bool);\r\n                        self.__hideNextMonthArrow = bool;\r\n                    }\r\n                }\r\n            });\r\n            self.currentYearElement = self.yearElements[0];\r\n            updateNavigationCurrentMonth();\r\n            return self.monthNav;\r\n        }\r\n        function buildTime() {\r\n            self.calendarContainer.classList.add(\"hasTime\");\r\n            if (self.config.noCalendar)\r\n                self.calendarContainer.classList.add(\"noCalendar\");\r\n            self.timeContainer = createElement(\"div\", \"flatpickr-time\");\r\n            self.timeContainer.tabIndex = -1;\r\n            var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\r\n            var hourInput = createNumberInput(\"flatpickr-hour\");\r\n            self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\r\n            var minuteInput = createNumberInput(\"flatpickr-minute\");\r\n            self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\r\n            self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\r\n            self.hourElement.value = pad(self.latestSelectedDateObj\r\n                ? self.latestSelectedDateObj.getHours()\r\n                : self.config.time_24hr\r\n                    ? self.config.defaultHour\r\n                    : military2ampm(self.config.defaultHour));\r\n            self.minuteElement.value = pad(self.latestSelectedDateObj\r\n                ? self.latestSelectedDateObj.getMinutes()\r\n                : self.config.defaultMinute);\r\n            self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\r\n            self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\r\n            self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\r\n            self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\r\n            self.minuteElement.setAttribute(\"min\", \"0\");\r\n            self.minuteElement.setAttribute(\"max\", \"59\");\r\n            self.timeContainer.appendChild(hourInput);\r\n            self.timeContainer.appendChild(separator);\r\n            self.timeContainer.appendChild(minuteInput);\r\n            if (self.config.time_24hr)\r\n                self.timeContainer.classList.add(\"time24hr\");\r\n            if (self.config.enableSeconds) {\r\n                self.timeContainer.classList.add(\"hasSeconds\");\r\n                var secondInput = createNumberInput(\"flatpickr-second\");\r\n                self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\r\n                self.secondElement.value = pad(self.latestSelectedDateObj\r\n                    ? self.latestSelectedDateObj.getSeconds()\r\n                    : self.config.defaultSeconds);\r\n                self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\r\n                self.secondElement.setAttribute(\"min\", \"0\");\r\n                self.secondElement.setAttribute(\"max\", \"59\");\r\n                self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\r\n                self.timeContainer.appendChild(secondInput);\r\n            }\r\n            if (!self.config.time_24hr) {\r\n                // add self.amPM if appropriate\r\n                self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\r\n                    ? self.hourElement.value\r\n                    : self.config.defaultHour) > 11)]);\r\n                self.amPM.title = self.l10n.toggleTitle;\r\n                self.amPM.tabIndex = -1;\r\n                self.timeContainer.appendChild(self.amPM);\r\n            }\r\n            return self.timeContainer;\r\n        }\r\n        function buildWeekdays() {\r\n            if (!self.weekdayContainer)\r\n                self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\r\n            else\r\n                clearNode(self.weekdayContainer);\r\n            for (var i = self.config.showMonths; i--;) {\r\n                var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\r\n                self.weekdayContainer.appendChild(container);\r\n            }\r\n            updateWeekdays();\r\n            return self.weekdayContainer;\r\n        }\r\n        function updateWeekdays() {\r\n            var firstDayOfWeek = self.l10n.firstDayOfWeek;\r\n            var weekdays = self.l10n.weekdays.shorthand.slice();\r\n            if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\r\n                weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\r\n            }\r\n            for (var i = self.config.showMonths; i--;) {\r\n                self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\r\n            }\r\n        }\r\n        /* istanbul ignore next */\r\n        function buildWeeks() {\r\n            self.calendarContainer.classList.add(\"hasWeeks\");\r\n            var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\r\n            weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\r\n            var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\r\n            weekWrapper.appendChild(weekNumbers);\r\n            return {\r\n                weekWrapper: weekWrapper,\r\n                weekNumbers: weekNumbers\r\n            };\r\n        }\r\n        function changeMonth(value, is_offset) {\r\n            if (is_offset === void 0) { is_offset = true; }\r\n            var delta = is_offset ? value : value - self.currentMonth;\r\n            if ((delta < 0 && self._hidePrevMonthArrow === true) ||\r\n                (delta > 0 && self._hideNextMonthArrow === true))\r\n                return;\r\n            self.currentMonth += delta;\r\n            if (self.currentMonth < 0 || self.currentMonth > 11) {\r\n                self.currentYear += self.currentMonth > 11 ? 1 : -1;\r\n                self.currentMonth = (self.currentMonth + 12) % 12;\r\n                triggerEvent(\"onYearChange\");\r\n            }\r\n            buildDays();\r\n            triggerEvent(\"onMonthChange\");\r\n            updateNavigationCurrentMonth();\r\n        }\r\n        function clear(triggerChangeEvent, toInitial) {\r\n            if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\r\n            if (toInitial === void 0) { toInitial = true; }\r\n            self.input.value = \"\";\r\n            if (self.altInput !== undefined)\r\n                self.altInput.value = \"\";\r\n            if (self.mobileInput !== undefined)\r\n                self.mobileInput.value = \"\";\r\n            self.selectedDates = [];\r\n            self.latestSelectedDateObj = undefined;\r\n            if (toInitial === true) {\r\n                self.currentYear = self._initialDate.getFullYear();\r\n                self.currentMonth = self._initialDate.getMonth();\r\n            }\r\n            self.showTimeInput = false;\r\n            if (self.config.enableTime === true) {\r\n                setDefaultHours();\r\n            }\r\n            self.redraw();\r\n            if (triggerChangeEvent)\r\n                // triggerChangeEvent is true (default) or an Event\r\n                triggerEvent(\"onChange\");\r\n        }\r\n        function close() {\r\n            self.isOpen = false;\r\n            if (!self.isMobile) {\r\n                if (self.calendarContainer !== undefined) {\r\n                    self.calendarContainer.classList.remove(\"open\");\r\n                }\r\n                if (self._input !== undefined) {\r\n                    self._input.classList.remove(\"active\");\r\n                }\r\n            }\r\n            triggerEvent(\"onClose\");\r\n        }\r\n        function destroy() {\r\n            if (self.config !== undefined)\r\n                triggerEvent(\"onDestroy\");\r\n            for (var i = self._handlers.length; i--;) {\r\n                var h = self._handlers[i];\r\n                h.element.removeEventListener(h.event, h.handler, h.options);\r\n            }\r\n            self._handlers = [];\r\n            if (self.mobileInput) {\r\n                if (self.mobileInput.parentNode)\r\n                    self.mobileInput.parentNode.removeChild(self.mobileInput);\r\n                self.mobileInput = undefined;\r\n            }\r\n            else if (self.calendarContainer && self.calendarContainer.parentNode) {\r\n                if (self.config.static && self.calendarContainer.parentNode) {\r\n                    var wrapper = self.calendarContainer.parentNode;\r\n                    wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\r\n                    if (wrapper.parentNode) {\r\n                        while (wrapper.firstChild)\r\n                            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\r\n                        wrapper.parentNode.removeChild(wrapper);\r\n                    }\r\n                }\r\n                else\r\n                    self.calendarContainer.parentNode.removeChild(self.calendarContainer);\r\n            }\r\n            if (self.altInput) {\r\n                self.input.type = \"text\";\r\n                if (self.altInput.parentNode)\r\n                    self.altInput.parentNode.removeChild(self.altInput);\r\n                delete self.altInput;\r\n            }\r\n            if (self.input) {\r\n                self.input.type = self.input._type;\r\n                self.input.classList.remove(\"flatpickr-input\");\r\n                self.input.removeAttribute(\"readonly\");\r\n                self.input.value = \"\";\r\n            }\r\n            [\r\n                \"_showTimeInput\",\r\n                \"latestSelectedDateObj\",\r\n                \"_hideNextMonthArrow\",\r\n                \"_hidePrevMonthArrow\",\r\n                \"__hideNextMonthArrow\",\r\n                \"__hidePrevMonthArrow\",\r\n                \"isMobile\",\r\n                \"isOpen\",\r\n                \"selectedDateElem\",\r\n                \"minDateHasTime\",\r\n                \"maxDateHasTime\",\r\n                \"days\",\r\n                \"daysContainer\",\r\n                \"_input\",\r\n                \"_positionElement\",\r\n                \"innerContainer\",\r\n                \"rContainer\",\r\n                \"monthNav\",\r\n                \"todayDateElem\",\r\n                \"calendarContainer\",\r\n                \"weekdayContainer\",\r\n                \"prevMonthNav\",\r\n                \"nextMonthNav\",\r\n                \"currentMonthElement\",\r\n                \"currentYearElement\",\r\n                \"navigationCurrentMonth\",\r\n                \"selectedDateElem\",\r\n                \"config\",\r\n            ].forEach(function (k) {\r\n                try {\r\n                    delete self[k];\r\n                }\r\n                catch (_) { }\r\n            });\r\n        }\r\n        function isCalendarElem(elem) {\r\n            if (self.config.appendTo && self.config.appendTo.contains(elem))\r\n                return true;\r\n            return self.calendarContainer.contains(elem);\r\n        }\r\n        function documentClick(e) {\r\n            if (self.isOpen && !self.config.inline) {\r\n                var eventTarget_1 = getEventTarget(e);\r\n                var isCalendarElement = isCalendarElem(eventTarget_1);\r\n                var isInput = eventTarget_1 === self.input ||\r\n                    eventTarget_1 === self.altInput ||\r\n                    self.element.contains(eventTarget_1) ||\r\n                    // web components\r\n                    // e.path is not present in all browsers. circumventing typechecks\r\n                    (e.path &&\r\n                        e.path.indexOf &&\r\n                        (~e.path.indexOf(self.input) ||\r\n                            ~e.path.indexOf(self.altInput)));\r\n                var lostFocus = e.type === \"blur\"\r\n                    ? isInput &&\r\n                        e.relatedTarget &&\r\n                        !isCalendarElem(e.relatedTarget)\r\n                    : !isInput &&\r\n                        !isCalendarElement &&\r\n                        !isCalendarElem(e.relatedTarget);\r\n                var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\r\n                    return elem.contains(eventTarget_1);\r\n                });\r\n                if (lostFocus && isIgnored) {\r\n                    self.close();\r\n                    if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\r\n                        self.clear(false);\r\n                        self.redraw();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        function changeYear(newYear) {\r\n            if (!newYear ||\r\n                (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\r\n                (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\r\n                return;\r\n            var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\r\n            self.currentYear = newYearNum || self.currentYear;\r\n            if (self.config.maxDate &&\r\n                self.currentYear === self.config.maxDate.getFullYear()) {\r\n                self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\r\n            }\r\n            else if (self.config.minDate &&\r\n                self.currentYear === self.config.minDate.getFullYear()) {\r\n                self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\r\n            }\r\n            if (isNewYear) {\r\n                self.redraw();\r\n                triggerEvent(\"onYearChange\");\r\n            }\r\n        }\r\n        function isEnabled(date, timeless) {\r\n            if (timeless === void 0) { timeless = true; }\r\n            var dateToCheck = self.parseDate(date, undefined, timeless); // timeless\r\n            if ((self.config.minDate &&\r\n                dateToCheck &&\r\n                compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\r\n                (self.config.maxDate &&\r\n                    dateToCheck &&\r\n                    compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\r\n                return false;\r\n            if (self.config.enable.length === 0 && self.config.disable.length === 0)\r\n                return true;\r\n            if (dateToCheck === undefined)\r\n                return false;\r\n            var bool = self.config.enable.length > 0, array = bool ? self.config.enable : self.config.disable;\r\n            for (var i = 0, d = void 0; i < array.length; i++) {\r\n                d = array[i];\r\n                if (typeof d === \"function\" &&\r\n                    d(dateToCheck) // disabled by function\r\n                )\r\n                    return bool;\r\n                else if (d instanceof Date &&\r\n                    dateToCheck !== undefined &&\r\n                    d.getTime() === dateToCheck.getTime())\r\n                    // disabled by date\r\n                    return bool;\r\n                else if (typeof d === \"string\" && dateToCheck !== undefined) {\r\n                    // disabled by date string\r\n                    var parsed = self.parseDate(d, undefined, true);\r\n                    return parsed && parsed.getTime() === dateToCheck.getTime()\r\n                        ? bool\r\n                        : !bool;\r\n                }\r\n                else if (\r\n                // disabled by range\r\n                typeof d === \"object\" &&\r\n                    dateToCheck !== undefined &&\r\n                    d.from &&\r\n                    d.to &&\r\n                    dateToCheck.getTime() >= d.from.getTime() &&\r\n                    dateToCheck.getTime() <= d.to.getTime())\r\n                    return bool;\r\n            }\r\n            return !bool;\r\n        }\r\n        function isInView(elem) {\r\n            if (self.daysContainer !== undefined)\r\n                return (elem.className.indexOf(\"hidden\") === -1 &&\r\n                    self.daysContainer.contains(elem));\r\n            return false;\r\n        }\r\n        function onKeyDown(e) {\r\n            // e.key                      e.keyCode\r\n            // \"Backspace\"                        8\r\n            // \"Tab\"                              9\r\n            // \"Enter\"                           13\r\n            // \"Escape\"     (IE \"Esc\")           27\r\n            // \"ArrowLeft\"  (IE \"Left\")          37\r\n            // \"ArrowUp\"    (IE \"Up\")            38\r\n            // \"ArrowRight\" (IE \"Right\")         39\r\n            // \"ArrowDown\"  (IE \"Down\")          40\r\n            // \"Delete\"     (IE \"Del\")           46\r\n            var isInput = e.target === self._input;\r\n            var allowInput = self.config.allowInput;\r\n            var allowKeydown = self.isOpen && (!allowInput || !isInput);\r\n            var allowInlineKeydown = self.config.inline && isInput && !allowInput;\r\n            if (e.keyCode === 13 && isInput) {\r\n                if (allowInput) {\r\n                    self.setDate(self._input.value, true, e.target === self.altInput\r\n                        ? self.config.altFormat\r\n                        : self.config.dateFormat);\r\n                    return e.target.blur();\r\n                }\r\n                else\r\n                    self.open();\r\n            }\r\n            else if (isCalendarElem(e.target) ||\r\n                allowKeydown ||\r\n                allowInlineKeydown) {\r\n                var isTimeObj = !!self.timeContainer &&\r\n                    self.timeContainer.contains(e.target);\r\n                switch (e.keyCode) {\r\n                    case 13:\r\n                        if (isTimeObj) {\r\n                            updateTime();\r\n                            focusAndClose();\r\n                        }\r\n                        else\r\n                            selectDate(e);\r\n                        break;\r\n                    case 27: // escape\r\n                        e.preventDefault();\r\n                        focusAndClose();\r\n                        break;\r\n                    case 8:\r\n                    case 46:\r\n                        if (isInput && !self.config.allowInput) {\r\n                            e.preventDefault();\r\n                            self.clear();\r\n                        }\r\n                        break;\r\n                    case 37:\r\n                    case 39:\r\n                        if (!isTimeObj) {\r\n                            e.preventDefault();\r\n                            if (self.daysContainer !== undefined &&\r\n                                (allowInput === false ||\r\n                                    (document.activeElement && isInView(document.activeElement)))) {\r\n                                var delta_1 = e.keyCode === 39 ? 1 : -1;\r\n                                if (!e.ctrlKey)\r\n                                    focusOnDay(undefined, delta_1);\r\n                                else {\r\n                                    e.stopPropagation();\r\n                                    changeMonth(delta_1);\r\n                                    focusOnDay(getFirstAvailableDay(1), 0);\r\n                                }\r\n                            }\r\n                        }\r\n                        else if (self.hourElement)\r\n                            self.hourElement.focus();\r\n                        break;\r\n                    case 38:\r\n                    case 40:\r\n                        e.preventDefault();\r\n                        var delta = e.keyCode === 40 ? 1 : -1;\r\n                        if ((self.daysContainer && e.target.$i !== undefined) ||\r\n                            e.target === self.input) {\r\n                            if (e.ctrlKey) {\r\n                                e.stopPropagation();\r\n                                changeYear(self.currentYear - delta);\r\n                                focusOnDay(getFirstAvailableDay(1), 0);\r\n                            }\r\n                            else if (!isTimeObj)\r\n                                focusOnDay(undefined, delta * 7);\r\n                        }\r\n                        else if (self.config.enableTime) {\r\n                            if (!isTimeObj && self.hourElement)\r\n                                self.hourElement.focus();\r\n                            updateTime(e);\r\n                            self._debouncedChange();\r\n                        }\r\n                        break;\r\n                    case 9:\r\n                        if (isTimeObj) {\r\n                            var elems = [\r\n                                self.hourElement,\r\n                                self.minuteElement,\r\n                                self.secondElement,\r\n                                self.amPM,\r\n                            ].filter(function (x) { return x; });\r\n                            var i = elems.indexOf(e.target);\r\n                            if (i !== -1) {\r\n                                var target = elems[i + (e.shiftKey ? -1 : 1)];\r\n                                if (target !== undefined) {\r\n                                    e.preventDefault();\r\n                                    target.focus();\r\n                                }\r\n                                else if (e.shiftKey) {\r\n                                    e.preventDefault();\r\n                                    self._input.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            if (self.amPM !== undefined && e.target === self.amPM) {\r\n                switch (e.key) {\r\n                    case self.l10n.amPM[0].charAt(0):\r\n                    case self.l10n.amPM[0].charAt(0).toLowerCase():\r\n                        self.amPM.textContent = self.l10n.amPM[0];\r\n                        setHoursFromInputs();\r\n                        updateValue();\r\n                        break;\r\n                    case self.l10n.amPM[1].charAt(0):\r\n                    case self.l10n.amPM[1].charAt(0).toLowerCase():\r\n                        self.amPM.textContent = self.l10n.amPM[1];\r\n                        setHoursFromInputs();\r\n                        updateValue();\r\n                        break;\r\n                }\r\n            }\r\n            triggerEvent(\"onKeyDown\", e);\r\n        }\r\n        function onMouseOver(elem) {\r\n            if (self.selectedDates.length !== 1 ||\r\n                (elem &&\r\n                    (!elem.classList.contains(\"flatpickr-day\") ||\r\n                        elem.classList.contains(\"disabled\"))))\r\n                return;\r\n            var hoverDate = elem\r\n                ? elem.dateObj.getTime()\r\n                : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime()), lastDate = self.daysContainer.lastChild\r\n                .lastChild.dateObj.getTime();\r\n            var containsDisabled = false;\r\n            var minRange = 0, maxRange = 0;\r\n            for (var t = rangeStartDate; t < lastDate; t += duration.DAY) {\r\n                if (!isEnabled(new Date(t), true)) {\r\n                    containsDisabled =\r\n                        containsDisabled || (t > rangeStartDate && t < rangeEndDate);\r\n                    if (t < initialDate && (!minRange || t > minRange))\r\n                        minRange = t;\r\n                    else if (t > initialDate && (!maxRange || t < maxRange))\r\n                        maxRange = t;\r\n                }\r\n            }\r\n            for (var m = 0; m < self.config.showMonths; m++) {\r\n                var month = self.daysContainer.children[m];\r\n                var prevMonth = self.daysContainer.children[m - 1];\r\n                var _loop_1 = function (i, l) {\r\n                    var dayElem = month.children[i], date = dayElem.dateObj;\r\n                    var timestamp = date.getTime();\r\n                    var outOfRange = (minRange > 0 && timestamp < minRange) ||\r\n                        (maxRange > 0 && timestamp > maxRange);\r\n                    if (outOfRange) {\r\n                        dayElem.classList.add(\"notAllowed\");\r\n                        [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\r\n                            dayElem.classList.remove(c);\r\n                        });\r\n                        return \"continue\";\r\n                    }\r\n                    else if (containsDisabled && !outOfRange)\r\n                        return \"continue\";\r\n                    [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\r\n                        dayElem.classList.remove(c);\r\n                    });\r\n                    if (elem !== undefined) {\r\n                        elem.classList.add(hoverDate < self.selectedDates[0].getTime()\r\n                            ? \"startRange\"\r\n                            : \"endRange\");\r\n                        if (month.contains(elem) ||\r\n                            !(m > 0 &&\r\n                                prevMonth &&\r\n                                prevMonth.lastChild.dateObj.getTime() >= timestamp)) {\r\n                            if (initialDate < hoverDate && timestamp === initialDate)\r\n                                dayElem.classList.add(\"startRange\");\r\n                            else if (initialDate > hoverDate && timestamp === initialDate)\r\n                                dayElem.classList.add(\"endRange\");\r\n                            if (timestamp >= minRange &&\r\n                                (maxRange === 0 || timestamp <= maxRange) &&\r\n                                isBetween(timestamp, initialDate, hoverDate))\r\n                                dayElem.classList.add(\"inRange\");\r\n                        }\r\n                    }\r\n                };\r\n                for (var i = 0, l = month.children.length; i < l; i++) {\r\n                    _loop_1(i, l);\r\n                }\r\n            }\r\n        }\r\n        function onResize() {\r\n            if (self.isOpen && !self.config.static && !self.config.inline)\r\n                positionCalendar();\r\n        }\r\n        function setDefaultTime() {\r\n            self.setDate(self.config.minDate !== undefined\r\n                ? new Date(self.config.minDate.getTime())\r\n                : new Date(), false);\r\n            setDefaultHours();\r\n            updateValue();\r\n        }\r\n        function open(e, positionElement) {\r\n            if (positionElement === void 0) { positionElement = self._positionElement; }\r\n            if (self.isMobile === true) {\r\n                if (e) {\r\n                    e.preventDefault();\r\n                    e.target && e.target.blur();\r\n                }\r\n                if (self.mobileInput !== undefined) {\r\n                    self.mobileInput.focus();\r\n                    self.mobileInput.click();\r\n                }\r\n                triggerEvent(\"onOpen\");\r\n                return;\r\n            }\r\n            if (self._input.disabled || self.config.inline)\r\n                return;\r\n            var wasOpen = self.isOpen;\r\n            self.isOpen = true;\r\n            if (!wasOpen) {\r\n                self.calendarContainer.classList.add(\"open\");\r\n                self._input.classList.add(\"active\");\r\n                triggerEvent(\"onOpen\");\r\n                positionCalendar(positionElement);\r\n            }\r\n            if (self.config.enableTime === true && self.config.noCalendar === true) {\r\n                if (self.selectedDates.length === 0) {\r\n                    setDefaultTime();\r\n                }\r\n                if (self.config.allowInput === false &&\r\n                    (e === undefined ||\r\n                        !self.timeContainer.contains(e.relatedTarget))) {\r\n                    setTimeout(function () { return self.hourElement.select(); }, 50);\r\n                }\r\n            }\r\n        }\r\n        function minMaxDateSetter(type) {\r\n            return function (date) {\r\n                var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\r\n                var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\r\n                if (dateObj !== undefined) {\r\n                    self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\r\n                        dateObj.getHours() > 0 ||\r\n                            dateObj.getMinutes() > 0 ||\r\n                            dateObj.getSeconds() > 0;\r\n                }\r\n                if (self.selectedDates) {\r\n                    self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\r\n                    if (!self.selectedDates.length && type === \"min\")\r\n                        setHoursFromDate(dateObj);\r\n                    updateValue();\r\n                }\r\n                if (self.daysContainer) {\r\n                    redraw();\r\n                    if (dateObj !== undefined)\r\n                        self.currentYearElement[type] = dateObj.getFullYear().toString();\r\n                    else\r\n                        self.currentYearElement.removeAttribute(type);\r\n                    self.currentYearElement.disabled =\r\n                        !!inverseDateObj &&\r\n                            dateObj !== undefined &&\r\n                            inverseDateObj.getFullYear() === dateObj.getFullYear();\r\n                }\r\n            };\r\n        }\r\n        function parseConfig() {\r\n            var boolOpts = [\r\n                \"wrap\",\r\n                \"weekNumbers\",\r\n                \"allowInput\",\r\n                \"clickOpens\",\r\n                \"time_24hr\",\r\n                \"enableTime\",\r\n                \"noCalendar\",\r\n                \"altInput\",\r\n                \"shorthandCurrentMonth\",\r\n                \"inline\",\r\n                \"static\",\r\n                \"enableSeconds\",\r\n                \"disableMobile\",\r\n            ];\r\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\r\n            var formats = {};\r\n            self.config.parseDate = userConfig.parseDate;\r\n            self.config.formatDate = userConfig.formatDate;\r\n            Object.defineProperty(self.config, \"enable\", {\r\n                get: function () { return self.config._enable; },\r\n                set: function (dates) {\r\n                    self.config._enable = parseDateRules(dates);\r\n                }\r\n            });\r\n            Object.defineProperty(self.config, \"disable\", {\r\n                get: function () { return self.config._disable; },\r\n                set: function (dates) {\r\n                    self.config._disable = parseDateRules(dates);\r\n                }\r\n            });\r\n            var timeMode = userConfig.mode === \"time\";\r\n            if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\r\n                formats.dateFormat =\r\n                    userConfig.noCalendar || timeMode\r\n                        ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\r\n                        : flatpickr.defaultConfig.dateFormat +\r\n                            \" H:i\" +\r\n                            (userConfig.enableSeconds ? \":S\" : \"\");\r\n            }\r\n            if (userConfig.altInput &&\r\n                (userConfig.enableTime || timeMode) &&\r\n                !userConfig.altFormat) {\r\n                formats.altFormat =\r\n                    userConfig.noCalendar || timeMode\r\n                        ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\r\n                        : flatpickr.defaultConfig.altFormat +\r\n                            (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\r\n            }\r\n            Object.defineProperty(self.config, \"minDate\", {\r\n                get: function () { return self.config._minDate; },\r\n                set: minMaxDateSetter(\"min\")\r\n            });\r\n            Object.defineProperty(self.config, \"maxDate\", {\r\n                get: function () { return self.config._maxDate; },\r\n                set: minMaxDateSetter(\"max\")\r\n            });\r\n            var minMaxTimeSetter = function (type) { return function (val) {\r\n                self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i\");\r\n            }; };\r\n            Object.defineProperty(self.config, \"minTime\", {\r\n                get: function () { return self.config._minTime; },\r\n                set: minMaxTimeSetter(\"min\")\r\n            });\r\n            Object.defineProperty(self.config, \"maxTime\", {\r\n                get: function () { return self.config._maxTime; },\r\n                set: minMaxTimeSetter(\"max\")\r\n            });\r\n            if (userConfig.mode === \"time\") {\r\n                self.config.noCalendar = true;\r\n                self.config.enableTime = true;\r\n            }\r\n            Object.assign(self.config, formats, userConfig);\r\n            for (var i = 0; i < boolOpts.length; i++)\r\n                self.config[boolOpts[i]] =\r\n                    self.config[boolOpts[i]] === true ||\r\n                        self.config[boolOpts[i]] === \"true\";\r\n            HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\r\n                self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\r\n            });\r\n            self.isMobile =\r\n                !self.config.disableMobile &&\r\n                    !self.config.inline &&\r\n                    self.config.mode === \"single\" &&\r\n                    !self.config.disable.length &&\r\n                    !self.config.enable.length &&\r\n                    !self.config.weekNumbers &&\r\n                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n            for (var i = 0; i < self.config.plugins.length; i++) {\r\n                var pluginConf = self.config.plugins[i](self) || {};\r\n                for (var key in pluginConf) {\r\n                    if (HOOKS.indexOf(key) > -1) {\r\n                        self.config[key] = arrayify(pluginConf[key])\r\n                            .map(bindToInstance)\r\n                            .concat(self.config[key]);\r\n                    }\r\n                    else if (typeof userConfig[key] === \"undefined\")\r\n                        self.config[key] = pluginConf[key];\r\n                }\r\n            }\r\n            triggerEvent(\"onParseConfig\");\r\n        }\r\n        function setupLocale() {\r\n            if (typeof self.config.locale !== \"object\" &&\r\n                typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\r\n                self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\r\n            self.l10n = __assign({}, flatpickr.l10ns[\"default\"], (typeof self.config.locale === \"object\"\r\n                ? self.config.locale\r\n                : self.config.locale !== \"default\"\r\n                    ? flatpickr.l10ns[self.config.locale]\r\n                    : undefined));\r\n            tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\r\n            self.formatDate = createDateFormatter(self);\r\n            self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\r\n        }\r\n        function positionCalendar(customPositionElement) {\r\n            if (self.calendarContainer === undefined)\r\n                return;\r\n            triggerEvent(\"onPreCalendarPosition\");\r\n            var positionElement = customPositionElement || self._positionElement;\r\n            var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\r\n                (configPosVertical !== \"below\" &&\r\n                    distanceFromBottom < calendarHeight &&\r\n                    inputBounds.top > calendarHeight);\r\n            var top = window.pageYOffset +\r\n                inputBounds.top +\r\n                (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\r\n            toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\r\n            toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\r\n            if (self.config.inline)\r\n                return;\r\n            var left = window.pageXOffset +\r\n                inputBounds.left -\r\n                (configPosHorizontal != null && configPosHorizontal === \"center\"\r\n                    ? (calendarWidth - inputBounds.width) / 2\r\n                    : 0);\r\n            var right = window.document.body.offsetWidth - inputBounds.right;\r\n            var rightMost = left + calendarWidth > window.document.body.offsetWidth;\r\n            var centerMost = right + calendarWidth > window.document.body.offsetWidth;\r\n            toggleClass(self.calendarContainer, \"rightMost\", rightMost);\r\n            if (self.config.static)\r\n                return;\r\n            self.calendarContainer.style.top = top + \"px\";\r\n            if (!rightMost) {\r\n                self.calendarContainer.style.left = left + \"px\";\r\n                self.calendarContainer.style.right = \"auto\";\r\n            }\r\n            else if (!centerMost) {\r\n                self.calendarContainer.style.left = \"auto\";\r\n                self.calendarContainer.style.right = right + \"px\";\r\n            }\r\n            else {\r\n                var doc = document.styleSheets[0];\r\n                // some testing environments don't have css support\r\n                if (doc === undefined)\r\n                    return;\r\n                var bodyWidth = window.document.body.offsetWidth;\r\n                var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\r\n                var centerBefore = \".flatpickr-calendar.centerMost:before\";\r\n                var centerAfter = \".flatpickr-calendar.centerMost:after\";\r\n                var centerIndex = doc.cssRules.length;\r\n                var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\r\n                toggleClass(self.calendarContainer, \"rightMost\", false);\r\n                toggleClass(self.calendarContainer, \"centerMost\", true);\r\n                doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\r\n                self.calendarContainer.style.left = centerLeft + \"px\";\r\n                self.calendarContainer.style.right = \"auto\";\r\n            }\r\n        }\r\n        function redraw() {\r\n            if (self.config.noCalendar || self.isMobile)\r\n                return;\r\n            updateNavigationCurrentMonth();\r\n            buildDays();\r\n        }\r\n        function focusAndClose() {\r\n            self._input.focus();\r\n            if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\r\n                navigator.msMaxTouchPoints !== undefined) {\r\n                // hack - bugs in the way IE handles focus keeps the calendar open\r\n                setTimeout(self.close, 0);\r\n            }\r\n            else {\r\n                self.close();\r\n            }\r\n        }\r\n        function selectDate(e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            var isSelectable = function (day) {\r\n                return day.classList &&\r\n                    day.classList.contains(\"flatpickr-day\") &&\r\n                    !day.classList.contains(\"disabled\") &&\r\n                    !day.classList.contains(\"notAllowed\");\r\n            };\r\n            var t = findParent(e.target, isSelectable);\r\n            if (t === undefined)\r\n                return;\r\n            var target = t;\r\n            var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\r\n            var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\r\n                selectedDate.getMonth() >\r\n                    self.currentMonth + self.config.showMonths - 1) &&\r\n                self.config.mode !== \"range\";\r\n            self.selectedDateElem = target;\r\n            if (self.config.mode === \"single\")\r\n                self.selectedDates = [selectedDate];\r\n            else if (self.config.mode === \"multiple\") {\r\n                var selectedIndex = isDateSelected(selectedDate);\r\n                if (selectedIndex)\r\n                    self.selectedDates.splice(parseInt(selectedIndex), 1);\r\n                else\r\n                    self.selectedDates.push(selectedDate);\r\n            }\r\n            else if (self.config.mode === \"range\") {\r\n                if (self.selectedDates.length === 2) {\r\n                    self.clear(false, false);\r\n                }\r\n                self.latestSelectedDateObj = selectedDate;\r\n                self.selectedDates.push(selectedDate);\r\n                // unless selecting same date twice, sort ascendingly\r\n                if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\r\n                    self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\r\n            }\r\n            setHoursFromInputs();\r\n            if (shouldChangeMonth) {\r\n                var isNewYear = self.currentYear !== selectedDate.getFullYear();\r\n                self.currentYear = selectedDate.getFullYear();\r\n                self.currentMonth = selectedDate.getMonth();\r\n                if (isNewYear)\r\n                    triggerEvent(\"onYearChange\");\r\n                triggerEvent(\"onMonthChange\");\r\n            }\r\n            updateNavigationCurrentMonth();\r\n            buildDays();\r\n            updateValue();\r\n            if (self.config.enableTime)\r\n                setTimeout(function () { return (self.showTimeInput = true); }, 50);\r\n            // maintain focus\r\n            if (!shouldChangeMonth &&\r\n                self.config.mode !== \"range\" &&\r\n                self.config.showMonths === 1)\r\n                focusOnDayElem(target);\r\n            else if (self.selectedDateElem !== undefined &&\r\n                self.hourElement === undefined) {\r\n                self.selectedDateElem && self.selectedDateElem.focus();\r\n            }\r\n            if (self.hourElement !== undefined)\r\n                self.hourElement !== undefined && self.hourElement.focus();\r\n            if (self.config.closeOnSelect) {\r\n                var single = self.config.mode === \"single\" && !self.config.enableTime;\r\n                var range = self.config.mode === \"range\" &&\r\n                    self.selectedDates.length === 2 &&\r\n                    !self.config.enableTime;\r\n                if (single || range) {\r\n                    focusAndClose();\r\n                }\r\n            }\r\n            triggerChange();\r\n        }\r\n        var CALLBACKS = {\r\n            locale: [setupLocale, updateWeekdays],\r\n            showMonths: [buildMonths, setCalendarWidth, buildWeekdays]\r\n        };\r\n        function set(option, value) {\r\n            if (option !== null && typeof option === \"object\")\r\n                Object.assign(self.config, option);\r\n            else {\r\n                self.config[option] = value;\r\n                if (CALLBACKS[option] !== undefined)\r\n                    CALLBACKS[option].forEach(function (x) { return x(); });\r\n                else if (HOOKS.indexOf(option) > -1)\r\n                    self.config[option] = arrayify(value);\r\n            }\r\n            self.redraw();\r\n            updateValue(false);\r\n        }\r\n        function setSelectedDate(inputDate, format) {\r\n            var dates = [];\r\n            if (inputDate instanceof Array)\r\n                dates = inputDate.map(function (d) { return self.parseDate(d, format); });\r\n            else if (inputDate instanceof Date || typeof inputDate === \"number\")\r\n                dates = [self.parseDate(inputDate, format)];\r\n            else if (typeof inputDate === \"string\") {\r\n                switch (self.config.mode) {\r\n                    case \"single\":\r\n                    case \"time\":\r\n                        dates = [self.parseDate(inputDate, format)];\r\n                        break;\r\n                    case \"multiple\":\r\n                        dates = inputDate\r\n                            .split(self.config.conjunction)\r\n                            .map(function (date) { return self.parseDate(date, format); });\r\n                        break;\r\n                    case \"range\":\r\n                        dates = inputDate\r\n                            .split(self.l10n.rangeSeparator)\r\n                            .map(function (date) { return self.parseDate(date, format); });\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            else\r\n                self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\r\n            self.selectedDates = dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); });\r\n            if (self.config.mode === \"range\")\r\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\r\n        }\r\n        function setDate(date, triggerChange, format) {\r\n            if (triggerChange === void 0) { triggerChange = false; }\r\n            if (format === void 0) { format = self.config.dateFormat; }\r\n            if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\r\n                return self.clear(triggerChange);\r\n            setSelectedDate(date, format);\r\n            self.showTimeInput = self.selectedDates.length > 0;\r\n            self.latestSelectedDateObj = self.selectedDates[0];\r\n            self.redraw();\r\n            jumpToDate();\r\n            setHoursFromDate();\r\n            updateValue(triggerChange);\r\n            if (triggerChange)\r\n                triggerEvent(\"onChange\");\r\n        }\r\n        function parseDateRules(arr) {\r\n            return arr\r\n                .slice()\r\n                .map(function (rule) {\r\n                if (typeof rule === \"string\" ||\r\n                    typeof rule === \"number\" ||\r\n                    rule instanceof Date) {\r\n                    return self.parseDate(rule, undefined, true);\r\n                }\r\n                else if (rule &&\r\n                    typeof rule === \"object\" &&\r\n                    rule.from &&\r\n                    rule.to)\r\n                    return {\r\n                        from: self.parseDate(rule.from, undefined),\r\n                        to: self.parseDate(rule.to, undefined)\r\n                    };\r\n                return rule;\r\n            })\r\n                .filter(function (x) { return x; }); // remove falsy values\r\n        }\r\n        function setupDates() {\r\n            self.selectedDates = [];\r\n            self.now = self.parseDate(self.config.now) || new Date();\r\n            // Workaround IE11 setting placeholder as the input's value\r\n            var preloadedDate = self.config.defaultDate ||\r\n                ((self.input.nodeName === \"INPUT\" ||\r\n                    self.input.nodeName === \"TEXTAREA\") &&\r\n                    self.input.placeholder &&\r\n                    self.input.value === self.input.placeholder\r\n                    ? null\r\n                    : self.input.value);\r\n            if (preloadedDate)\r\n                setSelectedDate(preloadedDate, self.config.dateFormat);\r\n            self._initialDate =\r\n                self.selectedDates.length > 0\r\n                    ? self.selectedDates[0]\r\n                    : self.config.minDate &&\r\n                        self.config.minDate.getTime() > self.now.getTime()\r\n                        ? self.config.minDate\r\n                        : self.config.maxDate &&\r\n                            self.config.maxDate.getTime() < self.now.getTime()\r\n                            ? self.config.maxDate\r\n                            : self.now;\r\n            self.currentYear = self._initialDate.getFullYear();\r\n            self.currentMonth = self._initialDate.getMonth();\r\n            if (self.selectedDates.length > 0)\r\n                self.latestSelectedDateObj = self.selectedDates[0];\r\n            if (self.config.minTime !== undefined)\r\n                self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\r\n            if (self.config.maxTime !== undefined)\r\n                self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\r\n            self.minDateHasTime =\r\n                !!self.config.minDate &&\r\n                    (self.config.minDate.getHours() > 0 ||\r\n                        self.config.minDate.getMinutes() > 0 ||\r\n                        self.config.minDate.getSeconds() > 0);\r\n            self.maxDateHasTime =\r\n                !!self.config.maxDate &&\r\n                    (self.config.maxDate.getHours() > 0 ||\r\n                        self.config.maxDate.getMinutes() > 0 ||\r\n                        self.config.maxDate.getSeconds() > 0);\r\n            Object.defineProperty(self, \"showTimeInput\", {\r\n                get: function () { return self._showTimeInput; },\r\n                set: function (bool) {\r\n                    self._showTimeInput = bool;\r\n                    if (self.calendarContainer)\r\n                        toggleClass(self.calendarContainer, \"showTimeInput\", bool);\r\n                    self.isOpen && positionCalendar();\r\n                }\r\n            });\r\n        }\r\n        function setupInputs() {\r\n            self.input = self.config.wrap\r\n                ? element.querySelector(\"[data-input]\")\r\n                : element;\r\n            /* istanbul ignore next */\r\n            if (!self.input) {\r\n                self.config.errorHandler(new Error(\"Invalid input element specified\"));\r\n                return;\r\n            }\r\n            // hack: store previous type to restore it after destroy()\r\n            self.input._type = self.input.type;\r\n            self.input.type = \"text\";\r\n            self.input.classList.add(\"flatpickr-input\");\r\n            self._input = self.input;\r\n            if (self.config.altInput) {\r\n                // replicate self.element\r\n                self.altInput = createElement(self.input.nodeName, self.input.className + \" \" + self.config.altInputClass);\r\n                self._input = self.altInput;\r\n                self.altInput.placeholder = self.input.placeholder;\r\n                self.altInput.disabled = self.input.disabled;\r\n                self.altInput.required = self.input.required;\r\n                self.altInput.tabIndex = self.input.tabIndex;\r\n                self.altInput.type = \"text\";\r\n                self.input.setAttribute(\"type\", \"hidden\");\r\n                if (!self.config.static && self.input.parentNode)\r\n                    self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\r\n            }\r\n            if (!self.config.allowInput)\r\n                self._input.setAttribute(\"readonly\", \"readonly\");\r\n            self._positionElement = self.config.positionElement || self._input;\r\n        }\r\n        function setupMobile() {\r\n            var inputType = self.config.enableTime\r\n                ? self.config.noCalendar\r\n                    ? \"time\"\r\n                    : \"datetime-local\"\r\n                : \"date\";\r\n            self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\r\n            self.mobileInput.step = self.input.getAttribute(\"step\") || \"any\";\r\n            self.mobileInput.tabIndex = 1;\r\n            self.mobileInput.type = inputType;\r\n            self.mobileInput.disabled = self.input.disabled;\r\n            self.mobileInput.required = self.input.required;\r\n            self.mobileInput.placeholder = self.input.placeholder;\r\n            self.mobileFormatStr =\r\n                inputType === \"datetime-local\"\r\n                    ? \"Y-m-d\\\\TH:i:S\"\r\n                    : inputType === \"date\"\r\n                        ? \"Y-m-d\"\r\n                        : \"H:i:S\";\r\n            if (self.selectedDates.length > 0) {\r\n                self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\r\n            }\r\n            if (self.config.minDate)\r\n                self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\r\n            if (self.config.maxDate)\r\n                self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\r\n            self.input.type = \"hidden\";\r\n            if (self.altInput !== undefined)\r\n                self.altInput.type = \"hidden\";\r\n            try {\r\n                if (self.input.parentNode)\r\n                    self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\r\n            }\r\n            catch (_a) { }\r\n            bind(self.mobileInput, \"change\", function (e) {\r\n                self.setDate(e.target.value, false, self.mobileFormatStr);\r\n                triggerEvent(\"onChange\");\r\n                triggerEvent(\"onClose\");\r\n            });\r\n        }\r\n        function toggle(e) {\r\n            if (self.isOpen === true)\r\n                return self.close();\r\n            self.open(e);\r\n        }\r\n        function triggerEvent(event, data) {\r\n            // If the instance has been destroyed already, all hooks have been removed\r\n            if (self.config === undefined)\r\n                return;\r\n            var hooks = self.config[event];\r\n            if (hooks !== undefined && hooks.length > 0) {\r\n                for (var i = 0; hooks[i] && i < hooks.length; i++)\r\n                    hooks[i](self.selectedDates, self.input.value, self, data);\r\n            }\r\n            if (event === \"onChange\") {\r\n                self.input.dispatchEvent(createEvent(\"change\"));\r\n                // many front-end frameworks bind to the input event\r\n                self.input.dispatchEvent(createEvent(\"input\"));\r\n            }\r\n        }\r\n        function createEvent(name) {\r\n            var e = document.createEvent(\"Event\");\r\n            e.initEvent(name, true, true);\r\n            return e;\r\n        }\r\n        function isDateSelected(date) {\r\n            for (var i = 0; i < self.selectedDates.length; i++) {\r\n                if (compareDates(self.selectedDates[i], date) === 0)\r\n                    return \"\" + i;\r\n            }\r\n            return false;\r\n        }\r\n        function isDateInRange(date) {\r\n            if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\r\n                return false;\r\n            return (compareDates(date, self.selectedDates[0]) >= 0 &&\r\n                compareDates(date, self.selectedDates[1]) <= 0);\r\n        }\r\n        function updateNavigationCurrentMonth() {\r\n            if (self.config.noCalendar || self.isMobile || !self.monthNav)\r\n                return;\r\n            self.yearElements.forEach(function (yearElement, i) {\r\n                var d = new Date(self.currentYear, self.currentMonth, 1);\r\n                d.setMonth(self.currentMonth + i);\r\n                self.monthElements[i].textContent =\r\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) +\r\n                        \" \";\r\n                yearElement.value = d.getFullYear().toString();\r\n            });\r\n            self._hidePrevMonthArrow =\r\n                self.config.minDate !== undefined &&\r\n                    (self.currentYear === self.config.minDate.getFullYear()\r\n                        ? self.currentMonth <= self.config.minDate.getMonth()\r\n                        : self.currentYear < self.config.minDate.getFullYear());\r\n            self._hideNextMonthArrow =\r\n                self.config.maxDate !== undefined &&\r\n                    (self.currentYear === self.config.maxDate.getFullYear()\r\n                        ? self.currentMonth + 1 > self.config.maxDate.getMonth()\r\n                        : self.currentYear > self.config.maxDate.getFullYear());\r\n        }\r\n        function getDateStr(format) {\r\n            return self.selectedDates\r\n                .map(function (dObj) { return self.formatDate(dObj, format); })\r\n                .filter(function (d, i, arr) {\r\n                return self.config.mode !== \"range\" ||\r\n                    self.config.enableTime ||\r\n                    arr.indexOf(d) === i;\r\n            })\r\n                .join(self.config.mode !== \"range\"\r\n                ? self.config.conjunction\r\n                : self.l10n.rangeSeparator);\r\n        }\r\n        /**\r\n         * Updates the values of inputs associated with the calendar\r\n         */\r\n        function updateValue(triggerChange) {\r\n            if (triggerChange === void 0) { triggerChange = true; }\r\n            if (self.selectedDates.length === 0)\r\n                return self.clear(triggerChange);\r\n            if (self.mobileInput !== undefined && self.mobileFormatStr) {\r\n                self.mobileInput.value =\r\n                    self.latestSelectedDateObj !== undefined\r\n                        ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\r\n                        : \"\";\r\n            }\r\n            self.input.value = getDateStr(self.config.dateFormat);\r\n            if (self.altInput !== undefined) {\r\n                self.altInput.value = getDateStr(self.config.altFormat);\r\n            }\r\n            if (triggerChange !== false)\r\n                triggerEvent(\"onValueUpdate\");\r\n        }\r\n        function onMonthNavClick(e) {\r\n            e.preventDefault();\r\n            var isPrevMonth = self.prevMonthNav.contains(e.target);\r\n            var isNextMonth = self.nextMonthNav.contains(e.target);\r\n            if (isPrevMonth || isNextMonth) {\r\n                changeMonth(isPrevMonth ? -1 : 1);\r\n            }\r\n            else if (self.yearElements.indexOf(e.target) >= 0) {\r\n                e.target.select();\r\n            }\r\n            else if (e.target.classList.contains(\"arrowUp\")) {\r\n                self.changeYear(self.currentYear + 1);\r\n            }\r\n            else if (e.target.classList.contains(\"arrowDown\")) {\r\n                self.changeYear(self.currentYear - 1);\r\n            }\r\n        }\r\n        function timeWrapper(e) {\r\n            e.preventDefault();\r\n            var isKeyDown = e.type === \"keydown\", input = e.target;\r\n            if (self.amPM !== undefined && e.target === self.amPM) {\r\n                self.amPM.textContent =\r\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\r\n            }\r\n            var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\r\n                (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\r\n            var newValue = curValue + step * delta;\r\n            if (typeof input.value !== \"undefined\" && input.value.length === 2) {\r\n                var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\r\n                if (newValue < min) {\r\n                    newValue =\r\n                        max +\r\n                            newValue +\r\n                            int(!isHourElem) +\r\n                            (int(isHourElem) && int(!self.amPM));\r\n                    if (isMinuteElem)\r\n                        incrementNumInput(undefined, -1, self.hourElement);\r\n                }\r\n                else if (newValue > max) {\r\n                    newValue =\r\n                        input === self.hourElement ? newValue - max - int(!self.amPM) : min;\r\n                    if (isMinuteElem)\r\n                        incrementNumInput(undefined, 1, self.hourElement);\r\n                }\r\n                if (self.amPM &&\r\n                    isHourElem &&\r\n                    (step === 1\r\n                        ? newValue + curValue === 23\r\n                        : Math.abs(newValue - curValue) > step)) {\r\n                    self.amPM.textContent =\r\n                        self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\r\n                }\r\n                input.value = pad(newValue);\r\n            }\r\n        }\r\n        init();\r\n        return self;\r\n    }\r\n    /* istanbul ignore next */\r\n    function _flatpickr(nodeList, config) {\r\n        // static list\r\n        var nodes = Array.prototype.slice\r\n            .call(nodeList)\r\n            .filter(function (x) { return x instanceof HTMLElement; });\r\n        var instances = [];\r\n        for (var i = 0; i < nodes.length; i++) {\r\n            var node = nodes[i];\r\n            try {\r\n                if (node.getAttribute(\"data-fp-omit\") !== null)\r\n                    continue;\r\n                if (node._flatpickr !== undefined) {\r\n                    node._flatpickr.destroy();\r\n                    node._flatpickr = undefined;\r\n                }\r\n                node._flatpickr = FlatpickrInstance(node, config || {});\r\n                instances.push(node._flatpickr);\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        return instances.length === 1 ? instances[0] : instances;\r\n    }\r\n    /* istanbul ignore next */\r\n    if (typeof HTMLElement !== \"undefined\") {\r\n        // browser env\r\n        HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\r\n            return _flatpickr(this, config);\r\n        };\r\n        HTMLElement.prototype.flatpickr = function (config) {\r\n            return _flatpickr([this], config);\r\n        };\r\n    }\r\n    /* istanbul ignore next */\r\n    var flatpickr = function (selector, config) {\r\n        if (typeof selector === \"string\") {\r\n            return _flatpickr(window.document.querySelectorAll(selector), config);\r\n        }\r\n        else if (selector instanceof Node) {\r\n            return _flatpickr([selector], config);\r\n        }\r\n        else {\r\n            return _flatpickr(selector, config);\r\n        }\r\n    };\r\n    /* istanbul ignore next */\r\n    flatpickr.defaultConfig = defaults;\r\n    flatpickr.l10ns = {\r\n        en: __assign({}, english),\r\n        \"default\": __assign({}, english)\r\n    };\r\n    flatpickr.localize = function (l10n) {\r\n        flatpickr.l10ns[\"default\"] = __assign({}, flatpickr.l10ns[\"default\"], l10n);\r\n    };\r\n    flatpickr.setDefaults = function (config) {\r\n        flatpickr.defaultConfig = __assign({}, flatpickr.defaultConfig, config);\r\n    };\r\n    flatpickr.parseDate = createDateParser({});\r\n    flatpickr.formatDate = createDateFormatter({});\r\n    flatpickr.compareDates = compareDates;\r\n    /* istanbul ignore next */\r\n    if (typeof jQuery !== \"undefined\") {\r\n        jQuery.fn.flatpickr = function (config) {\r\n            return _flatpickr(this, config);\r\n        };\r\n    }\r\n    Date.prototype.fp_incr = function (days) {\r\n        return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\r\n    };\r\n    if (typeof window !== \"undefined\") {\r\n        window.flatpickr = flatpickr;\r\n    }\r\n\r\n    return flatpickr;\r\n\r\n});\r\n"]}