{"version":3,"sources":["vendors/fast-json-patch/helpers.js"],"names":["define","__extends","this","d","b","p","hasOwnProperty","__","constructor","prototype","Object","create","_hasOwnProperty","obj","key","call","_objectKeys","Array","isArray","keys","length","k","i","push","escapePathComponent","path","indexOf","replace","_getPathRecursive","root","found","PatchError","_super","message","name","index","operation","tree","Error","hasUndefined","undefined","len","objKeys","objKeysLength","getPath","unescapePathComponent","isInteger","str","charCode","charCodeAt","_deepClone","JSON","parse","stringify"],"mappings":"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","file":"../../../vendors/fast-json-patch/helpers.js","sourcesContent":["define([],function(){\r\n    var __extends = (this && this.__extends) || function (d, b) {\r\n        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n    /*!\r\n     * https://github.com/Starcounter-Jack/JSON-Patch\r\n     * (c) 2017 Joachim Wester\r\n     * MIT license\r\n     */\r\n    var _hasOwnProperty = Object.prototype.hasOwnProperty;\r\n    function hasOwnProperty(obj, key) {\r\n        return _hasOwnProperty.call(obj, key);\r\n    }\r\n    function _objectKeys(obj) {\r\n        if (Array.isArray(obj)) {\r\n            var keys = new Array(obj.length);\r\n            for (var k = 0; k < keys.length; k++) {\r\n                keys[k] = \"\" + k;\r\n            }\r\n            return keys;\r\n        }\r\n        if (Object.keys) {\r\n            return Object.keys(obj);\r\n        }\r\n        var keys = [];\r\n        for (var i in obj) {\r\n            if (hasOwnProperty(obj, i)) {\r\n                keys.push(i);\r\n            }\r\n        }\r\n        return keys;\r\n    }\r\n    ;\r\n    /**\r\n    * Deeply clone the object.\r\n    * https://jsperf.com/deep-copy-vs-json-stringify-json-parse/25 (recursiveDeepCopy)\r\n    * @param  {any} obj value to clone\r\n    * @return {any} cloned obj\r\n    */\r\n    function _deepClone(obj) {\r\n        switch (typeof obj) {\r\n            case \"object\":\r\n                return JSON.parse(JSON.stringify(obj)); //Faster than ES5 clone - http://jsperf.com/deep-cloning-of-objects/5\r\n            case \"undefined\":\r\n                return null; //this is how JSON.stringify behaves for array items\r\n            default:\r\n                return obj; //no need to clone primitives\r\n        }\r\n    }\r\n    //3x faster than cached /^\\d+$/.test(str)\r\n    function isInteger(str) {\r\n        var i = 0;\r\n        var len = str.length;\r\n        var charCode;\r\n        while (i < len) {\r\n            charCode = str.charCodeAt(i);\r\n            if (charCode >= 48 && charCode <= 57) {\r\n                i++;\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n    * Escapes a json pointer path\r\n    * @param path The raw pointer\r\n    * @return the Escaped path\r\n    */\r\n    function escapePathComponent(path) {\r\n        if (path.indexOf('/') === -1 && path.indexOf('~') === -1)\r\n            return path;\r\n        return path.replace(/~/g, '~0').replace(/\\//g, '~1');\r\n    }\r\n    /**\r\n     * Unescapes a json pointer path\r\n     * @param path The escaped pointer\r\n     * @return The unescaped path\r\n     */\r\n    function unescapePathComponent(path) {\r\n        return path.replace(/~1/g, '/').replace(/~0/g, '~');\r\n    }\r\n    function _getPathRecursive(root, obj) {\r\n        var found;\r\n        for (var key in root) {\r\n            if (hasOwnProperty(root, key)) {\r\n                if (root[key] === obj) {\r\n                    return escapePathComponent(key) + '/';\r\n                }\r\n                else if (typeof root[key] === 'object') {\r\n                    found = _getPathRecursive(root[key], obj);\r\n                    if (found != '') {\r\n                        return escapePathComponent(key) + '/' + found;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return '';\r\n    }\r\n    function getPath(root, obj) {\r\n        if (root === obj) {\r\n            return '/';\r\n        }\r\n        var path = _getPathRecursive(root, obj);\r\n        if (path === '') {\r\n            throw new Error(\"Object not found in root\");\r\n        }\r\n        return '/' + path;\r\n    }\r\n    /**\r\n    * Recursively checks whether an object has any undefined values inside.\r\n    */\r\n    function hasUndefined(obj) {\r\n        if (obj === undefined) {\r\n            return true;\r\n        }\r\n        if (obj) {\r\n            if (Array.isArray(obj)) {\r\n                for (var i = 0, len = obj.length; i < len; i++) {\r\n                    if (hasUndefined(obj[i])) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            else if (typeof obj === \"object\") {\r\n                var objKeys = _objectKeys(obj);\r\n                var objKeysLength = objKeys.length;\r\n                for (var i = 0; i < objKeysLength; i++) {\r\n                    if (hasUndefined(obj[objKeys[i]])) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    var PatchError = (function (_super) {\r\n        __extends(PatchError, _super);\r\n        function PatchError(message, name, index, operation, tree) {\r\n            _super.call(this, message);\r\n            this.message = message;\r\n            this.name = name;\r\n            this.index = index;\r\n            this.operation = operation;\r\n            this.tree = tree;\r\n        }\r\n        return PatchError;\r\n    }(Error));\r\n\r\n    return {\r\n        hasOwnProperty,\r\n        PatchError,\r\n        hasUndefined,\r\n        getPath,\r\n        unescapePathComponent,\r\n        escapePathComponent,\r\n        isInteger,\r\n        _objectKeys,\r\n        _deepClone,\r\n        _getPathRecursive\r\n    };\r\n\r\n});"]}