{"version":3,"sources":["components/content/Content.js"],"names":["define","Component","_","ContentComponent","[object Object]","extend","schema","label","type","key","input","html","builderInfo","title","group","icon","preview","documentation","weight","defaultSchema","content","this","builderMode","component","submission","get","root","interpolate","metadata","data","rootValue","row","super","render","renderTemplate","tag","attrs","element","loadRefs","refreshOnChange","on","refs","setContent","attach","emptyValue"],"mappings":";;;;;;;AAAAA,QACI,kCACA,kBACD,SAAUC,EAAWC,GACpB,aACA,aAAaC,UAAyBF,EAClCG,iBAAiBC,GACb,OAAOJ,EAAUK,QACbC,MAAO,UACPC,KAAM,UACNC,IAAK,UACLC,OAAO,EACPC,KAAM,OACJN,GAEVO,yBACI,OACIC,MAAO,UACPC,MAAO,SACPC,KAAM,QACNC,SAAS,EACTC,cAAe,mDACfC,OAAQ,EACRZ,OAAQH,EAAiBG,UAGjCa,oBACI,OAAOhB,EAAiBG,SAE5Bc,cACI,GAAIC,KAAKC,YACL,OAAOD,KAAKE,UAAUZ,KAE1B,MAAMa,EAAatB,EAAEuB,IAAIJ,KAAKK,KAAM,iBACpC,OAAOL,KAAKE,UAAUZ,KAAOU,KAAKM,YAAYN,KAAKE,UAAUZ,MACzDiB,SAAUJ,EAAWI,aACrBJ,WAAYA,EACZK,KAAMR,KAAKS,UACXC,IAAKV,KAAKQ,OACT,GAETzB,SACI,OAAO4B,MAAMC,OAAOZ,KAAKa,eAAe,QACpCC,IAAK,MACLC,SACAhB,QAASC,KAAKD,WAGtBhB,OAAOiC,GASH,OARAhB,KAAKiB,SAASD,GAAW1B,KAAM,WAC3BU,KAAKE,UAAUgB,iBACflB,KAAKmB,GAAG,SAAU,KACVnB,KAAKoB,KAAK9B,MACVU,KAAKqB,WAAWrB,KAAKoB,KAAK9B,KAAMU,KAAKD,WAE1C,GAEAY,MAAMW,OAAON,GAExBO,iBACI,MAAO","file":"../../../components/content/Content.js","sourcesContent":["define([\n    '../_classes/component/Component',\n    'skylark-lodash'\n], function (Component, _) {\n    'use strict';\n    return class ContentComponent extends Component {\n        static schema(...extend) {\n            return Component.schema({\n                label: 'Content',\n                type: 'content',\n                key: 'content',\n                input: false,\n                html: ''\n            }, ...extend);\n        }\n        static get builderInfo() {\n            return {\n                title: 'Content',\n                group: 'layout',\n                icon: 'html5',\n                preview: false,\n                documentation: 'http://help.form.io/userguide/#content-component',\n                weight: 5,\n                schema: ContentComponent.schema()\n            };\n        }\n        get defaultSchema() {\n            return ContentComponent.schema();\n        }\n        get content() {\n            if (this.builderMode) {\n                return this.component.html;\n            }\n            const submission = _.get(this.root, 'submission', {});\n            return this.component.html ? this.interpolate(this.component.html, {\n                metadata: submission.metadata || {},\n                submission: submission,\n                data: this.rootValue,\n                row: this.data\n            }) : '';\n        }\n        render() {\n            return super.render(this.renderTemplate('html', {\n                tag: 'div',\n                attrs: [],\n                content: this.content\n            }));\n        }\n        attach(element) {\n            this.loadRefs(element, { html: 'single' });\n            if (this.component.refreshOnChange) {\n                this.on('change', () => {\n                    if (this.refs.html) {\n                        this.setContent(this.refs.html, this.content);\n                    }\n                }, true);\n            }\n            return super.attach(element);\n        }\n        get emptyValue() {\n            return '';\n        }\n    };\n});"]}